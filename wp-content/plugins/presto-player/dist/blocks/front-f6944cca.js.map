{"version":3,"sources":["webpack:///./packages/components/dist/custom-elements/index.js","webpack:///./packages/components/node_modules/@stencil/core/internal/client lazy ^\\.\\/.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///./src/front/index.js"],"names":["PrestoActionBar$1","__registerHost","attachShadow","show","youtubeRenderKey","this","handleDuration","newVal","oldVal","console","log","button_count","enabled","_a","_b","window","wp","blocks","current","duration","showAfter","percent","timePassed","currentTime","config","percentage_start","_c","_d","button_type","youtube","channelId","h","key","channel","showCount","_e","_f","_g","_h","_j","_k","_l","type","size","href","button_link","url","target","opensInNewTab","style","Object","assign","button_radius","button_color","button_text_color","button_text","open","background_color","text","slot","youtubeButton","customButton","HTMLElement","PrestoActionBarUi$1","class","part","name","PrestoBunny$1","poster","thumbnail","getRef","player","autoplay","preload","playsinline","src","tracks","fitText","el","kompressor","options","settings","obj","ext","hasOwnProperty","extend$1","minFontSize","maxFontSize","fit","compressor","resizer","fontSize","Math","max","min","clientWidth","parseFloat","module","then","ResizeObserver","observe","length","i","PrestoEmailOverlay$1","playVideo","createEvent","status","localStorage","setItem","JSON","stringify","videoId","getItem","_","old","on","getStorage","pause","preset","email_collection","handleTime","checkTime","percentage","a","fetch","prestoPlayer","ajaxurl","e","loading","error","getNonce","response","json","nonce","data","method","body","URLSearchParams","action","preset_id","id","video_id","detail","success","setStorage","emit","direction","headline","defaultHeadline","i18n","emailDefaultHeadline","bottomText","bottom_text","allowSkip","allow_skip","skipText","skip","buttonText","placeholder","emailPlaceholder","isLoading","errorMessage","onSubmitForm","submit","onSkip","EmailOverlayUI","submitForm","email","preventDefault","textInput","value","ref","onSubmit","handleSubmit","onInput","event","handleChange","required","innerHTML","onClick","PrestoMutedOverlay$1","mutedPreview","viewBox","d","mutedOverlay","width","left","focalPoint","x","top","y","transform","ownKeys$1","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2$1","arguments","source","forEach","_defineProperty$2","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","Symbol","iterator","constructor","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","_classCallCheck$1","instance","Constructor","TypeError","_defineProperties$1","props","descriptor","configurable","writable","_createClass$1","protoProps","staticProps","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","_s","_arr","_n","next","err","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","o","minLen","n","toString","slice","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","return","_defineProperty$1","t","_defineProperties","_defineProperty","ownKeys","_objectSpread2","defaults$1","addCSS","thumbWidth","watch","matches$1","document","querySelectorAll","includes","getConstructor$1","instanceOf$1","isNullOrUndefined$1","isObject$1","isString$1","String","isArray$1","isNodeList$1","NodeList","is$1","Element","Event","round","concat","match","getDecimalPlaces","toFixed","RangeTouch","_classCallCheck","element","querySelector","rangeTouch","init","_createClass","userSelect","webKitUserSelect","touchAction","listeners","set","changedTouches","r","getAttribute","l","getBoundingClientRect","c","clientX","disabled","get","bubbles","dispatchEvent","trigger","MutationObserver","addedNodes","childList","subtree","map","documentElement","getConstructor","instanceOf","Boolean","isNullOrUndefined","isObject","isString","isFunction","Function","isNodeList","isEmpty","is","Number","isNaN","nodeType","ownerDocument","KeyboardEvent","TextTrack","kind","URL","startsWith","hostname","transitionEndEvent","createElement","WebkitTransition","MozTransition","OTransition","transition","find","repaint","setTimeout","hidden","browser","isIE","documentMode","isEdge","navigator","userAgent","isWebkit","isIPhone","platform","isIos","getDeep","split","reduce","extend","undefined","_len","_key","shift","wrap","reverse","cloneNode","parentNode","nextSibling","appendChild","insertBefore","setAttributes","entries","_ref","_ref3","_ref4","setAttribute","innerText","insertElement","removeElement","removeChild","emptyElement","childNodes","lastChild","replaceElement","replaceChild","getAttributesFromSelector","trim","replace","charAt","toggleHidden","toggleClass","classList","contains","hasClass","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","getElements","elements","container","getElement","setFocus","focus","preventScroll","classNames","tabFocus","defaultCodecs","support","audio","video","check","api","ui","rangeInput","pip","webkitSetPresentationMode","pictureInPictureEnabled","disablePictureInPicture","airplay","WebKitPlaybackTargetAvailabilityEvent","mime","isHTML5","media","canPlayType","textTracks","touch","transitions","reducedMotion","matchMedia","supportsPassiveListeners","addEventListener","removeEventListener","toggleListener","_this","passive","capture","eventListeners","callback","off","once","_this2","_len2","_key2","triggerEvent","CustomEvent","plyr","unbindListeners","ready","_this3","silencePromise","validateRatio","every","reduceAspectRatio","getAspectRatio","ratio","embed","_this$media","videoWidth","videoHeight","setAspectRatio","isVideo","wrapper","_ref6","paddingBottom","isVimeo","vimeo","premium","supported","_e3","offsetWidth","parseInt","getComputedStyle","fullscreen","active","toggle","videoFixedRatio","padding","html5","getSources","_this4","getQualityOptions","quality","forced","setup","speed","onChange","_e$media","paused","readyState","playbackRate","play","load","cancelRequests","blankVideo","debug","dedupe","generateId","floor","random","format","_len3","_key3","replaceAll","RegExp","toTitleCase","toUpperCase","substr","toLowerCase","toPascalCase","getHTML","resources","seekTime","title","_ref7","_ref8","Storage","_this5","parse","storage","removeItem","fetch$1","XMLHttpRequest","responseText","Error","responseType","send","_loadSprite","getElementById","insertAdjacentElement","_e4","_t2","content","catch","getHours","trunc","getSeconds","_formatTime","controls","getIconUrl","iconUrl","location","host","svg4everybody","cors","findElements","selectors","buttons","restart","rewind","fastForward","mute","captions","progress","inputs","seek","volume","display","buffer","seekTooltip","tooltip","warn","toggleNativeControls","createIcon","iconPrefix","createElementNS","focusable","setAttributeNS","createLabel","join","createBadge","menu","badge","createButton","_this6","toCamelCase","label","icon","labelPressed","iconPressed","some","control","createRange","autocomplete","role","updateRangeFill","createProgress","_t3","played","createTime","time","bindMenuItemShortcuts","_this7","which","stopPropagation","_t4","showMenuPanel","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","focusFirstMenuItem","createMenuItem","_ref9","_this8","list","_ref9$badge","_ref9$checked","checked","children","bind","currentTrack","formatTime","updateTimeDisplay","updateVolume","setRange","muted","pressed","updateProgress","_this9","getPercentage","_e5","getElementsByTagName","nodeValue","buffered","_e6","_e7","setProperty","updateSeekTooltip","_this10","tooltips","pageX","timeUpdate","invertTime","seeking","durationUpdate","pow","displayDuration","toggleMenuButton","updateSetting","panels","default","getLabel","_e8","setQualityMenu","_this11","checkMenu","sort","setCaptionsMenu","_this12","getTracks","toggled","language","unshift","setSpeedMenu","_this13","minimumSpeed","maximumSpeed","values","popup","toggleMenu","_s2","composedPath","getMenuSize","position","opacity","removeAttribute","scrollWidth","scrollHeight","height","_this14","_e9","_t5","propertyName","setDownloadUrl","download","create","_this15","u","_t6","_i2","_e10","_t7","_i3","_s3","_n2","_r2","_o","home","_e11","_t8","urls","isEmbed","provider","inject","_this16","loadSprite","_e12","seektime","_ref10","_ref11","_e13","controlPressed","_this$config","_e14","_t9","_i4","labels","_s4","parseUrl","_e15","buildUrlParams","_ref12","_ref13","isYouTube","insertAfter","_e16","protocol","createObjectURL","languages","userLanguage","_e19","update","_this17","_this$captions","meta","currentTrackNode","mode","updateCues","setLanguage","_this18","_e20","_t10","findTrack","_ref14","enableTextTrack","_this19","has","_this20","getCurrentTrack","_e21","activeCues","getCueAsHTML","_e22","caption","defaults","autopause","toggleInvert","clickToPlay","hideControls","resetOnEnd","disableContextMenu","loop","selected","keyboard","focused","global","fallback","iosNative","seekLabel","unmute","enableCaptions","disableCaptions","enterFullscreen","exitFullscreen","frameTitle","menuBack","normal","start","end","all","reset","advertisement","qualityBadge","2160","1440","1080","720","576","480","auto","sdk","iframe","googleIMA","events","editable","embedContainer","posterEnabled","ads","playing","stopped","hover","cues","isTouch","uiSupported","noTransition","previewThumbnails","thumbContainer","thumbContainerShown","imageContainer","timeContainer","scrubbingContainer","scrubbingContainerShown","attributes","publisherId","tagUrl","byline","portrait","transparent","customControls","referrerPolicy","rel","showinfo","iv_load_policy","modestbranding","noCookie","providers","types","noop","Console","Fullscreen","_this21","scrollPosition","scrollX","scrollY","scrollTo","overflow","head","cleanupViewport","keyCode","activeElement","shiftKey","_e23","forceFallback","native","requestFullscreen","webkitEnterFullscreen","toggleFallback","prefix","property","navigationUI","webkitExitFullscreen","_e24","cancelFullScreen","exit","enter","closest","parentElement","closest$1","proxy","trapFocus","fullscreenElement","shadowRoot","getRootNode","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","loadImage","Image","onload","onerror","naturalWidth","addStyleHook","build","_this22","checkPlaying","setTitle","setPoster","_e25","togglePoster","_this23","backgroundImage","backgroundSize","_this24","toggleControls","checkLoading","_this25","clearTimeout","timers","lastSeekTime","Date","now","migrateStyles","_this26","getPropertyValue","removeProperty","Listeners","_this27","focusTimer","lastKeyDown","timeStamp","handleKey","firstTouch","setTabFocus","resized","_e$fullscreen","usingNative","firstChild","_getAspectRatio$call2","maxWidth","margin","isAudio","_i6","ended","togglePlay","_i$detail","forward","toggleCaptions","currentTarget","hasAttribute","_t12","loaded","startMove","endMove","startScrubbing","endScrubbing","webkitDirectionInvertedFromDevice","_map2","deltaX","deltaY","sign","abs","increaseVolume","lastKey","altKey","ctrlKey","metaKey","_n4","_s5","decreaseVolume","loadjs_umd","exports","createCommonjsModule","splice","async","numRetries","before","m","relList","as","onbeforeload","sheet","cssText","code","defaultPrevented","_s6","returnPromise","isDefined","loadScript","assurePlaybackState$1","hasPlayed","Vimeo","_this28","sidedock","gesture","$2","parseId$1","_t13","thumbnail_url","Player","disableTextTrack","stop","setVolume","setCurrentTime","setPlaybackRate","p","g","setLoop","getVideoUrl","getVideoWidth","getVideoHeight","_t14","setAutopause","getVideoTitle","getCurrentTime","getDuration","getTextTracks","_ref15","_ref15$cues","createDocumentFragment","stripHTML","getPaused","seconds","assurePlaybackState","getHost","_this29","YT","onYouTubeIframeAPIReady","getTitle","_this30","parseId","_t15","playerVars","hl","disablekb","cc_load_policy","cc_lang_pref","widget_referrer","onError","_i7","_s7","2","5","100","101","150","message","onPlaybackRateChange","getPlaybackRate","onReady","pauseVideo","stopVideo","seekTo","getAvailablePlaybackRates","clearInterval","buffering","setInterval","getVideoLoadedFraction","lastBuffered","onStateChange","unMute","Ads","_this31","google","ima","manager","destroy","displayContainer","remove","startSafetyTimer","managerPromise","clearSafetyTimer","setupIMA","setVpaidMode","ImaSdkSettings","VpaidMode","ENABLED","setLocale","setDisableCustomPlaybackForIOS10Plus","AdDisplayContainer","loader","AdsLoader","AdsManagerLoadedEvent","Type","ADS_MANAGER_LOADED","onAdsManagerLoaded","AdErrorEvent","AD_ERROR","onAdError","requestAds","AdsRequest","adTagUrl","linearAdSlotWidth","linearAdSlotHeight","offsetHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","forceNonLinearFullSlot","setAdWillPlayMuted","countdownTimer","getRemainingTime","AdsRenderingSettings","restoreCustomPlaybackStateOnAdBreakComplete","enablePreloading","getAdsManager","cuePoints","getCuePoints","AdEvent","onAdEvent","getAd","getAdData","LOADED","pollCountdown","isLinear","STARTED","ALL_ADS_COMPLETED","loadAds","contentComplete","CONTENT_PAUSE_REQUESTED","pauseContent","CONTENT_RESUME_REQUESTED","resumeContent","LOG","adError","getMessage","cancel","addCuePoints","discardAdBreak","resize","ViewMode","NORMAL","initialize","initialized","zIndex","_len4","_key4","safetyTimer","AV_PUBLISHERID","AV_CHANNELID","AV_URL","cb","AV_WIDTH","AV_HEIGHT","AV_CDIM2","parseVtt","startTime","_t18","_t16$1$split2","_t16","w","_t19","endTime","fitRatio","PreviewThumbnails","_this32","getThumbnails","render","determineContainerAutoSizing","thumbnails","_e26","getThumbnail","frames","urlPrefix","substring","lastIndexOf","naturalHeight","mousePosX","thumb","showImageAtCurrentTime","toggleThumbContainer","button","mouseDown","toggleScrubbingContainer","ceil","lastTime","scrubbing","setScrubbingContainerSize","setThumbContainerSizeAndPos","findIndex","loadedImages","showingThumb","currentImageElement","dataset","filename","showImage","index","removeOldImages","loadingImage","usingSprites","_i8","showingThumbFilename","setImageSizeAndOffset","currentImageContainer","preloadNearby","getHigherQuality","tagName","deleting","_e27","_s8","_n5","thumbContainerHeight","clientHeight","sizeSpecifiedInCSS","_e29","thumbAspectRatio","_e30","_e31","setThumbContainerPos","right","_fitRatio","lastMouseMoveTime","currentScrubbingImageElement","currentThumbnailImageElement","insertElements","_this33","change","_this34","sources","_t20$","_t20$$provider","crossorigin","_window$1","_window$prestoPlayer$1","_window$prestoPlayer$$1","_window2","_window2$prestoPlayer","_window2$prestoPlayer2","Plyr","_this35","webkitShowPlaybackTargetPicker","_t21","_i9","_s9","_e32","original","unload","failed","jQuery","WeakMap","getProviderByUrl","className","search","_e33","searchParams","tabindex","mozHasAudio","webkitAudioDecodedByteCount","audioTracks","_this36","clamp","_e34","currentSrc","_this$captions2","webkitPresentationMode","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","saveTime","_player$config2","_player$config2$muted","_player$config5","save_player_position","getId","updateTime","saveProgress","resumeProgress","_player$config","_player$config$blockA","blockAttributes","_player$config3","_player$config4","_player$config4$muted","getTime","hls","startLoad","cloneDeep","_window","_window$prestoPlayer","_window$prestoPlayer$","player$1","hideChapters","hide_chapters","showChapters","show_chapters","toc","chapters","addChapterControl","_player","$wrapper","$playerTimeline","$tocContainer","$tocListContainer","$button","$tocCover","$timeline","$allChapters","$controls","$items","checker","wait","formatted","chapter","pieces","formatChapters","$appendButton","appendTo","order","$timelineWrapper","timestamp","$item","_ref$name","_ref$order","_ref$highlight","highlight","tocItem","toggleToc","addChapterTimelineMarkers","currentChapter","maybeAddMarkers","onTocMouseOut","timeout","passedNumbers","item","currentChapterIndex","removeClass","addClass","$marker","_ref$position","marker","prependTo","attr","setControls","pl","addParentClass","removeParentClass","_e$detail","_e$detail$plyr","_e$detail$plyr$elemen","_e$detail2","_e$detail2$plyr","_e$detail2$plyr$eleme","videoData$1","video_current_time","video_provider","video_duration","video_url","video_title","videoStart","gtag","videoPause","_window3","videoLoad","_window4","watched","25","50","75","videoTime","_window5","namespace$1","nonce$1","wpTracking","analytics","hooks","hasAction","addAction","newNonce","sendVideoData","sendData","videoData","_window3$prestoPlayer","_player2","_player2$config","formData","FormData","append","debug_navigator","ajax","dataType","cache","sendBeacon","isPremium","gaTracking","customLogo","_player$elements","logo","logo_added","actions","doAction","visibilityState","visit_time","ajaxProgress","automations","sendTimeUpdate","0","10","20","30","40","60","70","80","90","result","fetching","fetched","statusText","finally","ua","handleFullScreen","elem","Node","ELEMENT_NODE","add","_player$fullscreen","_player$fullscreen2","menuSizing","fn","mark","_callee","_player$elements2","ro","_context","prev","sent","_step","_iterator","entry","cr","contentRect","css","maxHeight","abrupt","_player$elements3","_player$elements4","self","args","_x","PrestoPlayer$2","plugin_url","learndash_video_data","learnDash","_tutorobject","tutor","isAdmin","createPlayer","selector","pop","getFileExtension","customCSS","createTextNode","PrestoPlayer$1","shouldLazyLoad","func","sticky_scroll","isSticky","rect","parents","nodeName","getParents","parent","branding","provider_video_id","playerSettings","auto_hide","captions_enabled","logo_width","hide_logo","lazy_load_youtube","playsInline","reset_on_end","applyFilters","playerEl","getConfig","getPlayerData","originalConfig","val","savePosition","onPlay","mutedAutoplay","playClass","onReload","shouldLazyLoadVideo","handlePlayerEvents","syncVideoHeight","onPlayVideo","ev","lazyLoad","bunny","onRewatchVideo","logged_in","action_bar","sticky_scroll_position","Host","dir","stickyPositionClass","skin","hide_youtube","caption_style","renderCTA","renderEmailOverlay","renderVideo","renderActionBar","renderMutedOverlay","Fragment","PrestoPlayerButton$1","prestoBlur","prestoFocus","hasFocus","hasLabel","hasPrefix","hasSuffix","full","handleSlotChange","click","blur","isLink","interior","onSlotchange","onBlur","handleBlur","onFocus","handleFocus","handleClick","link","PrestoVideo$1","track","srclang","srcLang","PrestoVimeo$1","exec","allowFullScreen","allowTransparency","allow","PrestoYoutube$1","reload","fixes","reloadPlayer","standalone","safari","ios","isWebView","setWebView","allowtransparency","loadPlayer","PrestoYoutubeSubscribeButton$1","layout","interval","gapi","ytsubscribe","po","waitForApi","count","PrestoActionBar","proxyCustomElement","PrestoActionBarUi","PrestoBunny","PrestoEmailOverlay","PrestoEmailOverlayUi","PrestoMutedOverlay","PrestoPlayer","PrestoPlayerButton","PrestoVideo","PrestoVimeo","PrestoYoutube","PrestoYoutubeSubscribeButton","webpackEmptyAsyncContext","req","customElements","define"],"mappings":"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","file":"blocks/front-f6944cca.js","sourcesContent":["import { attachShadow, h, createEvent, Host, proxyCustomElement } from '@stencil/core/internal/client';\nexport { setAssetPath, setPlatformOptions } from '@stencil/core/internal/client';\n\n/**\n * Find out if time is passed.\n * @returns boolean\n */\nfunction timePassed({ current, duration, showAfter }) {\n  if (current === showAfter) {\n    return true;\n  }\n  let percent = (current / duration) * 100;\n  if (99.9 < percent) {\n    percent = 100;\n  }\n  return percent >= showAfter;\n}\n\nconst prestoActionBarCss = \":host{display:block}\";\n\nconst PrestoActionBar$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n    this.show = false;\n    this.youtubeRenderKey = 1;\n  }\n  componentWillLoad() {\n    this.handleDuration();\n  }\n  handleButtonCountChange(newVal, oldVal) {\n    console.log(newVal);\n    if ((newVal === null || newVal === void 0 ? void 0 : newVal.button_count) !== (oldVal === null || oldVal === void 0 ? void 0 : oldVal.button_count)) {\n      this.youtubeRenderKey++;\n    }\n    if (newVal === null || newVal === void 0 ? void 0 : newVal.enabled) {\n      this.handleDuration();\n    }\n  }\n  /**\n   * Wait for duration to start before checking time\n   * @returns void\n   */\n  handleDuration() {\n    var _a, _b;\n    if ((_a = window === null || window === void 0 ? void 0 : window.wp) === null || _a === void 0 ? void 0 : _a.blocks) {\n      this.show = true;\n      return;\n    }\n    this.show = timePassed({\n      current: this.currentTime,\n      duration: this.duration,\n      showAfter: ((_b = this.config) === null || _b === void 0 ? void 0 : _b.percentage_start) || 0,\n    });\n  }\n  youtubeButton() {\n    var _a, _b, _c, _d;\n    if (((_a = this.config) === null || _a === void 0 ? void 0 : _a.button_type) !== 'youtube' || !((_b = this.youtube) === null || _b === void 0 ? void 0 : _b.channelId)) {\n      return;\n    }\n    return h(\"presto-youtube-subscribe-button\", { key: this.youtubeRenderKey, channel: (_c = this.youtube) === null || _c === void 0 ? void 0 : _c.channelId, showCount: (_d = this.config) === null || _d === void 0 ? void 0 : _d.button_count });\n  }\n  customButton() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    if (((_a = this.config) === null || _a === void 0 ? void 0 : _a.button_type) !== 'custom') {\n      return;\n    }\n    return (h(\"presto-player-button\", { type: \"primary\", size: \"small\", href: (_c = (_b = this.config) === null || _b === void 0 ? void 0 : _b.button_link) === null || _c === void 0 ? void 0 : _c.url, target: ((_e = (_d = this.config) === null || _d === void 0 ? void 0 : _d.button_link) === null || _e === void 0 ? void 0 : _e.opensInNewTab) ? '_blank' : '_self', style: Object.assign(Object.assign({ '--presto-player-button-border-radius': `${(_f = this.config) === null || _f === void 0 ? void 0 : _f.button_radius}px` }, (((_g = this.config) === null || _g === void 0 ? void 0 : _g.button_color)\n        ? {\n          '--presto-player-button-color': `${(_h = this.config) === null || _h === void 0 ? void 0 : _h.button_color}`,\n        }\n        : {})), (((_j = this.config) === null || _j === void 0 ? void 0 : _j.button_text_color)\n        ? {\n          '--presto-player-button-text': `${(_k = this.config) === null || _k === void 0 ? void 0 : _k.button_text_color}`,\n        }\n        : {})) }, (_l = this.config) === null || _l === void 0 ? void 0 : _l.button_text));\n  }\n  render() {\n    var _a, _b;\n    return (h(\"presto-action-bar-ui\", { open: this.show, style: {\n        '--presto-action-bar-background': ((_a = this.config) === null || _a === void 0 ? void 0 : _a.background_color) || '#1d1d1d',\n      } }, (_b = this.config) === null || _b === void 0 ? void 0 :\n      _b.text, h(\"div\", { slot: \"button\" }, this.youtubeButton(), this.customButton())));\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"config\": [\"handleButtonCountChange\"],\n    \"currentTime\": [\"handleDuration\"],\n    \"duration\": [\"handleDuration\"]\n  }; }\n  static get style() { return prestoActionBarCss; }\n};\n\nconst prestoActionBarUiCss = \":host{display:block;overflow:hidden}.bar{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;background:var(--presto-action-bar-background, #1d1d1d);color:#fff;padding:0 var(--presto-action-bar-padding, 6px);line-height:1em;font-size:16px;margin-top:-100%;transition:margin var(--presto-action-bar-animation-speed, 0.5s) ease-in-out;transform:translate3d(0)}.bar.bar--open{margin-top:0}.bar__button{margin:var(--presto-action-bar-padding, 6px);display:flex;align-items:center}.bar__content{margin:var(--presto-action-bar-padding, 6px);width:100%;text-align:center}@media screen and (min-width: 480px){.bar__content{width:auto}}\";\n\nconst PrestoActionBarUi$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n  }\n  render() {\n    return (h(\"div\", { class: {\n        'bar': true,\n        'bar--open': this.open,\n      } }, h(\"span\", { part: \"content\", class: \"bar__content\" }, h(\"slot\", null)), h(\"span\", { part: \"button\", class: \"bar__button\" }, h(\"slot\", { name: \"button\" }))));\n  }\n  static get style() { return prestoActionBarUiCss; }\n};\n\nconst PrestoBunny$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n  }\n  componentWillLoad() {\n    this.poster = this.poster || this.thumbnail; // maybe add bunny thumbnail\n  }\n  render() {\n    return (h(\"presto-video\", { getRef: this.getRef, player: this.player, autoplay: this.autoplay, preload: this.preload, poster: this.poster, playsinline: this.playsinline, src: this.src, tracks: this.tracks }));\n  }\n};\n\nconst prestoCtaOverlayCss = \":host{display:block}\";\n\nconst PrestoCTAOverlay = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.playVideo = createEvent(this, \"playVideo\", 7);\n    this.rewatchVideo = createEvent(this, \"rewatchVideo\", 7);\n    this.percentagePassed = 0;\n  }\n  componentWillLoad() {\n    this.handleDuration();\n  }\n  /**\n   * Find out if time is passed.\n   * @returns boolean\n   */\n  timePassed({ current, duration, showAfter }) {\n    if (current === showAfter) {\n      return true;\n    }\n    let percent = (current / duration) * 100;\n    if (99.9 < percent) {\n      percent = 100;\n    }\n    return percent >= showAfter;\n  }\n  handlePlayerInit(_, old) {\n    // only the first time\n    if (old) {\n      return;\n    }\n    // don't allow player to be played if email overlay is showing\n    this.player.on('play playing timeupdate', () => {\n      // skipped\n      if (this.skipped) {\n        return;\n      }\n      // pause if enabled\n      if (this.show) {\n        this.player.pause();\n      }\n    });\n    this.player.on('ended', () => {\n      var _a, _b;\n      this.ended = true;\n      if (((_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.cta) === null || _b === void 0 ? void 0 : _b.percentage) === 100) {\n        if (!this.enabled) {\n          return;\n        }\n        if (this.skipped) {\n          return;\n        }\n        this.show = true;\n      }\n    });\n  }\n  /**\n   * Wait for duration to start before checking time\n   * @returns void\n   */\n  handleDuration() {\n    var _a, _b;\n    this.enabled = this.skipped ? false : (_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.cta) === null || _b === void 0 ? void 0 : _b.enabled;\n    this.handleTime();\n  }\n  handlePercentagePassed() {\n    this.percentagePassed = (this.currentTime / this.duration) * 100;\n  }\n  handlePercentagePassedChange() {\n    this.ended = this.percentagePassed >= 99.9;\n  }\n  /**\n   * When current time changes, check to see if we should\n   * enable the overlay\n   * @returns void\n   */\n  handleTime() {\n    var _a, _b;\n    if (!this.enabled) {\n      return;\n    }\n    if (this.skipped) {\n      return;\n    }\n    // we'll catch this on ended event\n    if (((_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.cta) === null || _b === void 0 ? void 0 : _b.percentage) === 100) {\n      return;\n    }\n    this.checkTime();\n  }\n  /**\n   * Set enabled/disabled based on time that has passed\n   */\n  checkTime() {\n    var _a, _b;\n    this.show = this.timePassed({\n      current: this.currentTime,\n      duration: this.duration,\n      showAfter: ((_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.cta) === null || _b === void 0 ? void 0 : _b.percentage) || 0,\n    });\n  }\n  /**\n   * Skip email collection\n   */\n  skip() {\n    this.skipped = true;\n    this.show = false;\n    this.playVideo.emit();\n  }\n  rewatch() {\n    this.ended = false;\n    this.show = false;\n    this.rewatchVideo.emit();\n    this.player.once('timeupdate', () => {\n      setTimeout(() => this.player.play(), 500);\n    });\n    this.player.restart();\n  }\n  /**\n   * Maybe render\n   * @returns JSX\n   */\n  render() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4;\n    if (!this.show) {\n      return;\n    }\n    return (h(\"presto-cta-overlay-ui\", { style: Object.assign(Object.assign(Object.assign({ '--presto-player-button-border-radius': `${(_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.cta) === null || _b === void 0 ? void 0 : _b.button_radius}px` }, (((_d = (_c = this.preset) === null || _c === void 0 ? void 0 : _c.cta) === null || _d === void 0 ? void 0 : _d.background_opacity) ? { '--presto-player-cta-background-opacity': `${((_f = (_e = this.preset) === null || _e === void 0 ? void 0 : _e.cta) === null || _f === void 0 ? void 0 : _f.background_opacity) / 100}` } : {})), (((_h = (_g = this.preset) === null || _g === void 0 ? void 0 : _g.cta) === null || _h === void 0 ? void 0 : _h.button_color)\n        ? {\n          '--presto-player-button-color': `${(_k = (_j = this.preset) === null || _j === void 0 ? void 0 : _j.cta) === null || _k === void 0 ? void 0 : _k.button_color}`,\n        }\n        : {})), (((_m = (_l = this.preset) === null || _l === void 0 ? void 0 : _l.cta) === null || _m === void 0 ? void 0 : _m.button_text_color)\n        ? {\n          '--presto-player-button-text': `${(_p = (_o = this.preset) === null || _o === void 0 ? void 0 : _o.cta) === null || _p === void 0 ? void 0 : _p.button_text_color}`,\n        }\n        : {})), direction: this.direction, class: \"email-overlay\", headline: (_r = (_q = this.preset) === null || _q === void 0 ? void 0 : _q.cta) === null || _r === void 0 ? void 0 : _r.headline, \"bottom-text\": (_t = (_s = this.preset) === null || _s === void 0 ? void 0 : _s.cta) === null || _t === void 0 ? void 0 : _t.bottom_text, \"show-button\": (_v = (_u = this.preset) === null || _u === void 0 ? void 0 : _u.cta) === null || _v === void 0 ? void 0 : _v.show_button, buttonLink: (_x = (_w = this.preset) === null || _w === void 0 ? void 0 : _w.cta) === null || _x === void 0 ? void 0 : _x.button_link, allowSkip: !this.ended && ((_z = (_y = this.preset) === null || _y === void 0 ? void 0 : _y.cta) === null || _z === void 0 ? void 0 : _z.show_skip), allowRewatch: this.ended && ((_1 = (_0 = this.preset) === null || _0 === void 0 ? void 0 : _0.cta) === null || _1 === void 0 ? void 0 : _1.show_rewatch), \"skip-text\": (_2 = this === null || this === void 0 ? void 0 : this.i18n) === null || _2 === void 0 ? void 0 : _2.skip, \"button-text\": (_4 = (_3 = this.preset) === null || _3 === void 0 ? void 0 : _3.cta) === null || _4 === void 0 ? void 0 : _4.button_text, onSkip: () => this.skip(), onRewatch: () => this.rewatch() }));\n  }\n  static get watchers() { return {\n    \"player\": [\"handlePlayerInit\"],\n    \"duration\": [\"handleDuration\", \"handlePercentagePassed\"],\n    \"currentTime\": [\"handlePercentagePassed\", \"handleTime\"],\n    \"percentagePassed\": [\"handlePercentagePassedChange\"]\n  }; }\n  static get style() { return prestoCtaOverlayCss; }\n};\n\n/*!\n * FitText-UMD\n *\n * Copyright 2011, Dave Rupert http://daverupert.com\n * Released under the WTFPL license\n * http://sam.zoy.org/wtfpl/\n * Modified by Slawomir Kolodziej http://slawekk.info\n * Modified by Peace Chen to support modules\n *\n * Date: Tue Jan 12 2016 10:03:36 GMT-0600 (CST)\n */\nvar extend$1 = function extend(obj, ext) {\n  for (var key in ext) {\n    if (ext.hasOwnProperty(key)) obj[key] = ext[key];\n  }\n\n  return obj;\n};\n\nconst fitText = (function (el, kompressor, options) {\n  var settings = extend$1({\n    minFontSize: -1 / 0,\n    maxFontSize: 1 / 0\n  }, options);\n\n  var fit = function fit(el) {\n    var compressor = kompressor || 1;\n\n    var resizer = function resizer() {\n      el.style.fontSize = Math.max(Math.min(el.clientWidth / (compressor * 10), parseFloat(settings.maxFontSize)), parseFloat(settings.minFontSize)) + 'px';\n    }; // Call once to set.\n\n\n    resizer();\n\n    if ('ResizeObserver' in window === false) {\n      // Loads polyfill asynchronously, only if required.\n      var module = import('./resize-observer.js').then(function () {\n        window.ResizeObserver = module.ResizeObserver; // Bind events\n\n        var ro = new ResizeObserver(resizer);\n        ro.observe(el);\n      });\n    } else {\n      // Bind events\n      var ro = new ResizeObserver(resizer);\n      ro.observe(el);\n    }\n  };\n\n  if (el.length) for (var i = 0; i < el.length; i++) {\n    fit(el[i]);\n  } else fit(el); // return set of elements\n\n  return el;\n});\n\nconst prestoCtaOverlayUiCss = \":host{display:block;font-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;z-index:99999;user-select:none}*{box-sizing:border-box}a{color:#fff}.wrapper{height:100%;position:relative;color:#fff;font-family:var(--plyr-font-family, \\\"San Francisco\\\", -apple-system, BlinkMacSystemFont, \\\".SFNSText-Regular\\\", Avenir, \\\"Avenir Next\\\", \\\"Helvetica Neue\\\", \\\"Segoe UI\\\", Helvetica, Arial, sans-serif)}.overlay{position:relative;display:flex;align-items:center;justify-content:center;padding:48px;height:100%}.overlay.has-link{cursor:pointer}.overlay:before{content:\\\"\\\";border-radius:var(--presto-player-border-radius, 0);opacity:var(--presto-player-cta-background-opacity, 0.75);position:absolute;top:0;left:0;bottom:0;right:0;background-color:var(--presto-player-cta-background, #000);z-index:-1;box-shadow:inset 0 0 100px black}.content{width:80%;max-width:600px}.content *~*{margin-top:22px}button{background:var(--plyr-color-main, #000);appearance:none;padding:6px 12px;align-items:center;display:inline-flex;border-width:1px;border-color:transparent;color:#fff;border-radius:0;cursor:pointer;font-size:0.8em;border-radius:0 var(--presto-player-cta-border-radius, 0) var(--presto-player-cta-border-radius) 0}@media screen and (min-width: 700px){button{padding:10px 18px}}button:focus{box-shadow:white 0px 0px 0px 2px, var(--plyr-color-main, #000) 0px 0px 0px 4px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;z-index:1}button:focus,button:hover{outline:none}h1{font-size:1.5em;font-weight:500;margin:0;line-height:1.1em}.skip,.rewatch{font-size:0.8em;font-weight:600;position:absolute;top:0;right:0;padding:4%;cursor:pointer}.rewatch{display:inline-flex;align-items:center;right:auto;left:0}.rewatch .icon{margin-right:5px}p{font-size:0.85em;margin:0;margin-top:1.5em;line-height:1.4em;opacity:0.75}\";\n\nconst CTAOverlayUI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n    this.skip = createEvent(this, \"skip\", 7);\n    this.rewatch = createEvent(this, \"rewatch\", 7);\n  }\n  componentDidLoad() {\n    fitText(this.textInput, 3, {\n      maxFontSize: 20,\n      minFontSize: 8,\n    });\n  }\n  handleCTAClick(e) {\n    var _a;\n    if (!((_a = this.buttonLink) === null || _a === void 0 ? void 0 : _a.url)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    this.handleLink();\n  }\n  handleLink() {\n    var _a, _b, _c;\n    if ((_a = this.buttonLink) === null || _a === void 0 ? void 0 : _a.opensInNewTab) {\n      window.open((_b = this.buttonLink) === null || _b === void 0 ? void 0 : _b.url, '_blank');\n    }\n    else {\n      window.location.href = (_c = this.buttonLink) === null || _c === void 0 ? void 0 : _c.url;\n    }\n  }\n  render() {\n    var _a, _b, _c;\n    return (h(\"div\", { class: \"wrapper\", ref: el => (this.textInput = el) }, h(\"div\", { onClick: e => this.handleCTAClick(e), class: `overlay ${this.direction === 'rtl' ? 'rtl' : ''} ${((_a = this.buttonLink) === null || _a === void 0 ? void 0 : _a.url) ? 'has-link' : ''}` }, h(\"div\", { class: \"content\" }, h(\"h1\", { part: \"cta-headline\" }, this.headline || this.defaultHeadline), this.bottomText && h(\"p\", { part: \"cta-bottom-text\", innerHTML: this.bottomText }), this.showButton && (h(\"presto-player-button\", { full: true, onClick: e => this.handleCTAClick(e), part: \"cta-button\", href: (_b = this === null || this === void 0 ? void 0 : this.buttonLink) === null || _b === void 0 ? void 0 : _b.url, target: ((_c = this === null || this === void 0 ? void 0 : this.buttonLink) === null || _c === void 0 ? void 0 : _c.opensInNewTab) ? '_blank' : '_self', class: \"button\", type: \"primary\" }, this.buttonText)))), !!this.allowRewatch && (h(\"div\", { class: \"rewatch\", onClick: e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        this.rewatch.emit();\n      } }, h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"16\", height: \"16\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", \"stroke-width\": \"3\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", class: \"icon icon-corner-up-left\" }, h(\"polyline\", { points: \"9 14 4 9 9 4\" }), h(\"path\", { d: \"M20 20v-7a4 4 0 0 0-4-4H4\" })), this.rewatchText || 'Rewatch')), !!this.allowSkip && (h(\"div\", { class: \"skip\", onClick: e => {\n        e.preventDefault();\n        this.skip.emit();\n      } }, this.skipText || 'Skip', \" \\u2192\"))));\n  }\n  static get style() { return prestoCtaOverlayUiCss; }\n};\n\nconst prestoEmailOverlayCss = \":host{display:block}\";\n\nconst PrestoEmailOverlay$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.playVideo = createEvent(this, \"playVideo\", 7);\n  }\n  /**\n   * Set email collection in local storage\n   * @param status string\n   */\n  setStorage(status) {\n    window.localStorage.setItem('presto.videos.email_collection', JSON.stringify({ [this.videoId]: status }));\n  }\n  /**\n   * Get email collection in local storage\n   * @returns status string\n   */\n  getStorage() {\n    return window.localStorage.getItem('presto.videos.email_collection');\n  }\n  componentWillLoad() {\n    this.handleDuration();\n  }\n  /**\n   * Find out if time is passed.\n   * @returns boolean\n   */\n  timePassed({ current, duration, showAfter }) {\n    if (current === showAfter) {\n      return true;\n    }\n    let percent = (current / duration) * 100;\n    if (99.9 < percent) {\n      percent = 100;\n    }\n    return percent >= showAfter;\n  }\n  handlePlayerInit(_, old) {\n    // only the first time\n    if (old) {\n      return;\n    }\n    // don't allow player to be played if email overlay is showing\n    this.player.on('play playing timeupdate', () => {\n      // skipped\n      if (this.getStorage()) {\n        return;\n      }\n      // pause if enabled\n      if (this.show) {\n        this.player.pause();\n      }\n    });\n  }\n  /**\n   * Wait for duration to start before checking time\n   * @returns void\n   */\n  handleDuration() {\n    var _a, _b;\n    this.enabled = this.getStorage() ? false : (_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.email_collection) === null || _b === void 0 ? void 0 : _b.enabled;\n    this.handleTime();\n  }\n  /**\n   * When current time changes, check to see if we should\n   * enable the overlay\n   * @returns void\n   */\n  handleTime() {\n    if (!this.enabled) {\n      return;\n    }\n    if (this.getStorage()) {\n      return;\n    }\n    this.checkTime();\n  }\n  /**\n   * Set enabled/disabled based on time that has passed\n   */\n  checkTime() {\n    var _a, _b;\n    this.show = this.timePassed({\n      current: this.currentTime,\n      duration: this.duration,\n      showAfter: ((_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.email_collection) === null || _b === void 0 ? void 0 : _b.percentage) || 0,\n    });\n  }\n  /**\n   * Fetch updated nonce in case of caching\n   * @returns Promise\n   */\n  async getNonce() {\n    var _a;\n    return fetch(`${(_a = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _a === void 0 ? void 0 : _a.ajaxurl}?action=presto_refresh_progress_nonce`);\n  }\n  /**\n   * Submit email collection\n   * @param e Event\n   */\n  async submit(e) {\n    var _a;\n    this.loading = true;\n    this.error = '';\n    // get nonce refresh\n    const response = await this.getNonce();\n    const { data: nonce } = await response.json();\n    // handle submit\n    try {\n      let response = await fetch((_a = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _a === void 0 ? void 0 : _a.ajaxurl, {\n        method: 'post',\n        body: new URLSearchParams(Object.assign({ action: 'presto_player_email_submit', nonce, preset_id: this.preset.id, video_id: this.videoId }, ((e === null || e === void 0 ? void 0 : e.detail) || {}))),\n      });\n      const { success, data } = await response.json();\n      if (success) {\n        this.setStorage('collected');\n        this.show = false;\n        this.playVideo.emit();\n      }\n      else {\n        throw data;\n      }\n    }\n    catch (e) {\n      const error = e === null || e === void 0 ? void 0 : e[0];\n      if (error && typeof error === 'string') {\n        this.error = error;\n      }\n    }\n    finally {\n      this.loading = false;\n    }\n  }\n  /**\n   * Skip email collection\n   */\n  skip() {\n    this.setStorage('skipped');\n    this.show = false;\n    this.playVideo.emit();\n  }\n  /**\n   * Maybe render\n   * @returns JSX\n   */\n  render() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    if (!this.show) {\n      return;\n    }\n    return (h(\"presto-email-overlay-ui\", { direction: this.direction, class: \"email-overlay\", headline: (_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.email_collection) === null || _b === void 0 ? void 0 : _b.headline, defaultHeadline: (_c = this === null || this === void 0 ? void 0 : this.i18n) === null || _c === void 0 ? void 0 : _c.emailDefaultHeadline, bottomText: (_e = (_d = this.preset) === null || _d === void 0 ? void 0 : _d.email_collection) === null || _e === void 0 ? void 0 : _e.bottom_text, allowSkip: (_g = (_f = this.preset) === null || _f === void 0 ? void 0 : _f.email_collection) === null || _g === void 0 ? void 0 : _g.allow_skip, skipText: (_h = this === null || this === void 0 ? void 0 : this.i18n) === null || _h === void 0 ? void 0 : _h.skip, buttonText: (_k = (_j = this.preset) === null || _j === void 0 ? void 0 : _j.email_collection) === null || _k === void 0 ? void 0 : _k.button_text, placeholder: (_l = this === null || this === void 0 ? void 0 : this.i18n) === null || _l === void 0 ? void 0 : _l.emailPlaceholder, isLoading: this.loading, errorMessage: this.error, onSubmitForm: e => this.submit(e), onSkip: () => this.skip() }));\n  }\n  static get watchers() { return {\n    \"player\": [\"handlePlayerInit\"],\n    \"duration\": [\"handleDuration\"],\n    \"currentTime\": [\"handleTime\"]\n  }; }\n  static get style() { return prestoEmailOverlayCss; }\n};\n\nconst prestoEmailOverlayUiCss = \":host{display:block;font-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;z-index:99999}*{box-sizing:border-box}a{color:#fff}.overlay{position:relative;display:flex;align-items:center;text-align:center;justify-content:center;padding:48px;color:#fff;font-family:var(--plyr-font-family, \\\"San Francisco\\\", -apple-system, BlinkMacSystemFont, \\\".SFNSText-Regular\\\", Avenir, \\\"Avenir Next\\\", \\\"Helvetica Neue\\\", \\\"Segoe UI\\\", Helvetica, Arial, sans-serif);height:100%}.overlay:before{content:\\\"\\\";border-radius:var(--presto-player-border-radius, 0);opacity:var(--presto-player-email-background-opacity, 0.75);position:absolute;top:0;left:0;bottom:0;right:0;background-color:var(--presto-player-email-background, #000);z-index:-1;box-shadow:inset 0 0 100px black}.content{width:20em}form{display:flex;align-items:stretch;justify-content:center}input{background:#fff;border:none;font-size:0.8em;line-height:20px;padding:6px 8px;border-radius:0;border-width:1px;border-style:solid;border-color:transparent;border-radius:var(--presto-player-email-border-radius, 0) 0 0 var(--presto-player-email-border-radius);flex:1}@media screen and (min-width: 700px){input{padding:10px 14px}}input:focus{border-color:var(--plyr-color-main, #000);z-index:1}input:focus,input:hover{outline:none}.rtl input{border-radius:0 var(--presto-player-email-border-radius, 0) var(--presto-player-email-border-radius) 0}button{background:var(--plyr-color-main, #000);appearance:none;padding:6px 12px;align-items:center;display:inline-flex;border-width:1px;border-color:transparent;color:#fff;border-radius:0;cursor:pointer;font-size:0.8em;border-radius:0 var(--presto-player-email-border-radius, 0) var(--presto-player-email-border-radius) 0}@media screen and (min-width: 700px){button{padding:10px 18px}}button:focus{box-shadow:white 0px 0px 0px 2px, var(--plyr-color-main, #000) 0px 0px 0px 4px, rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;z-index:1}button:focus,button:hover{outline:none}.rtl button{border-radius:var(--presto-player-email-border-radius, 0) 0 0 var(--presto-player-email-border-radius)}h1{font-size:1.5em;font-weight:500;margin:0 0 22px 0;max-width:600px;line-height:1.1em}.skip{font-size:0.8em;font-weight:600;position:absolute;top:0;right:0;padding:4%;cursor:pointer}p{font-size:0.7em;margin:0;margin-top:1.5em}\";\n\nconst EmailOverlayUI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n    this.submitForm = createEvent(this, \"submitForm\", 7);\n    this.skip = createEvent(this, \"skip\", 7);\n  }\n  /**\n   * Handle form submission\n   * @param e Event\n   */\n  handleSubmit(e) {\n    this.submitForm.emit({\n      email: this.email,\n    });\n    e.preventDefault();\n  }\n  componentDidLoad() {\n    fitText(this.textInput, 3, {\n      maxFontSize: 20,\n      minFontSize: 8,\n    });\n  }\n  /**\n   * Handle input change\n   * @param e Event\n   */\n  handleChange(e) {\n    this.email = e.target.value;\n  }\n  render() {\n    return (h(\"div\", { class: `overlay ${this.direction === 'rtl' ? 'rtl' : ''}`, ref: el => (this.textInput = el) }, h(\"div\", { class: \"content\" }, h(\"h1\", null, this.headline || this.defaultHeadline), this.isLoading ? (h(\"presto-player-spinner\", null)) : (h(\"form\", { onSubmit: e => this.handleSubmit(e) }, h(\"input\", { type: \"email\", placeholder: this.placeholder, value: this.email, onInput: event => this.handleChange(event), required: true }), h(\"button\", { type: \"submit\" }, this.buttonText || 'Play'))), this.errorMessage && h(\"p\", { class: \"error\" }, this.errorMessage), this.bottomText && h(\"p\", { innerHTML: this.bottomText }), !!this.allowSkip && (h(\"div\", { class: \"skip\", onClick: () => {\n        this.skip.emit();\n      } }, this.skipText || 'Skip', \" \\u2192\")))));\n  }\n  static get style() { return prestoEmailOverlayUiCss; }\n};\n\nconst prestoMutedOverlayCss = \":host{display:block}\";\n\nconst PrestoMutedOverlay$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.playVideo = createEvent(this, \"playVideo\", 7);\n  }\n  render() {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    return (h(\"div\", { class: \"presto-player__muted-overlay\", onClick: () => {\n        this.mutedPreview = false;\n        this.playVideo.emit();\n      } }, h(\"div\", { class: \"plyr__control plyr__control--overlaid\", \"data-plyr\": \"play\", \"aria-label\": \"Play\", part: \"muted-overlay-play\" }, h(\"svg\", { id: \"plyr-play\", viewBox: \"0 0 18 18\" }, h(\"path\", { d: \"M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z\" })), h(\"span\", { class: \"plyr__sr-only\" }, \"Play\")), ((_a = this.mutedOverlay) === null || _a === void 0 ? void 0 : _a.enabled) && ((_b = this.mutedOverlay) === null || _b === void 0 ? void 0 : _b.src) ? (h(\"div\", { class: \"presto-player__overlay is-image\", part: \"muted-overlay-image\", style: {\n        width: `${((_c = this.mutedOverlay) === null || _c === void 0 ? void 0 : _c.width) || 50}%`,\n        left: `${(((_e = (_d = this.mutedOverlay) === null || _d === void 0 ? void 0 : _d.focalPoint) === null || _e === void 0 ? void 0 : _e.x) || 0.5) * 100}%`,\n        top: `${(((_g = (_f = this.mutedOverlay) === null || _f === void 0 ? void 0 : _f.focalPoint) === null || _g === void 0 ? void 0 : _g.y) || 0.5) * 100}%`,\n      } }, h(\"img\", { src: (_h = this.mutedOverlay) === null || _h === void 0 ? void 0 : _h.src, style: { transform: 'translateX(-50%) translateY(-50%)' } }))) : ('')));\n  }\n  static get style() { return prestoMutedOverlayCss; }\n};\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty$2(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck$1(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$1(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$1(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _defineProperty$1(e, t, i) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: i,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = i, e;\n}\n\nfunction _classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties(e, t) {\n  for (var i = 0; i < t.length; i++) {\n    var s = t[i];\n    s.enumerable = s.enumerable || !1, s.configurable = !0, \"value\" in s && (s.writable = !0), Object.defineProperty(e, s.key, s);\n  }\n}\n\nfunction _createClass(e, t, i) {\n  return t && _defineProperties(e.prototype, t), i && _defineProperties(e, i), e;\n}\n\nfunction _defineProperty(e, t, i) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: i,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = i, e;\n}\n\nfunction ownKeys(e, t) {\n  var i = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var s = Object.getOwnPropertySymbols(e);\n    t && (s = s.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), i.push.apply(i, s);\n  }\n\n  return i;\n}\n\nfunction _objectSpread2(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var i = null != arguments[t] ? arguments[t] : {};\n    t % 2 ? ownKeys(Object(i), !0).forEach(function (t) {\n      _defineProperty(e, t, i[t]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : ownKeys(Object(i)).forEach(function (t) {\n      Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));\n    });\n  }\n\n  return e;\n}\n\nvar defaults$1 = {\n  addCSS: !0,\n  thumbWidth: 15,\n  watch: !0\n};\n\nfunction matches$1(e, t) {\n  return function () {\n    return Array.from(document.querySelectorAll(t)).includes(this);\n  }.call(e, t);\n}\n\nfunction trigger(e, t) {\n  if (e && t) {\n    var i = new Event(t, {\n      bubbles: !0\n    });\n    e.dispatchEvent(i);\n  }\n}\n\nvar getConstructor$1 = function getConstructor$1(e) {\n  return null != e ? e.constructor : null;\n},\n    instanceOf$1 = function instanceOf$1(e, t) {\n  return !!(e && t && e instanceof t);\n},\n    isNullOrUndefined$1 = function isNullOrUndefined$1(e) {\n  return null == e;\n},\n    isObject$1 = function isObject$1(e) {\n  return getConstructor$1(e) === Object;\n},\n    isNumber$1 = function isNumber$1(e) {\n  return getConstructor$1(e) === Number && !Number.isNaN(e);\n},\n    isString$1 = function isString$1(e) {\n  return getConstructor$1(e) === String;\n},\n    isBoolean$1 = function isBoolean$1(e) {\n  return getConstructor$1(e) === Boolean;\n},\n    isFunction$1 = function isFunction$1(e) {\n  return getConstructor$1(e) === Function;\n},\n    isArray$1 = function isArray$1(e) {\n  return Array.isArray(e);\n},\n    isNodeList$1 = function isNodeList$1(e) {\n  return instanceOf$1(e, NodeList);\n},\n    isElement$1 = function isElement$1(e) {\n  return instanceOf$1(e, Element);\n},\n    isEvent$1 = function isEvent$1(e) {\n  return instanceOf$1(e, Event);\n},\n    isEmpty$1 = function isEmpty$1(e) {\n  return isNullOrUndefined$1(e) || (isString$1(e) || isArray$1(e) || isNodeList$1(e)) && !e.length || isObject$1(e) && !Object.keys(e).length;\n},\n    is$1 = {\n  nullOrUndefined: isNullOrUndefined$1,\n  object: isObject$1,\n  number: isNumber$1,\n  string: isString$1,\n  boolean: isBoolean$1,\n  function: isFunction$1,\n  array: isArray$1,\n  nodeList: isNodeList$1,\n  element: isElement$1,\n  event: isEvent$1,\n  empty: isEmpty$1\n};\n\nfunction getDecimalPlaces(e) {\n  var t = \"\".concat(e).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n  return t ? Math.max(0, (t[1] ? t[1].length : 0) - (t[2] ? +t[2] : 0)) : 0;\n}\n\nfunction round(e, t) {\n  if (1 > t) {\n    var i = getDecimalPlaces(t);\n    return parseFloat(e.toFixed(i));\n  }\n\n  return Math.round(e / t) * t;\n}\n\nvar RangeTouch = function () {\n  function e(t, i) {\n    _classCallCheck(this, e), is$1.element(t) ? this.element = t : is$1.string(t) && (this.element = document.querySelector(t)), is$1.element(this.element) && is$1.empty(this.element.rangeTouch) && (this.config = _objectSpread2({}, defaults$1, {}, i), this.init());\n  }\n\n  return _createClass(e, [{\n    key: \"init\",\n    value: function value() {\n      e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"none\", this.element.style.webKitUserSelect = \"none\", this.element.style.touchAction = \"manipulation\"), this.listeners(!0), this.element.rangeTouch = this);\n    }\n  }, {\n    key: \"destroy\",\n    value: function value() {\n      e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"\", this.element.style.webKitUserSelect = \"\", this.element.style.touchAction = \"\"), this.listeners(!1), this.element.rangeTouch = null);\n    }\n  }, {\n    key: \"listeners\",\n    value: function value(e) {\n      var t = this,\n          i = e ? \"addEventListener\" : \"removeEventListener\";\n      [\"touchstart\", \"touchmove\", \"touchend\"].forEach(function (e) {\n        t.element[i](e, function (e) {\n          return t.set(e);\n        }, !1);\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function value(t) {\n      if (!e.enabled || !is$1.event(t)) return null;\n      var i,\n          s = t.target,\n          n = t.changedTouches[0],\n          r = parseFloat(s.getAttribute(\"min\")) || 0,\n          a = parseFloat(s.getAttribute(\"max\")) || 100,\n          o = parseFloat(s.getAttribute(\"step\")) || 1,\n          l = s.getBoundingClientRect(),\n          c = 100 / l.width * (this.config.thumbWidth / 2) / 100;\n      return 0 > (i = 100 / l.width * (n.clientX - l.left)) ? i = 0 : 100 < i && (i = 100), 50 > i ? i -= (100 - 2 * i) * c : 50 < i && (i += 2 * (i - 50) * c), r + round(i / 100 * (a - r), o);\n    }\n  }, {\n    key: \"set\",\n    value: function value(t) {\n      e.enabled && is$1.event(t) && !t.target.disabled && (t.preventDefault(), t.target.value = this.get(t), trigger(t.target, \"touchend\" === t.type ? \"change\" : \"input\"));\n    }\n  }], [{\n    key: \"setup\",\n    value: function value(t) {\n      var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {},\n          s = null;\n      if (is$1.empty(t) || is$1.string(t) ? s = Array.from(document.querySelectorAll(is$1.string(t) ? t : 'input[type=\"range\"]')) : is$1.element(t) ? s = [t] : is$1.nodeList(t) ? s = Array.from(t) : is$1.array(t) && (s = t.filter(is$1.element)), is$1.empty(s)) return null;\n\n      var n = _objectSpread2({}, defaults$1, {}, i);\n\n      if (is$1.string(t) && n.watch) {\n        var r = new MutationObserver(function (i) {\n          Array.from(i).forEach(function (i) {\n            Array.from(i.addedNodes).forEach(function (i) {\n              is$1.element(i) && matches$1(i, t) && new e(i, n);\n            });\n          });\n        });\n        r.observe(document.body, {\n          childList: !0,\n          subtree: !0\n        });\n      }\n\n      return s.map(function (t) {\n        return new e(t, i);\n      });\n    }\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return \"ontouchstart\" in document.documentElement;\n    }\n  }]), e;\n}();\n\nvar getConstructor = function getConstructor(e) {\n  return null != e ? e.constructor : null;\n},\n    instanceOf = function instanceOf(e, t) {\n  return Boolean(e && t && e instanceof t);\n},\n    isNullOrUndefined = function isNullOrUndefined(e) {\n  return null == e;\n},\n    isObject = function isObject(e) {\n  return getConstructor(e) === Object;\n},\n    isNumber = function isNumber(e) {\n  return getConstructor(e) === Number && !Number.isNaN(e);\n},\n    isString = function isString(e) {\n  return getConstructor(e) === String;\n},\n    isBoolean = function isBoolean(e) {\n  return getConstructor(e) === Boolean;\n},\n    isFunction = function isFunction(e) {\n  return getConstructor(e) === Function;\n},\n    isArray = function isArray(e) {\n  return Array.isArray(e);\n},\n    isWeakMap = function isWeakMap(e) {\n  return instanceOf(e, WeakMap);\n},\n    isNodeList = function isNodeList(e) {\n  return instanceOf(e, NodeList);\n},\n    isTextNode = function isTextNode(e) {\n  return getConstructor(e) === Text;\n},\n    isEvent = function isEvent(e) {\n  return instanceOf(e, Event);\n},\n    isKeyboardEvent = function isKeyboardEvent(e) {\n  return instanceOf(e, KeyboardEvent);\n},\n    isCue = function isCue(e) {\n  return instanceOf(e, window.TextTrackCue) || instanceOf(e, window.VTTCue);\n},\n    isTrack = function isTrack(e) {\n  return instanceOf(e, TextTrack) || !isNullOrUndefined(e) && isString(e.kind);\n},\n    isPromise = function isPromise(e) {\n  return instanceOf(e, Promise) && isFunction(e.then);\n},\n    isElement = function isElement(e) {\n  return null !== e && \"object\" == _typeof(e) && 1 === e.nodeType && \"object\" == _typeof(e.style) && \"object\" == _typeof(e.ownerDocument);\n},\n    isEmpty = function isEmpty(e) {\n  return isNullOrUndefined(e) || (isString(e) || isArray(e) || isNodeList(e)) && !e.length || isObject(e) && !Object.keys(e).length;\n},\n    isUrl = function isUrl(e) {\n  if (instanceOf(e, window.URL)) return !0;\n  if (!isString(e)) return !1;\n  var t = e;\n  e.startsWith(\"http://\") && e.startsWith(\"https://\") || (t = \"http://\".concat(e));\n\n  try {\n    return !isEmpty(new URL(t).hostname);\n  } catch (e) {\n    return !1;\n  }\n};\n\nvar is = {\n  nullOrUndefined: isNullOrUndefined,\n  object: isObject,\n  number: isNumber,\n  string: isString,\n  boolean: isBoolean,\n  function: isFunction,\n  array: isArray,\n  weakMap: isWeakMap,\n  nodeList: isNodeList,\n  element: isElement,\n  textNode: isTextNode,\n  event: isEvent,\n  keyboardEvent: isKeyboardEvent,\n  cue: isCue,\n  track: isTrack,\n  promise: isPromise,\n  url: isUrl,\n  empty: isEmpty\n};\n\nvar transitionEndEvent = function () {\n  var e = document.createElement(\"span\"),\n      t = {\n    WebkitTransition: \"webkitTransitionEnd\",\n    MozTransition: \"transitionend\",\n    OTransition: \"oTransitionEnd otransitionend\",\n    transition: \"transitionend\"\n  },\n      i = Object.keys(t).find(function (t) {\n    return void 0 !== e.style[t];\n  });\n  return !!is.string(i) && t[i];\n}();\n\nfunction repaint(e, t) {\n  setTimeout(function () {\n    try {\n      e.hidden = !0, e.hidden = !1;\n    } catch (e) {}\n  }, t);\n}\n\nvar browser = {\n  isIE:\n  /* @cc_on!@ */\n  !!document.documentMode,\n  isEdge: window.navigator.userAgent.includes(\"Edge\"),\n  isWebkit: \"WebkitAppearance\" in document.documentElement.style && !/Edge/.test(navigator.userAgent),\n  isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),\n  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform)\n};\n\nfunction cloneDeep(e) {\n  return JSON.parse(JSON.stringify(e));\n}\n\nfunction getDeep(e, t) {\n  return t.split(\".\").reduce(function (e, t) {\n    return e && e[t];\n  }, e);\n}\n\nfunction extend() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    t[_key - 1] = arguments[_key];\n  }\n\n  if (!t.length) return e;\n  var i = t.shift();\n  return is.object(i) ? (Object.keys(i).forEach(function (t) {\n    is.object(i[t]) ? (Object.keys(e).includes(t) || Object.assign(e, _defineProperty$2({}, t, {})), extend(e[t], i[t])) : Object.assign(e, _defineProperty$2({}, t, i[t]));\n  }), extend.apply(void 0, [e].concat(t))) : e;\n}\n\nfunction wrap(e, t) {\n  var i = e.length ? e : [e];\n  Array.from(i).reverse().forEach(function (e, i) {\n    var s = i > 0 ? t.cloneNode(!0) : t,\n        n = e.parentNode,\n        r = e.nextSibling;\n    s.appendChild(e), r ? n.insertBefore(s, r) : n.appendChild(s);\n  });\n}\n\nfunction setAttributes(e, t) {\n  is.element(e) && !is.empty(t) && Object.entries(t).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        e = _ref2[1];\n\n    return !is.nullOrUndefined(e);\n  }).forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        t = _ref4[0],\n        i = _ref4[1];\n\n    return e.setAttribute(t, i);\n  });\n}\n\nfunction createElement(e, t, i) {\n  var s = document.createElement(e);\n  return is.object(t) && setAttributes(s, t), is.string(i) && (s.innerText = i), s;\n}\n\nfunction insertAfter(e, t) {\n  is.element(e) && is.element(t) && t.parentNode.insertBefore(e, t.nextSibling);\n}\n\nfunction insertElement(e, t, i, s) {\n  is.element(t) && t.appendChild(createElement(e, i, s));\n}\n\nfunction removeElement(e) {\n  is.nodeList(e) || is.array(e) ? Array.from(e).forEach(removeElement) : is.element(e) && is.element(e.parentNode) && e.parentNode.removeChild(e);\n}\n\nfunction emptyElement(e) {\n  if (!is.element(e)) return;\n  var t = e.childNodes.length;\n\n  for (; t > 0;) {\n    e.removeChild(e.lastChild), t -= 1;\n  }\n}\n\nfunction replaceElement(e, t) {\n  return is.element(t) && is.element(t.parentNode) && is.element(e) ? (t.parentNode.replaceChild(e, t), e) : null;\n}\n\nfunction getAttributesFromSelector(e, t) {\n  if (!is.string(e) || is.empty(e)) return {};\n  var i = {},\n      s = extend({}, t);\n  return e.split(\",\").forEach(function (e) {\n    var t = e.trim(),\n        n = t.replace(\".\", \"\"),\n        r = t.replace(/[[\\]]/g, \"\").split(\"=\"),\n        _r = _slicedToArray(r, 1),\n        a = _r[0],\n        o = r.length > 1 ? r[1].replace(/[\"']/g, \"\") : \"\";\n\n    switch (t.charAt(0)) {\n      case \".\":\n        is.string(s.class) ? i.class = \"\".concat(s.class, \" \").concat(n) : i.class = n;\n        break;\n\n      case \"#\":\n        i.id = t.replace(\"#\", \"\");\n        break;\n\n      case \"[\":\n        i[a] = o;\n    }\n  }), extend(s, i);\n}\n\nfunction toggleHidden(e, t) {\n  if (!is.element(e)) return;\n  var i = t;\n  is.boolean(i) || (i = !e.hidden), e.hidden = i;\n}\n\nfunction toggleClass(e, t, i) {\n  if (is.nodeList(e)) return Array.from(e).map(function (e) {\n    return toggleClass(e, t, i);\n  });\n\n  if (is.element(e)) {\n    var s = \"toggle\";\n    return void 0 !== i && (s = i ? \"add\" : \"remove\"), e.classList[s](t), e.classList.contains(t);\n  }\n\n  return !1;\n}\n\nfunction hasClass(e, t) {\n  return is.element(e) && e.classList.contains(t);\n}\n\nfunction matches(e, t) {\n  var _Element = Element,\n      i = _Element.prototype;\n  return (i.matches || i.webkitMatchesSelector || i.mozMatchesSelector || i.msMatchesSelector || function () {\n    return Array.from(document.querySelectorAll(t)).includes(this);\n  }).call(e, t);\n}\n\nfunction closest$1(e, t) {\n  var _Element2 = Element,\n      i = _Element2.prototype;\n  return (i.closest || function () {\n    var e = this;\n\n    do {\n      if (matches.matches(e, t)) return e;\n      e = e.parentElement || e.parentNode;\n    } while (null !== e && 1 === e.nodeType);\n\n    return null;\n  }).call(e, t);\n}\n\nfunction getElements(e) {\n  return this.elements.container.querySelectorAll(e);\n}\n\nfunction getElement(e) {\n  return this.elements.container.querySelector(e);\n}\n\nfunction setFocus() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  is.element(e) && (e.focus({\n    preventScroll: !0\n  }), t && toggleClass(e, this.config.classNames.tabFocus));\n}\n\nvar defaultCodecs = {\n  \"audio/ogg\": \"vorbis\",\n  \"audio/wav\": \"1\",\n  \"video/webm\": \"vp8, vorbis\",\n  \"video/mp4\": \"avc1.42E01E, mp4a.40.2\",\n  \"video/ogg\": \"theora\"\n},\n    support = {\n  audio: \"canPlayType\" in document.createElement(\"audio\"),\n  video: \"canPlayType\" in document.createElement(\"video\"),\n  check: function check(e, t, i) {\n    var s = browser.isIPhone && i && support.playsinline,\n        n = support[e] || \"html5\" !== t;\n    return {\n      api: n,\n      ui: n && support.rangeInput && (\"video\" !== e || !browser.isIPhone || s)\n    };\n  },\n  pip: !(browser.isIPhone || !is.function(createElement(\"video\").webkitSetPresentationMode) && (!document.pictureInPictureEnabled || createElement(\"video\").disablePictureInPicture)),\n  airplay: is.function(window.WebKitPlaybackTargetAvailabilityEvent),\n  playsinline: \"playsInline\" in document.createElement(\"video\"),\n  mime: function mime(e) {\n    if (is.empty(e)) return !1;\n\n    var _e$split = e.split(\"/\"),\n        _e$split2 = _slicedToArray(_e$split, 1),\n        t = _e$split2[0];\n\n    var i = e;\n    if (!this.isHTML5 || t !== this.type) return !1;\n    Object.keys(defaultCodecs).includes(i) && (i += \"; codecs=\\\"\".concat(defaultCodecs[e], \"\\\"\"));\n\n    try {\n      return Boolean(i && this.media.canPlayType(i).replace(/no/, \"\"));\n    } catch (e) {\n      return !1;\n    }\n  },\n  textTracks: \"textTracks\" in document.createElement(\"video\"),\n  rangeInput: function () {\n    var e = document.createElement(\"input\");\n    return e.type = \"range\", \"range\" === e.type;\n  }(),\n  touch: \"ontouchstart\" in document.documentElement,\n  transitions: !1 !== transitionEndEvent,\n  reducedMotion: \"matchMedia\" in window && window.matchMedia(\"(prefers-reduced-motion)\").matches\n},\n    supportsPassiveListeners = function () {\n  var e = !1;\n\n  try {\n    var t = Object.defineProperty({}, \"passive\", {\n      get: function get() {\n        return e = !0, null;\n      }\n    });\n    window.addEventListener(\"test\", null, t), window.removeEventListener(\"test\", null, t);\n  } catch (e) {}\n\n  return e;\n}();\n\nfunction toggleListener(e, t, i) {\n  var _this = this;\n\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n  var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;\n  var r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : !1;\n  if (!e || !(\"addEventListener\" in e) || is.empty(t) || !is.function(i)) return;\n  var a = t.split(\" \");\n  var o = r;\n  supportsPassiveListeners && (o = {\n    passive: n,\n    capture: r\n  }), a.forEach(function (t) {\n    _this && _this.eventListeners && s && _this.eventListeners.push({\n      element: e,\n      type: t,\n      callback: i,\n      options: o\n    }), e[s ? \"addEventListener\" : \"removeEventListener\"](t, i, o);\n  });\n}\n\nfunction on(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var i = arguments.length > 2 ? arguments[2] : undefined;\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n  var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n  toggleListener.call(this, e, t, i, !0, s, n);\n}\n\nfunction off(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var i = arguments.length > 2 ? arguments[2] : undefined;\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n  var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n  toggleListener.call(this, e, t, i, !1, s, n);\n}\n\nfunction once(e) {\n  var _this2 = this;\n\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var i = arguments.length > 2 ? arguments[2] : undefined;\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n  var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n\n  var r = function r() {\n    for (var _len2 = arguments.length, a = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      a[_key2] = arguments[_key2];\n    }\n\n    off(e, t, r, s, n), i.apply(_this2, a);\n  };\n\n  toggleListener.call(this, e, t, r, !0, s, n);\n}\n\nfunction triggerEvent(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  if (!is.element(e) || is.empty(t)) return;\n  var n = new CustomEvent(t, {\n    bubbles: i,\n    detail: _objectSpread2$1(_objectSpread2$1({}, s), {}, {\n      plyr: this\n    })\n  });\n  e.dispatchEvent(n);\n}\n\nfunction unbindListeners() {\n  this && this.eventListeners && (this.eventListeners.forEach(function (e) {\n    var t = e.element,\n        i = e.type,\n        s = e.callback,\n        n = e.options;\n    t.removeEventListener(i, s, n);\n  }), this.eventListeners = []);\n}\n\nfunction ready() {\n  var _this3 = this;\n\n  return new Promise(function (e) {\n    return _this3.ready ? setTimeout(e, 0) : on.call(_this3, _this3.elements.container, \"ready\", e);\n  }).then(function () {});\n}\n\nfunction silencePromise(e) {\n  is.promise(e) && e.then(null, function () {});\n}\n\nfunction validateRatio(e) {\n  if (!(is.array(e) || is.string(e) && e.includes(\":\"))) return !1;\n  return (is.array(e) ? e : e.split(\":\")).map(Number).every(is.number);\n}\n\nfunction reduceAspectRatio(e) {\n  if (!is.array(e) || !e.every(is.number)) return null;\n\n  var _e = _slicedToArray(e, 2),\n      t = _e[0],\n      i = _e[1],\n      s = function s(e, t) {\n    return 0 === t ? e : s(t, e % t);\n  },\n      n = s(t, i);\n\n  return [t / n, i / n];\n}\n\nfunction getAspectRatio(e) {\n  var _this$embed;\n\n  var t = function t(e) {\n    return validateRatio(e) ? e.split(\":\").map(Number) : null;\n  };\n\n  var i = t(e);\n\n  if (null === i && (i = t(this.config.ratio)), null === i && !is.empty(this.embed) && is.array(this.embed.ratio) && (_this$embed = this.embed, i = _this$embed.ratio, _this$embed), null === i && this.isHTML5) {\n    var _this$media = this.media,\n        _e2 = _this$media.videoWidth,\n        _t = _this$media.videoHeight;\n    i = reduceAspectRatio([_e2, _t]);\n  }\n\n  return i;\n}\n\nfunction setAspectRatio(e) {\n  if (!this.isVideo) return {};\n\n  var t = this.elements.wrapper,\n      i = getAspectRatio.call(this, e),\n      _ref5 = is.array(i) ? i : [0, 0],\n      _ref6 = _slicedToArray(_ref5, 2),\n      s = _ref6[0],\n      n = _ref6[1],\n      r = 100 / s * n;\n\n  if (t.style.paddingBottom = r - .25 + \"%\", this.isVimeo && !this.config.vimeo.premium && this.supported.ui) {\n    var _e3 = 100 / this.media.offsetWidth * parseInt(window.getComputedStyle(this.media).paddingBottom, 10),\n        _i = (_e3 - r) / (_e3 / 50);\n\n    this.fullscreen.active ? t.style.paddingBottom = null : this.media.style.transform = \"translateY(-\".concat(_i, \"%)\");\n  } else this.isHTML5 && t.classList.toggle(this.config.classNames.videoFixedRatio, null !== i);\n\n  return {\n    padding: r,\n    ratio: i\n  };\n}\n\nvar html5 = {\n  getSources: function getSources() {\n    var _this4 = this;\n\n    if (!this.isHTML5) return [];\n    return Array.from(this.media.querySelectorAll(\"source\")).filter(function (e) {\n      var t = e.getAttribute(\"type\");\n      return !!is.empty(t) || support.mime.call(_this4, t);\n    });\n  },\n  getQualityOptions: function getQualityOptions() {\n    return this.config.quality.forced ? this.config.quality.options : html5.getSources.call(this).map(function (e) {\n      return Number(e.getAttribute(\"size\"));\n    }).filter(Boolean);\n  },\n  setup: function setup() {\n    if (!this.isHTML5) return;\n    var e = this;\n    e.options.speed = e.config.speed.options, is.empty(this.config.ratio) || setAspectRatio.call(e), Object.defineProperty(e.media, \"quality\", {\n      get: function get() {\n        var t = html5.getSources.call(e).find(function (t) {\n          return t.getAttribute(\"src\") === e.source;\n        });\n        return t && Number(t.getAttribute(\"size\"));\n      },\n      set: function set(t) {\n        if (e.quality !== t) {\n          if (e.config.quality.forced && is.function(e.config.quality.onChange)) e.config.quality.onChange(t);else {\n            var i = html5.getSources.call(e).find(function (e) {\n              return Number(e.getAttribute(\"size\")) === t;\n            });\n            if (!i) return;\n            var _e$media = e.media,\n                s = _e$media.currentTime,\n                n = _e$media.paused,\n                r = _e$media.preload,\n                a = _e$media.readyState,\n                o = _e$media.playbackRate;\n            e.media.src = i.getAttribute(\"src\"), (\"none\" !== r || a) && (e.once(\"loadedmetadata\", function () {\n              e.speed = o, e.currentTime = s, n || silencePromise(e.play());\n            }), e.media.load());\n          }\n          triggerEvent.call(e, e.media, \"qualitychange\", !1, {\n            quality: t\n          });\n        }\n      }\n    });\n  },\n  cancelRequests: function cancelRequests() {\n    this.isHTML5 && (removeElement(html5.getSources.call(this)), this.media.setAttribute(\"src\", this.config.blankVideo), this.media.load(), this.debug.log(\"Cancelled network requests\"));\n  }\n};\n\nfunction dedupe(e) {\n  return is.array(e) ? e.filter(function (t, i) {\n    return e.indexOf(t) === i;\n  }) : e;\n}\n\nfunction closest(e, t) {\n  return is.array(e) && e.length ? e.reduce(function (e, i) {\n    return Math.abs(i - t) < Math.abs(e - t) ? i : e;\n  }) : null;\n}\n\nfunction generateId(e) {\n  return \"\".concat(e, \"-\").concat(Math.floor(1e4 * Math.random()));\n}\n\nfunction format(e) {\n  for (var _len3 = arguments.length, t = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    t[_key3 - 1] = arguments[_key3];\n  }\n\n  return is.empty(e) ? e : e.toString().replace(/{(\\d+)}/g, function (e, i) {\n    return t[i].toString();\n  });\n}\n\nfunction getPercentage(e, t) {\n  return 0 === e || 0 === t || Number.isNaN(e) || Number.isNaN(t) ? 0 : (e / t * 100).toFixed(2);\n}\n\nvar replaceAll = function replaceAll() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, \"\\\\$1\"), \"g\"), i.toString());\n},\n    toTitleCase = function toTitleCase() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return e.toString().replace(/\\w\\S*/g, function (e) {\n    return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();\n  });\n};\n\nfunction toPascalCase() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var t = e.toString();\n  return t = replaceAll(t, \"-\", \" \"), t = replaceAll(t, \"_\", \" \"), t = toTitleCase(t), replaceAll(t, \" \", \"\");\n}\n\nfunction toCamelCase() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var t = e.toString();\n  return t = toPascalCase(t), t.charAt(0).toLowerCase() + t.slice(1);\n}\n\nfunction stripHTML(e) {\n  var t = document.createDocumentFragment(),\n      i = document.createElement(\"div\");\n  return t.appendChild(i), i.innerHTML = e, t.firstChild.innerText;\n}\n\nfunction getHTML(e) {\n  var t = document.createElement(\"div\");\n  return t.appendChild(e), t.innerHTML;\n}\n\nvar resources = {\n  pip: \"PIP\",\n  airplay: \"AirPlay\",\n  html5: \"HTML5\",\n  vimeo: \"Vimeo\",\n  youtube: \"YouTube\"\n},\n    i18n = {\n  get: function get() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (is.empty(e) || is.empty(t)) return \"\";\n    var i = getDeep(t.i18n, e);\n    if (is.empty(i)) return Object.keys(resources).includes(e) ? resources[e] : \"\";\n    var s = {\n      \"{seektime}\": t.seekTime,\n      \"{title}\": t.title\n    };\n    return Object.entries(s).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          e = _ref8[0],\n          t = _ref8[1];\n\n      i = replaceAll(i, e, t);\n    }), i;\n  }\n};\n\nvar Storage = /*#__PURE__*/function () {\n  function Storage(e) {\n    var _this5 = this;\n\n    _classCallCheck$1(this, Storage);\n\n    _defineProperty$1(this, \"get\", function (e) {\n      if (!Storage.supported || !_this5.enabled) return null;\n      var t = window.localStorage.getItem(_this5.key);\n      if (is.empty(t)) return null;\n      var i = JSON.parse(t);\n      return is.string(e) && e.length ? i[e] : i;\n    }), _defineProperty$1(this, \"set\", function (e) {\n      if (!Storage.supported || !_this5.enabled) return;\n      if (!is.object(e)) return;\n\n      var t = _this5.get();\n\n      is.empty(t) && (t = {}), extend(t, e), window.localStorage.setItem(_this5.key, JSON.stringify(t));\n    }), this.enabled = e.config.storage.enabled, this.key = e.config.storage.key;\n  }\n\n  _createClass$1(Storage, null, [{\n    key: \"supported\",\n    get: function get() {\n      try {\n        if (!(\"localStorage\" in window)) return !1;\n        var e = \"___test\";\n        return window.localStorage.setItem(e, e), window.localStorage.removeItem(e), !0;\n      } catch (e) {\n        return !1;\n      }\n    }\n  }]);\n\n  return Storage;\n}();\n\nfunction fetch$1(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"text\";\n  return new Promise(function (i, s) {\n    try {\n      var _s = new XMLHttpRequest();\n\n      if (!(\"withCredentials\" in _s)) return;\n      _s.addEventListener(\"load\", function () {\n        if (\"text\" === t) try {\n          i(JSON.parse(_s.responseText));\n        } catch (e) {\n          i(_s.responseText);\n        } else i(_s.response);\n      }), _s.addEventListener(\"error\", function () {\n        throw new Error(_s.status);\n      }), _s.open(\"GET\", e, !0), _s.responseType = t, _s.send();\n    } catch (e) {\n      s(e);\n    }\n  });\n}\n\nfunction _loadSprite(e, t) {\n  if (!is.string(e)) return;\n  var i = is.string(t);\n  var s = !1;\n\n  var n = function n() {\n    return null !== document.getElementById(t);\n  },\n      r = function r(e, t) {\n    e.innerHTML = t, i && n() || document.body.insertAdjacentElement(\"afterbegin\", e);\n  };\n\n  if (!i || !n()) {\n    var _n = Storage.supported,\n        a = document.createElement(\"div\");\n\n    if (a.setAttribute(\"hidden\", \"\"), i && a.setAttribute(\"id\", t), _n) {\n      var _e4 = window.localStorage.getItem(\"cache-\".concat(t));\n\n      if (s = null !== _e4, s) {\n        var _t2 = JSON.parse(_e4);\n\n        r(a, _t2.content);\n      }\n    }\n\n    fetch$1(e).then(function (e) {\n      is.empty(e) || (_n && window.localStorage.setItem(\"cache-\".concat(t), JSON.stringify({\n        content: e\n      })), r(a, e));\n    }).catch(function () {});\n  }\n}\n\nvar getHours = function getHours(e) {\n  return Math.trunc(e / 60 / 60 % 60, 10);\n},\n    getSeconds = function getSeconds(e) {\n  return Math.trunc(e % 60, 10);\n};\n\nfunction _formatTime() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  if (!is.number(e)) return _formatTime(void 0, t, i);\n\n  var s = function s(e) {\n    return \"0\".concat(e).slice(-2);\n  };\n\n  var n = getHours(e);\n  var r = (a = e, Math.trunc(a / 60 % 60, 10));\n  var a;\n  var o = getSeconds(e);\n  return n = t || n > 0 ? \"\".concat(n, \":\") : \"\", \"\".concat(i && e > 0 ? \"-\" : \"\").concat(n).concat(s(r), \":\").concat(s(o));\n}\n\nvar controls = {\n  getIconUrl: function getIconUrl() {\n    var e = new URL(this.config.iconUrl, window.location).host !== window.location.host || browser.isIE && !window.svg4everybody;\n    return {\n      url: this.config.iconUrl,\n      cors: e\n    };\n  },\n  findElements: function findElements() {\n    try {\n      return this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper), this.elements.buttons = {\n        play: getElements.call(this, this.config.selectors.buttons.play),\n        pause: getElement.call(this, this.config.selectors.buttons.pause),\n        restart: getElement.call(this, this.config.selectors.buttons.restart),\n        rewind: getElement.call(this, this.config.selectors.buttons.rewind),\n        fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),\n        mute: getElement.call(this, this.config.selectors.buttons.mute),\n        pip: getElement.call(this, this.config.selectors.buttons.pip),\n        airplay: getElement.call(this, this.config.selectors.buttons.airplay),\n        settings: getElement.call(this, this.config.selectors.buttons.settings),\n        captions: getElement.call(this, this.config.selectors.buttons.captions),\n        fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen)\n      }, this.elements.progress = getElement.call(this, this.config.selectors.progress), this.elements.inputs = {\n        seek: getElement.call(this, this.config.selectors.inputs.seek),\n        volume: getElement.call(this, this.config.selectors.inputs.volume)\n      }, this.elements.display = {\n        buffer: getElement.call(this, this.config.selectors.display.buffer),\n        currentTime: getElement.call(this, this.config.selectors.display.currentTime),\n        duration: getElement.call(this, this.config.selectors.display.duration)\n      }, is.element(this.elements.progress) && (this.elements.display.seekTooltip = this.elements.progress.querySelector(\".\".concat(this.config.classNames.tooltip))), !0;\n    } catch (e) {\n      return this.debug.warn(\"It looks like there is a problem with your custom controls HTML\", e), this.toggleNativeControls(!0), !1;\n    }\n  },\n  createIcon: function createIcon(e, t) {\n    var i = \"http://www.w3.org/2000/svg\",\n        s = controls.getIconUrl.call(this),\n        n = \"\".concat(s.cors ? \"\" : s.url, \"#\").concat(this.config.iconPrefix),\n        r = document.createElementNS(i, \"svg\");\n    setAttributes(r, extend(t, {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\"\n    }));\n    var a = document.createElementNS(i, \"use\"),\n        o = \"\".concat(n, \"-\").concat(e);\n    return \"href\" in a && a.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", o), a.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"xlink:href\", o), r.appendChild(a), r;\n  },\n  createLabel: function createLabel(e) {\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var i = i18n.get(e, this.config);\n    return createElement(\"span\", _objectSpread2$1(_objectSpread2$1({}, t), {}, {\n      class: [t.class, this.config.classNames.hidden].filter(Boolean).join(\" \")\n    }), i);\n  },\n  createBadge: function createBadge(e) {\n    if (is.empty(e)) return null;\n    var t = createElement(\"span\", {\n      class: this.config.classNames.menu.value\n    });\n    return t.appendChild(createElement(\"span\", {\n      class: this.config.classNames.menu.badge\n    }, e)), t;\n  },\n  createButton: function createButton(e, t) {\n    var _this6 = this;\n\n    var i = extend({}, t);\n    var s = toCamelCase(e);\n    var n = {\n      element: \"button\",\n      toggle: !1,\n      label: null,\n      icon: null,\n      labelPressed: null,\n      iconPressed: null\n    };\n\n    switch ([\"element\", \"icon\", \"label\"].forEach(function (e) {\n      Object.keys(i).includes(e) && (n[e] = i[e], delete i[e]);\n    }), \"button\" !== n.element || Object.keys(i).includes(\"type\") || (i.type = \"button\"), Object.keys(i).includes(\"class\") ? i.class.split(\" \").some(function (e) {\n      return e === _this6.config.classNames.control;\n    }) || extend(i, {\n      class: \"\".concat(i.class, \" \").concat(this.config.classNames.control)\n    }) : i.class = this.config.classNames.control, e) {\n      case \"play\":\n        n.toggle = !0, n.label = \"play\", n.labelPressed = \"pause\", n.icon = \"play\", n.iconPressed = \"pause\";\n        break;\n\n      case \"mute\":\n        n.toggle = !0, n.label = \"mute\", n.labelPressed = \"unmute\", n.icon = \"volume\", n.iconPressed = \"muted\";\n        break;\n\n      case \"captions\":\n        n.toggle = !0, n.label = \"enableCaptions\", n.labelPressed = \"disableCaptions\", n.icon = \"captions-off\", n.iconPressed = \"captions-on\";\n        break;\n\n      case \"fullscreen\":\n        n.toggle = !0, n.label = \"enterFullscreen\", n.labelPressed = \"exitFullscreen\", n.icon = \"enter-fullscreen\", n.iconPressed = \"exit-fullscreen\";\n        break;\n\n      case \"play-large\":\n        i.class += \" \".concat(this.config.classNames.control, \"--overlaid\"), s = \"play\", n.label = \"play\", n.icon = \"play\";\n        break;\n\n      default:\n        is.empty(n.label) && (n.label = s), is.empty(n.icon) && (n.icon = e);\n    }\n\n    var r = createElement(n.element);\n    return n.toggle ? (r.appendChild(controls.createIcon.call(this, n.iconPressed, {\n      class: \"icon--pressed\"\n    })), r.appendChild(controls.createIcon.call(this, n.icon, {\n      class: \"icon--not-pressed\"\n    })), r.appendChild(controls.createLabel.call(this, n.labelPressed, {\n      class: \"label--pressed\"\n    })), r.appendChild(controls.createLabel.call(this, n.label, {\n      class: \"label--not-pressed\"\n    }))) : (r.appendChild(controls.createIcon.call(this, n.icon)), r.appendChild(controls.createLabel.call(this, n.label))), extend(i, getAttributesFromSelector(this.config.selectors.buttons[s], i)), setAttributes(r, i), \"play\" === s ? (is.array(this.elements.buttons[s]) || (this.elements.buttons[s] = []), this.elements.buttons[s].push(r)) : this.elements.buttons[s] = r, r;\n  },\n  createRange: function createRange(e, t) {\n    var i = createElement(\"input\", extend(getAttributesFromSelector(this.config.selectors.inputs[e]), {\n      type: \"range\",\n      min: 0,\n      max: 100,\n      step: .01,\n      value: 0,\n      autocomplete: \"off\",\n      role: \"slider\",\n      \"aria-label\": i18n.get(e, this.config),\n      \"aria-valuemin\": 0,\n      \"aria-valuemax\": 100,\n      \"aria-valuenow\": 0\n    }, t));\n    return this.elements.inputs[e] = i, controls.updateRangeFill.call(this, i), RangeTouch.setup(i), i;\n  },\n  createProgress: function createProgress(e, t) {\n    var i = createElement(\"progress\", extend(getAttributesFromSelector(this.config.selectors.display[e]), {\n      min: 0,\n      max: 100,\n      value: 0,\n      role: \"progressbar\",\n      \"aria-hidden\": !0\n    }, t));\n\n    if (\"volume\" !== e) {\n      i.appendChild(createElement(\"span\", null, \"0\"));\n      var _t3 = {\n        played: \"played\",\n        buffer: \"buffered\"\n      }[e],\n          s = _t3 ? i18n.get(_t3, this.config) : \"\";\n      i.innerText = \"% \".concat(s.toLowerCase());\n    }\n\n    return this.elements.display[e] = i, i;\n  },\n  createTime: function createTime(e, t) {\n    var i = getAttributesFromSelector(this.config.selectors.display[e], t),\n        s = createElement(\"div\", extend(i, {\n      class: \"\".concat(i.class ? i.class : \"\", \" \").concat(this.config.classNames.display.time, \" \").trim(),\n      \"aria-label\": i18n.get(e, this.config)\n    }), \"00:00\");\n    return this.elements.display[e] = s, s;\n  },\n  bindMenuItemShortcuts: function bindMenuItemShortcuts(e, t) {\n    var _this7 = this;\n\n    on.call(this, e, \"keydown keyup\", function (i) {\n      if (![32, 38, 39, 40].includes(i.which)) return;\n      if (i.preventDefault(), i.stopPropagation(), \"keydown\" === i.type) return;\n      var s = matches(e, '[role=\"menuitemradio\"]');\n      if (!s && [32, 39].includes(i.which)) controls.showMenuPanel.call(_this7, t, !0);else {\n        var _t4;\n\n        32 !== i.which && (40 === i.which || s && 39 === i.which ? (_t4 = e.nextElementSibling, is.element(_t4) || (_t4 = e.parentNode.firstElementChild)) : (_t4 = e.previousElementSibling, is.element(_t4) || (_t4 = e.parentNode.lastElementChild)), setFocus.call(_this7, _t4, !0));\n      }\n    }, !1), on.call(this, e, \"keyup\", function (e) {\n      13 === e.which && controls.focusFirstMenuItem.call(_this7, null, !0);\n    });\n  },\n  createMenuItem: function createMenuItem(_ref9) {\n    var _this8 = this;\n\n    var e = _ref9.value,\n        t = _ref9.list,\n        i = _ref9.type,\n        s = _ref9.title,\n        _ref9$badge = _ref9.badge,\n        n = _ref9$badge === void 0 ? null : _ref9$badge,\n        _ref9$checked = _ref9.checked,\n        r = _ref9$checked === void 0 ? !1 : _ref9$checked;\n    var a = getAttributesFromSelector(this.config.selectors.inputs[i]),\n        o = createElement(\"button\", extend(a, {\n      type: \"button\",\n      role: \"menuitemradio\",\n      class: \"\".concat(this.config.classNames.control, \" \").concat(a.class ? a.class : \"\").trim(),\n      \"aria-checked\": r,\n      value: e\n    })),\n        l = createElement(\"span\");\n    l.innerHTML = s, is.element(n) && l.appendChild(n), o.appendChild(l), Object.defineProperty(o, \"checked\", {\n      enumerable: !0,\n      get: function get() {\n        return \"true\" === o.getAttribute(\"aria-checked\");\n      },\n      set: function set(e) {\n        e && Array.from(o.parentNode.children).filter(function (e) {\n          return matches(e, '[role=\"menuitemradio\"]');\n        }).forEach(function (e) {\n          return e.setAttribute(\"aria-checked\", \"false\");\n        }), o.setAttribute(\"aria-checked\", e ? \"true\" : \"false\");\n      }\n    }), this.listeners.bind(o, \"click keyup\", function (t) {\n      if (!is.keyboardEvent(t) || 32 === t.which) {\n        switch (t.preventDefault(), t.stopPropagation(), o.checked = !0, i) {\n          case \"language\":\n            _this8.currentTrack = Number(e);\n            break;\n\n          case \"quality\":\n            _this8.quality = e;\n            break;\n\n          case \"speed\":\n            _this8.speed = parseFloat(e);\n        }\n\n        controls.showMenuPanel.call(_this8, \"home\", is.keyboardEvent(t));\n      }\n    }, i, !1), controls.bindMenuItemShortcuts.call(this, o, i), t.appendChild(o);\n  },\n  formatTime: function formatTime() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    if (!is.number(e)) return e;\n    return _formatTime(e, getHours(this.duration) > 0, t);\n  },\n  updateTimeDisplay: function updateTimeDisplay() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n    is.element(e) && is.number(t) && (e.innerText = controls.formatTime(t, i));\n  },\n  updateVolume: function updateVolume() {\n    this.supported.ui && (is.element(this.elements.inputs.volume) && controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume), is.element(this.elements.buttons.mute) && (this.elements.buttons.mute.pressed = this.muted || 0 === this.volume));\n  },\n  setRange: function setRange(e) {\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    is.element(e) && (e.value = t, controls.updateRangeFill.call(this, e));\n  },\n  updateProgress: function updateProgress(e) {\n    var _this9 = this;\n\n    if (!this.supported.ui || !is.event(e)) return;\n    var t = 0;\n\n    var i = function i(e, t) {\n      var i = is.number(t) ? t : 0,\n          s = is.element(e) ? e : _this9.elements.display.buffer;\n\n      if (is.element(s)) {\n        s.value = i;\n        var _e5 = s.getElementsByTagName(\"span\")[0];\n        is.element(_e5) && (_e5.childNodes[0].nodeValue = i);\n      }\n    };\n\n    if (e) switch (e.type) {\n      case \"timeupdate\":\n      case \"seeking\":\n      case \"seeked\":\n        t = getPercentage(this.currentTime, this.duration), \"timeupdate\" === e.type && controls.setRange.call(this, this.elements.inputs.seek, t);\n        break;\n\n      case \"playing\":\n      case \"progress\":\n        i(this.elements.display.buffer, 100 * this.buffered);\n    }\n  },\n  updateRangeFill: function updateRangeFill(e) {\n    var t = is.event(e) ? e.target : e;\n\n    if (is.element(t) && \"range\" === t.getAttribute(\"type\")) {\n      if (matches(t, this.config.selectors.inputs.seek)) {\n        t.setAttribute(\"aria-valuenow\", this.currentTime);\n\n        var _e6 = controls.formatTime(this.currentTime),\n            i = controls.formatTime(this.duration),\n            s = i18n.get(\"seekLabel\", this.config);\n\n        t.setAttribute(\"aria-valuetext\", s.replace(\"{currentTime}\", _e6).replace(\"{duration}\", i));\n      } else if (matches(t, this.config.selectors.inputs.volume)) {\n        var _e7 = 100 * t.value;\n\n        t.setAttribute(\"aria-valuenow\", _e7), t.setAttribute(\"aria-valuetext\", \"\".concat(_e7.toFixed(1), \"%\"));\n      } else t.setAttribute(\"aria-valuenow\", t.value);\n\n      browser.isWebkit && t.style.setProperty(\"--value\", t.value / t.max * 100 + \"%\");\n    }\n  },\n  updateSeekTooltip: function updateSeekTooltip(e) {\n    var _this10 = this;\n\n    if (!this.config.tooltips.seek || !is.element(this.elements.inputs.seek) || !is.element(this.elements.display.seekTooltip) || 0 === this.duration) return;\n\n    var t = \"\".concat(this.config.classNames.tooltip, \"--visible\"),\n        i = function i(e) {\n      return toggleClass(_this10.elements.display.seekTooltip, t, e);\n    };\n\n    if (this.touch) return void i(!1);\n    var s = 0;\n    var n = this.elements.progress.getBoundingClientRect();\n    if (is.event(e)) s = 100 / n.width * (e.pageX - n.left);else {\n      if (!hasClass(this.elements.display.seekTooltip, t)) return;\n      s = parseFloat(this.elements.display.seekTooltip.style.left, 10);\n    }\n    s < 0 ? s = 0 : s > 100 && (s = 100), controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * s), this.elements.display.seekTooltip.style.left = \"\".concat(s, \"%\"), is.event(e) && [\"mouseenter\", \"mouseleave\"].includes(e.type) && i(\"mouseenter\" === e.type);\n  },\n  timeUpdate: function timeUpdate(e) {\n    var t = !is.element(this.elements.display.duration) && this.config.invertTime;\n    controls.updateTimeDisplay.call(this, this.elements.display.currentTime, t ? this.duration - this.currentTime : this.currentTime, t), e && \"timeupdate\" === e.type && this.media.seeking || controls.updateProgress.call(this, e);\n  },\n  durationUpdate: function durationUpdate() {\n    if (!this.supported.ui || !this.config.invertTime && this.currentTime) return;\n    if (this.duration >= Math.pow(2, 32)) return toggleHidden(this.elements.display.currentTime, !0), void toggleHidden(this.elements.progress, !0);\n    is.element(this.elements.inputs.seek) && this.elements.inputs.seek.setAttribute(\"aria-valuemax\", this.duration);\n    var e = is.element(this.elements.display.duration);\n    !e && this.config.displayDuration && this.paused && controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration), e && controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration), controls.updateSeekTooltip.call(this);\n  },\n  toggleMenuButton: function toggleMenuButton(e, t) {\n    toggleHidden(this.elements.settings.buttons[e], !t);\n  },\n  updateSetting: function updateSetting(e, t, i) {\n    var s = this.elements.settings.panels[e];\n    var n = null,\n        r = t;\n    if (\"captions\" === e) n = this.currentTrack;else {\n      if (n = is.empty(i) ? this[e] : i, is.empty(n) && (n = this.config[e].default), !is.empty(this.options[e]) && !this.options[e].includes(n)) return void this.debug.warn(\"Unsupported value of '\".concat(n, \"' for \").concat(e));\n      if (!this.config[e].options.includes(n)) return void this.debug.warn(\"Disabled value of '\".concat(n, \"' for \").concat(e));\n    }\n    if (is.element(r) || (r = s && s.querySelector('[role=\"menu\"]')), !is.element(r)) return;\n    this.elements.settings.buttons[e].querySelector(\".\".concat(this.config.classNames.menu.value)).innerHTML = controls.getLabel.call(this, e, n);\n    var a = r && r.querySelector(\"[value=\\\"\".concat(n, \"\\\"]\"));\n    is.element(a) && (a.checked = !0);\n  },\n  getLabel: function getLabel(e, t) {\n    switch (e) {\n      case \"speed\":\n        return 1 === t ? i18n.get(\"normal\", this.config) : \"\".concat(t, \"&times;\");\n\n      case \"quality\":\n        if (is.number(t)) {\n          if (0 === t) return i18n.get(\"auto\", this.config);\n\n          var _e8 = i18n.get(\"qualityLabel.\".concat(t), this.config);\n\n          return _e8.length ? _e8 : \"\".concat(t, \"p\");\n        }\n\n        return toTitleCase(t);\n\n      case \"captions\":\n        return captions.getLabel.call(this);\n\n      default:\n        return null;\n    }\n  },\n  setQualityMenu: function setQualityMenu(e) {\n    var _this11 = this;\n\n    if (!is.element(this.elements.settings.panels.quality)) return;\n    var t = \"quality\",\n        i = this.elements.settings.panels.quality.querySelector('[role=\"menu\"]');\n    is.array(e) && (this.options.quality = dedupe(e).filter(function (e) {\n      return _this11.config.quality.options.includes(e);\n    }));\n    var s = !is.empty(this.options.quality) && this.options.quality.length > 1;\n    if (controls.toggleMenuButton.call(this, t, s), emptyElement(i), controls.checkMenu.call(this), !s) return;\n\n    var n = function n(e) {\n      var t = i18n.get(\"qualityBadge.\".concat(e), _this11.config);\n      return t.length ? controls.createBadge.call(_this11, t) : null;\n    };\n\n    this.options.quality.sort(function (e, t) {\n      var i = _this11.config.quality.options;\n      return i.indexOf(e) > i.indexOf(t) ? 1 : -1;\n    }).forEach(function (e) {\n      controls.createMenuItem.call(_this11, {\n        value: e,\n        list: i,\n        type: t,\n        title: controls.getLabel.call(_this11, \"quality\", e),\n        badge: n(e)\n      });\n    }), controls.updateSetting.call(this, t, i);\n  },\n  setCaptionsMenu: function setCaptionsMenu() {\n    var _this12 = this;\n\n    if (!is.element(this.elements.settings.panels.captions)) return;\n    var e = \"captions\",\n        t = this.elements.settings.panels.captions.querySelector('[role=\"menu\"]'),\n        i = captions.getTracks.call(this),\n        s = Boolean(i.length);\n    if (controls.toggleMenuButton.call(this, e, s), emptyElement(t), controls.checkMenu.call(this), !s) return;\n    var n = i.map(function (e, i) {\n      return {\n        value: i,\n        checked: _this12.captions.toggled && _this12.currentTrack === i,\n        title: captions.getLabel.call(_this12, e),\n        badge: e.language && controls.createBadge.call(_this12, e.language.toUpperCase()),\n        list: t,\n        type: \"language\"\n      };\n    });\n    n.unshift({\n      value: -1,\n      checked: !this.captions.toggled,\n      title: i18n.get(\"disabled\", this.config),\n      list: t,\n      type: \"language\"\n    }), n.forEach(controls.createMenuItem.bind(this)), controls.updateSetting.call(this, e, t);\n  },\n  setSpeedMenu: function setSpeedMenu() {\n    var _this13 = this;\n\n    if (!is.element(this.elements.settings.panels.speed)) return;\n    var e = \"speed\",\n        t = this.elements.settings.panels.speed.querySelector('[role=\"menu\"]');\n    this.options.speed = this.options.speed.filter(function (e) {\n      return e >= _this13.minimumSpeed && e <= _this13.maximumSpeed;\n    });\n    var i = !is.empty(this.options.speed) && this.options.speed.length > 1;\n    controls.toggleMenuButton.call(this, e, i), emptyElement(t), controls.checkMenu.call(this), i && (this.options.speed.forEach(function (i) {\n      controls.createMenuItem.call(_this13, {\n        value: i,\n        list: t,\n        type: e,\n        title: controls.getLabel.call(_this13, \"speed\", i)\n      });\n    }), controls.updateSetting.call(this, e, t));\n  },\n  checkMenu: function checkMenu() {\n    var e = this.elements.settings.buttons,\n        t = !is.empty(e) && Object.values(e).some(function (e) {\n      return !e.hidden;\n    });\n    toggleHidden(this.elements.settings.menu, !t);\n  },\n  focusFirstMenuItem: function focusFirstMenuItem(e) {\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    if (this.elements.settings.popup.hidden) return;\n    var i = e;\n    is.element(i) || (i = Object.values(this.elements.settings.panels).find(function (e) {\n      return !e.hidden;\n    }));\n    var s = i.querySelector('[role^=\"menuitem\"]');\n    setFocus.call(this, s, t);\n  },\n  toggleMenu: function toggleMenu(e) {\n    var t = this.elements.settings.popup,\n        i = this.elements.buttons.settings;\n    if (!is.element(t) || !is.element(i)) return;\n    var s = t.hidden;\n    var n = s;\n    if (is.boolean(e)) n = e;else if (is.keyboardEvent(e) && 27 === e.which) n = !1;else if (is.event(e)) {\n      var _s2 = is.function(e.composedPath) ? e.composedPath()[0] : e.target,\n          r = t.contains(_s2);\n\n      if (r || !r && e.target !== i && n) return;\n    }\n    i.setAttribute(\"aria-expanded\", n), toggleHidden(t, !n), toggleClass(this.elements.container, this.config.classNames.menu.open, n), n && is.keyboardEvent(e) ? controls.focusFirstMenuItem.call(this, null, !0) : n || s || setFocus.call(this, i, is.keyboardEvent(e));\n  },\n  getMenuSize: function getMenuSize(e) {\n    var t = e.cloneNode(!0);\n    t.style.position = \"absolute\", t.style.opacity = 0, t.removeAttribute(\"hidden\"), e.parentNode.appendChild(t);\n    var i = t.scrollWidth,\n        s = t.scrollHeight;\n    return removeElement(t), {\n      width: i,\n      height: s\n    };\n  },\n  showMenuPanel: function showMenuPanel() {\n    var _this14 = this;\n\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n    var i = this.elements.container.querySelector(\"#plyr-settings-\".concat(this.id, \"-\").concat(e));\n    if (!is.element(i)) return;\n    var s = i.parentNode,\n        n = Array.from(s.children).find(function (e) {\n      return !e.hidden;\n    });\n\n    if (support.transitions && !support.reducedMotion) {\n      s.style.width = \"\".concat(n.scrollWidth, \"px\"), s.style.height = \"\".concat(n.scrollHeight, \"px\");\n\n      var _e9 = controls.getMenuSize.call(this, i),\n          _t5 = function _t5(e) {\n        e.target === s && [\"width\", \"height\"].includes(e.propertyName) && (s.style.width = \"\", s.style.height = \"\", off.call(_this14, s, transitionEndEvent, _t5));\n      };\n\n      on.call(this, s, transitionEndEvent, _t5), s.style.width = \"\".concat(_e9.width, \"px\"), s.style.height = \"\".concat(_e9.height, \"px\");\n    }\n\n    toggleHidden(n, !0), toggleHidden(i, !1), controls.focusFirstMenuItem.call(this, i, t);\n  },\n  setDownloadUrl: function setDownloadUrl() {\n    var e = this.elements.buttons.download;\n    is.element(e) && e.setAttribute(\"href\", this.download);\n  },\n  create: function create(e) {\n    var _this15 = this;\n\n    var t = controls.bindMenuItemShortcuts,\n        i = controls.createButton,\n        s = controls.createProgress,\n        n = controls.createRange,\n        r = controls.createTime,\n        a = controls.setQualityMenu,\n        o = controls.setSpeedMenu,\n        l = controls.showMenuPanel;\n    this.elements.controls = null, is.array(this.config.controls) && this.config.controls.includes(\"play-large\") && this.elements.container.appendChild(i.call(this, \"play-large\"));\n    var c = createElement(\"div\", getAttributesFromSelector(this.config.selectors.controls.wrapper));\n    this.elements.controls = c;\n    var u = {\n      class: \"plyr__controls__item\"\n    };\n    return dedupe(is.array(this.config.controls) ? this.config.controls : []).forEach(function (a) {\n      if (\"restart\" === a && c.appendChild(i.call(_this15, \"restart\", u)), \"rewind\" === a && c.appendChild(i.call(_this15, \"rewind\", u)), \"play\" === a && c.appendChild(i.call(_this15, \"play\", u)), \"fast-forward\" === a && c.appendChild(i.call(_this15, \"fast-forward\", u)), \"progress\" === a) {\n        var _t6 = createElement(\"div\", {\n          class: \"\".concat(u.class, \" plyr__progress__container\")\n        }),\n            _i2 = createElement(\"div\", getAttributesFromSelector(_this15.config.selectors.progress));\n\n        if (_i2.appendChild(n.call(_this15, \"seek\", {\n          id: \"plyr-seek-\".concat(e.id)\n        })), _i2.appendChild(s.call(_this15, \"buffer\")), _this15.config.tooltips.seek) {\n          var _e10 = createElement(\"span\", {\n            class: _this15.config.classNames.tooltip\n          }, \"00:00\");\n\n          _i2.appendChild(_e10), _this15.elements.display.seekTooltip = _e10;\n        }\n\n        _this15.elements.progress = _i2, _t6.appendChild(_this15.elements.progress), c.appendChild(_t6);\n      }\n\n      if (\"current-time\" === a && c.appendChild(r.call(_this15, \"currentTime\", u)), \"duration\" === a && c.appendChild(r.call(_this15, \"duration\", u)), \"mute\" === a || \"volume\" === a) {\n        var _t7 = _this15.elements.volume;\n\n        if (is.element(_t7) && c.contains(_t7) || (_t7 = createElement(\"div\", extend({}, u, {\n          class: \"\".concat(u.class, \" plyr__volume\").trim()\n        })), _this15.elements.volume = _t7, c.appendChild(_t7)), \"mute\" === a && _t7.appendChild(i.call(_this15, \"mute\")), \"volume\" === a && !browser.isIos) {\n          var _i3 = {\n            max: 1,\n            step: .05,\n            value: _this15.config.volume\n          };\n\n          _t7.appendChild(n.call(_this15, \"volume\", extend(_i3, {\n            id: \"plyr-volume-\".concat(e.id)\n          })));\n        }\n      }\n\n      if (\"captions\" === a && c.appendChild(i.call(_this15, \"captions\", u)), \"settings\" === a && !is.empty(_this15.config.settings)) {\n        var _s3 = createElement(\"div\", extend({}, u, {\n          class: \"\".concat(u.class, \" plyr__menu\").trim(),\n          hidden: \"\"\n        }));\n\n        _s3.appendChild(i.call(_this15, \"settings\", {\n          \"aria-haspopup\": !0,\n          \"aria-controls\": \"plyr-settings-\".concat(e.id),\n          \"aria-expanded\": !1\n        }));\n\n        var _n2 = createElement(\"div\", {\n          class: \"plyr__menu__container\",\n          id: \"plyr-settings-\".concat(e.id),\n          hidden: \"\"\n        }),\n            _r2 = createElement(\"div\"),\n            _a = createElement(\"div\", {\n          id: \"plyr-settings-\".concat(e.id, \"-home\")\n        }),\n            _o = createElement(\"div\", {\n          role: \"menu\"\n        });\n\n        _a.appendChild(_o), _r2.appendChild(_a), _this15.elements.settings.panels.home = _a, _this15.config.settings.forEach(function (i) {\n          var s = createElement(\"button\", extend(getAttributesFromSelector(_this15.config.selectors.buttons.settings), {\n            type: \"button\",\n            class: \"\".concat(_this15.config.classNames.control, \" \").concat(_this15.config.classNames.control, \"--forward\"),\n            role: \"menuitem\",\n            \"aria-haspopup\": !0,\n            hidden: \"\"\n          }));\n          t.call(_this15, s, i), on.call(_this15, s, \"click\", function () {\n            l.call(_this15, i, !1);\n          });\n          var n = createElement(\"span\", null, i18n.get(i, _this15.config)),\n              a = createElement(\"span\", {\n            class: _this15.config.classNames.menu.value\n          });\n          a.innerHTML = e[i], n.appendChild(a), s.appendChild(n), _o.appendChild(s);\n          var c = createElement(\"div\", {\n            id: \"plyr-settings-\".concat(e.id, \"-\").concat(i),\n            hidden: \"\"\n          }),\n              u = createElement(\"button\", {\n            type: \"button\",\n            class: \"\".concat(_this15.config.classNames.control, \" \").concat(_this15.config.classNames.control, \"--back\")\n          });\n          u.appendChild(createElement(\"span\", {\n            \"aria-hidden\": !0\n          }, i18n.get(i, _this15.config))), u.appendChild(createElement(\"span\", {\n            class: _this15.config.classNames.hidden\n          }, i18n.get(\"menuBack\", _this15.config))), on.call(_this15, c, \"keydown\", function (e) {\n            37 === e.which && (e.preventDefault(), e.stopPropagation(), l.call(_this15, \"home\", !0));\n          }, !1), on.call(_this15, u, \"click\", function () {\n            l.call(_this15, \"home\", !1);\n          }), c.appendChild(u), c.appendChild(createElement(\"div\", {\n            role: \"menu\"\n          })), _r2.appendChild(c), _this15.elements.settings.buttons[i] = s, _this15.elements.settings.panels[i] = c;\n        }), _n2.appendChild(_r2), _s3.appendChild(_n2), c.appendChild(_s3), _this15.elements.settings.popup = _n2, _this15.elements.settings.menu = _s3;\n      }\n\n      if (\"pip\" === a && support.pip && c.appendChild(i.call(_this15, \"pip\", u)), \"airplay\" === a && support.airplay && c.appendChild(i.call(_this15, \"airplay\", u)), \"download\" === a) {\n        var _e11 = extend({}, u, {\n          element: \"a\",\n          href: _this15.download,\n          target: \"_blank\"\n        });\n\n        _this15.isHTML5 && (_e11.download = \"\");\n        var _t8 = _this15.config.urls.download;\n        !is.url(_t8) && _this15.isEmbed && extend(_e11, {\n          icon: \"logo-\".concat(_this15.provider),\n          label: _this15.provider\n        }), c.appendChild(i.call(_this15, \"download\", _e11));\n      }\n\n      \"fullscreen\" === a && c.appendChild(i.call(_this15, \"fullscreen\", u));\n    }), this.isHTML5 && a.call(this, html5.getQualityOptions.call(this)), o.call(this), c;\n  },\n  inject: function inject() {\n    var _this16 = this;\n\n    if (this.config.loadSprite) {\n      var _e12 = controls.getIconUrl.call(this);\n\n      _e12.cors && _loadSprite(_e12.url, \"sprite-plyr\");\n    }\n\n    this.id = Math.floor(1e4 * Math.random());\n    var e = null;\n    this.elements.controls = null;\n    var t = {\n      id: this.id,\n      seektime: this.config.seekTime,\n      title: this.config.title\n    };\n    var i = !0;\n    is.function(this.config.controls) && (this.config.controls = this.config.controls.call(this, t)), this.config.controls || (this.config.controls = []), is.element(this.config.controls) || is.string(this.config.controls) ? e = this.config.controls : (e = controls.create.call(this, {\n      id: this.id,\n      seektime: this.config.seekTime,\n      speed: this.speed,\n      quality: this.quality,\n      captions: captions.getLabel.call(this)\n    }), i = !1);\n    var s;\n    i && is.string(this.config.controls) && (e = function (e) {\n      var i = e;\n      return Object.entries(t).forEach(function (_ref10) {\n        var _ref11 = _slicedToArray(_ref10, 2),\n            e = _ref11[0],\n            t = _ref11[1];\n\n        i = replaceAll(i, \"{\".concat(e, \"}\"), t);\n      }), i;\n    }(e)), is.string(this.config.selectors.controls.container) && (s = document.querySelector(this.config.selectors.controls.container)), is.element(s) || (s = this.elements.container);\n\n    if (s[is.element(e) ? \"insertAdjacentElement\" : \"insertAdjacentHTML\"](\"afterbegin\", e), is.element(this.elements.controls) || controls.findElements.call(this), !is.empty(this.elements.buttons)) {\n      var _e13 = function _e13(e) {\n        var t = _this16.config.classNames.controlPressed;\n        Object.defineProperty(e, \"pressed\", {\n          enumerable: !0,\n          get: function get() {\n            return hasClass(e, t);\n          },\n          set: function set() {\n            var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n            toggleClass(e, t, i);\n          }\n        });\n      };\n\n      Object.values(this.elements.buttons).filter(Boolean).forEach(function (t) {\n        is.array(t) || is.nodeList(t) ? Array.from(t).filter(Boolean).forEach(_e13) : _e13(t);\n      });\n    }\n\n    if (browser.isEdge && repaint(s), this.config.tooltips.controls) {\n      var _this$config = this.config,\n          _e14 = _this$config.classNames,\n          _t9 = _this$config.selectors,\n          _i4 = \"\".concat(_t9.controls.wrapper, \" \").concat(_t9.labels, \" .\").concat(_e14.hidden),\n          _s4 = getElements.call(this, _i4);\n\n      Array.from(_s4).forEach(function (e) {\n        toggleClass(e, _this16.config.classNames.hidden, !1), toggleClass(e, _this16.config.classNames.tooltip, !0);\n      });\n    }\n  }\n};\n\nfunction parseUrl(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n  var i = e;\n\n  if (t) {\n    var _e15 = document.createElement(\"a\");\n\n    _e15.href = i, i = _e15.href;\n  }\n\n  try {\n    return new URL(i);\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction buildUrlParams(e) {\n  var t = new URLSearchParams();\n  return is.object(e) && Object.entries(e).forEach(function (_ref12) {\n    var _ref13 = _slicedToArray(_ref12, 2),\n        e = _ref13[0],\n        i = _ref13[1];\n\n    t.set(e, i);\n  }), t;\n}\n\nvar captions = {\n  setup: function setup() {\n    var _e17, _e18, _this$config$captions;\n\n    if (!this.supported.ui) return;\n    if (!this.isVideo || this.isYouTube || this.isHTML5 && !support.textTracks) return void (is.array(this.config.controls) && this.config.controls.includes(\"settings\") && this.config.settings.includes(\"captions\") && controls.setCaptionsMenu.call(this));\n\n    if (is.element(this.elements.captions) || (this.elements.captions = createElement(\"div\", getAttributesFromSelector(this.config.selectors.captions)), insertAfter(this.elements.captions, this.elements.wrapper)), browser.isIE && window.URL) {\n      var _e16 = this.media.querySelectorAll(\"track\");\n\n      Array.from(_e16).forEach(function (e) {\n        var t = e.getAttribute(\"src\"),\n            i = parseUrl(t);\n        null !== i && i.hostname !== window.location.href.hostname && [\"http:\", \"https:\"].includes(i.protocol) && fetch$1(t, \"blob\").then(function (t) {\n          e.setAttribute(\"src\", window.URL.createObjectURL(t));\n        }).catch(function () {\n          removeElement(e);\n        });\n      });\n    }\n\n    var e = dedupe((navigator.languages || [navigator.language || navigator.userLanguage || \"en\"]).map(function (e) {\n      return e.split(\"-\")[0];\n    }));\n    var t = (this.storage.get(\"language\") || this.config.captions.language || \"auto\").toLowerCase();\n    \"auto\" === t && (_e17 = e, _e18 = _slicedToArray(_e17, 1), t = _e18[0], _e17);\n    var i = this.storage.get(\"captions\");\n\n    if (is.boolean(i) || (_this$config$captions = this.config.captions, i = _this$config$captions.active, _this$config$captions), Object.assign(this.captions, {\n      toggled: !1,\n      active: i,\n      language: t,\n      languages: e\n    }), this.isHTML5) {\n      var _e19 = this.config.captions.update ? \"addtrack removetrack\" : \"removetrack\";\n\n      on.call(this, this.media.textTracks, _e19, captions.update.bind(this));\n    }\n\n    setTimeout(captions.update.bind(this), 0);\n  },\n  update: function update() {\n    var _this17 = this;\n\n    var e = captions.getTracks.call(this, !0),\n        _this$captions = this.captions,\n        t = _this$captions.active,\n        i = _this$captions.language,\n        s = _this$captions.meta,\n        n = _this$captions.currentTrackNode,\n        r = Boolean(e.find(function (e) {\n      return e.language === i;\n    }));\n    this.isHTML5 && this.isVideo && e.filter(function (e) {\n      return !s.get(e);\n    }).forEach(function (e) {\n      _this17.debug.log(\"Track added\", e), s.set(e, {\n        default: \"showing\" === e.mode\n      }), \"showing\" === e.mode && (e.mode = \"hidden\"), on.call(_this17, e, \"cuechange\", function () {\n        return captions.updateCues.call(_this17);\n      });\n    }), (r && this.language !== i || !e.includes(n)) && (captions.setLanguage.call(this, i), captions.toggle.call(this, t && r)), toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is.empty(e)), is.array(this.config.controls) && this.config.controls.includes(\"settings\") && this.config.settings.includes(\"captions\") && controls.setCaptionsMenu.call(this);\n  },\n  toggle: function toggle(e) {\n    var _this18 = this;\n\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    if (!this.supported.ui) return;\n    var i = this.captions.toggled,\n        s = this.config.classNames.captions.active,\n        n = is.nullOrUndefined(e) ? !i : e;\n\n    if (n !== i) {\n      if (t || (this.captions.active = n, this.storage.set({\n        captions: n\n      })), !this.language && n && !t) {\n        var _e20 = captions.getTracks.call(this),\n            _t10 = captions.findTrack.call(this, [this.captions.language].concat(_toConsumableArray(this.captions.languages)), !0);\n\n        return this.captions.language = _t10.language, void captions.set.call(this, _e20.indexOf(_t10));\n      }\n\n      this.elements.buttons.captions && (this.elements.buttons.captions.pressed = n), toggleClass(this.elements.container, s, n), this.captions.toggled = n, controls.updateSetting.call(this, \"captions\"), triggerEvent.call(this, this.media, n ? \"captionsenabled\" : \"captionsdisabled\");\n    }\n\n    setTimeout(function () {\n      n && _this18.captions.toggled && _this18.captions.currentTrackNode && (_this18.captions.currentTrackNode.mode = \"hidden\");\n    });\n  },\n  set: function set(e) {\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    var i = captions.getTracks.call(this);\n    if (-1 !== e) {\n      if (is.number(e)) {\n        if (e in i) {\n          if (this.captions.currentTrack !== e) {\n            this.captions.currentTrack = e;\n\n            var s = i[e],\n                _ref14 = s || {},\n                n = _ref14.language;\n\n            this.captions.currentTrackNode = s, controls.updateSetting.call(this, \"captions\"), t || (this.captions.language = n, this.storage.set({\n              language: n\n            })), this.isVimeo && this.embed.enableTextTrack(n), triggerEvent.call(this, this.media, \"languagechange\");\n          }\n\n          captions.toggle.call(this, !0, t), this.isHTML5 && this.isVideo && captions.updateCues.call(this);\n        } else this.debug.warn(\"Track not found\", e);\n      } else this.debug.warn(\"Invalid caption argument\", e);\n    } else captions.toggle.call(this, !1, t);\n  },\n  setLanguage: function setLanguage(e) {\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    if (!is.string(e)) return void this.debug.warn(\"Invalid language argument\", e);\n    var i = e.toLowerCase();\n    this.captions.language = i;\n    var s = captions.getTracks.call(this),\n        n = captions.findTrack.call(this, [i]);\n    captions.set.call(this, s.indexOf(n), t);\n  },\n  getTracks: function getTracks() {\n    var _this19 = this;\n\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    return Array.from((this.media || {}).textTracks || []).filter(function (t) {\n      return !_this19.isHTML5 || e || _this19.captions.meta.has(t);\n    }).filter(function (e) {\n      return [\"captions\", \"subtitles\"].includes(e.kind);\n    });\n  },\n  findTrack: function findTrack(e) {\n    var _this20 = this;\n\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n\n    var i = captions.getTracks.call(this),\n        s = function s(e) {\n      return Number((_this20.captions.meta.get(e) || {}).default);\n    },\n        n = Array.from(i).sort(function (e, t) {\n      return s(t) - s(e);\n    });\n\n    var r;\n    return e.every(function (e) {\n      return r = n.find(function (t) {\n        return t.language === e;\n      }), !r;\n    }), r || (t ? n[0] : void 0);\n  },\n  getCurrentTrack: function getCurrentTrack() {\n    return captions.getTracks.call(this)[this.currentTrack];\n  },\n  getLabel: function getLabel(e) {\n    var t = e;\n    return !is.track(t) && support.textTracks && this.captions.toggled && (t = captions.getCurrentTrack.call(this)), is.track(t) ? is.empty(t.label) ? is.empty(t.language) ? i18n.get(\"enabled\", this.config) : e.language.toUpperCase() : t.label : i18n.get(\"disabled\", this.config);\n  },\n  updateCues: function updateCues(e) {\n    if (!this.supported.ui) return;\n    if (!is.element(this.elements.captions)) return void this.debug.warn(\"No captions element to render to\");\n    if (!is.nullOrUndefined(e) && !Array.isArray(e)) return void this.debug.warn(\"updateCues: Invalid input\", e);\n    var t = e;\n\n    if (!t) {\n      var _e21 = captions.getCurrentTrack.call(this);\n\n      t = Array.from((_e21 || {}).activeCues || []).map(function (e) {\n        return e.getCueAsHTML();\n      }).map(getHTML);\n    }\n\n    var i = t.map(function (e) {\n      return e.trim();\n    }).join(\"\\n\");\n\n    if (i !== this.elements.captions.innerHTML) {\n      emptyElement(this.elements.captions);\n\n      var _e22 = createElement(\"span\", getAttributesFromSelector(this.config.selectors.caption));\n\n      _e22.innerHTML = i, this.elements.captions.appendChild(_e22), triggerEvent.call(this, this.media, \"cuechange\");\n    }\n  }\n},\n    defaults = {\n  enabled: !0,\n  title: \"\",\n  debug: !1,\n  autoplay: !1,\n  autopause: !0,\n  playsinline: !0,\n  seekTime: 10,\n  volume: 1,\n  muted: !1,\n  duration: null,\n  displayDuration: !0,\n  invertTime: !0,\n  toggleInvert: !0,\n  ratio: null,\n  clickToPlay: !0,\n  hideControls: !0,\n  resetOnEnd: !1,\n  disableContextMenu: !0,\n  loadSprite: !0,\n  iconPrefix: \"plyr\",\n  iconUrl: \"https://cdn.plyr.io/3.6.4/plyr.svg\",\n  blankVideo: \"https://cdn.plyr.io/static/blank.mp4\",\n  quality: {\n    default: 576,\n    options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240],\n    forced: !1,\n    onChange: null\n  },\n  loop: {\n    active: !1\n  },\n  speed: {\n    selected: 1,\n    options: [.5, .75, 1, 1.25, 1.5, 1.75, 2, 4]\n  },\n  keyboard: {\n    focused: !0,\n    global: !1\n  },\n  tooltips: {\n    controls: !1,\n    seek: !0\n  },\n  captions: {\n    active: !1,\n    language: \"auto\",\n    update: !1\n  },\n  fullscreen: {\n    enabled: !0,\n    fallback: !0,\n    iosNative: !1\n  },\n  storage: {\n    enabled: !0,\n    key: \"plyr\"\n  },\n  controls: [\"play-large\", \"play\", \"progress\", \"current-time\", \"mute\", \"volume\", \"captions\", \"settings\", \"pip\", \"airplay\", \"fullscreen\"],\n  settings: [\"captions\", \"quality\", \"speed\"],\n  i18n: {\n    restart: \"Restart\",\n    rewind: \"Rewind {seektime}s\",\n    play: \"Play\",\n    pause: \"Pause\",\n    fastForward: \"Forward {seektime}s\",\n    seek: \"Seek\",\n    seekLabel: \"{currentTime} of {duration}\",\n    played: \"Played\",\n    buffered: \"Buffered\",\n    currentTime: \"Current time\",\n    duration: \"Duration\",\n    volume: \"Volume\",\n    mute: \"Mute\",\n    unmute: \"Unmute\",\n    enableCaptions: \"Enable captions\",\n    disableCaptions: \"Disable captions\",\n    download: \"Download\",\n    enterFullscreen: \"Enter fullscreen\",\n    exitFullscreen: \"Exit fullscreen\",\n    frameTitle: \"Player for {title}\",\n    captions: \"Captions\",\n    settings: \"Settings\",\n    pip: \"PIP\",\n    menuBack: \"Go back to previous menu\",\n    speed: \"Speed\",\n    normal: \"Normal\",\n    quality: \"Quality\",\n    loop: \"Loop\",\n    start: \"Start\",\n    end: \"End\",\n    all: \"All\",\n    reset: \"Reset\",\n    disabled: \"Disabled\",\n    enabled: \"Enabled\",\n    advertisement: \"Ad\",\n    qualityBadge: {\n      2160: \"4K\",\n      1440: \"HD\",\n      1080: \"HD\",\n      720: \"HD\",\n      576: \"SD\",\n      480: \"SD\"\n    },\n    auto: \"AUTO\"\n  },\n  urls: {\n    download: null,\n    vimeo: {\n      sdk: \"https://player.vimeo.com/api/player.js\",\n      iframe: \"https://player.vimeo.com/video/{0}?{1}\",\n      api: \"https://vimeo.com/api/oembed.json?url={0}\"\n    },\n    youtube: {\n      sdk: \"https://www.youtube.com/iframe_api\",\n      api: \"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}\"\n    },\n    googleIMA: {\n      sdk: \"https://imasdk.googleapis.com/js/sdkloader/ima3.js\"\n    }\n  },\n  listeners: {\n    seek: null,\n    play: null,\n    pause: null,\n    restart: null,\n    rewind: null,\n    fastForward: null,\n    mute: null,\n    volume: null,\n    captions: null,\n    download: null,\n    fullscreen: null,\n    pip: null,\n    airplay: null,\n    speed: null,\n    quality: null,\n    loop: null,\n    language: null\n  },\n  events: [\"ended\", \"progress\", \"stalled\", \"playing\", \"waiting\", \"canplay\", \"canplaythrough\", \"loadstart\", \"loadeddata\", \"loadedmetadata\", \"timeupdate\", \"volumechange\", \"play\", \"pause\", \"error\", \"seeking\", \"seeked\", \"emptied\", \"ratechange\", \"cuechange\", \"download\", \"enterfullscreen\", \"exitfullscreen\", \"captionsenabled\", \"captionsdisabled\", \"languagechange\", \"controlshidden\", \"controlsshown\", \"ready\", \"statechange\", \"qualitychange\", \"adsloaded\", \"adscontentpause\", \"adscontentresume\", \"adstarted\", \"adsmidpoint\", \"adscomplete\", \"adsallcomplete\", \"adsimpression\", \"adsclick\"],\n  selectors: {\n    editable: \"input, textarea, select, [contenteditable]\",\n    container: \".plyr\",\n    controls: {\n      container: null,\n      wrapper: \".plyr__controls\"\n    },\n    labels: \"[data-plyr]\",\n    buttons: {\n      play: '[data-plyr=\"play\"]',\n      pause: '[data-plyr=\"pause\"]',\n      restart: '[data-plyr=\"restart\"]',\n      rewind: '[data-plyr=\"rewind\"]',\n      fastForward: '[data-plyr=\"fast-forward\"]',\n      mute: '[data-plyr=\"mute\"]',\n      captions: '[data-plyr=\"captions\"]',\n      download: '[data-plyr=\"download\"]',\n      fullscreen: '[data-plyr=\"fullscreen\"]',\n      pip: '[data-plyr=\"pip\"]',\n      airplay: '[data-plyr=\"airplay\"]',\n      settings: '[data-plyr=\"settings\"]',\n      loop: '[data-plyr=\"loop\"]'\n    },\n    inputs: {\n      seek: '[data-plyr=\"seek\"]',\n      volume: '[data-plyr=\"volume\"]',\n      speed: '[data-plyr=\"speed\"]',\n      language: '[data-plyr=\"language\"]',\n      quality: '[data-plyr=\"quality\"]'\n    },\n    display: {\n      currentTime: \".plyr__time--current\",\n      duration: \".plyr__time--duration\",\n      buffer: \".plyr__progress__buffer\",\n      loop: \".plyr__progress__loop\",\n      volume: \".plyr__volume--display\"\n    },\n    progress: \".plyr__progress\",\n    captions: \".plyr__captions\",\n    caption: \".plyr__caption\"\n  },\n  classNames: {\n    type: \"plyr--{0}\",\n    provider: \"plyr--{0}\",\n    video: \"plyr__video-wrapper\",\n    embed: \"plyr__video-embed\",\n    videoFixedRatio: \"plyr__video-wrapper--fixed-ratio\",\n    embedContainer: \"plyr__video-embed__container\",\n    poster: \"plyr__poster\",\n    posterEnabled: \"plyr__poster-enabled\",\n    ads: \"plyr__ads\",\n    control: \"plyr__control\",\n    controlPressed: \"plyr__control--pressed\",\n    playing: \"plyr--playing\",\n    paused: \"plyr--paused\",\n    stopped: \"plyr--stopped\",\n    loading: \"plyr--loading\",\n    hover: \"plyr--hover\",\n    tooltip: \"plyr__tooltip\",\n    cues: \"plyr__cues\",\n    hidden: \"plyr__sr-only\",\n    hideControls: \"plyr--hide-controls\",\n    isIos: \"plyr--is-ios\",\n    isTouch: \"plyr--is-touch\",\n    uiSupported: \"plyr--full-ui\",\n    noTransition: \"plyr--no-transition\",\n    display: {\n      time: \"plyr__time\"\n    },\n    menu: {\n      value: \"plyr__menu__value\",\n      badge: \"plyr__badge\",\n      open: \"plyr--menu-open\"\n    },\n    captions: {\n      enabled: \"plyr--captions-enabled\",\n      active: \"plyr--captions-active\"\n    },\n    fullscreen: {\n      enabled: \"plyr--fullscreen-enabled\",\n      fallback: \"plyr--fullscreen-fallback\"\n    },\n    pip: {\n      supported: \"plyr--pip-supported\",\n      active: \"plyr--pip-active\"\n    },\n    airplay: {\n      supported: \"plyr--airplay-supported\",\n      active: \"plyr--airplay-active\"\n    },\n    tabFocus: \"plyr__tab-focus\",\n    previewThumbnails: {\n      thumbContainer: \"plyr__preview-thumb\",\n      thumbContainerShown: \"plyr__preview-thumb--is-shown\",\n      imageContainer: \"plyr__preview-thumb__image-container\",\n      timeContainer: \"plyr__preview-thumb__time-container\",\n      scrubbingContainer: \"plyr__preview-scrubbing\",\n      scrubbingContainerShown: \"plyr__preview-scrubbing--is-shown\"\n    }\n  },\n  attributes: {\n    embed: {\n      provider: \"data-plyr-provider\",\n      id: \"data-plyr-embed-id\"\n    }\n  },\n  ads: {\n    enabled: !1,\n    publisherId: \"\",\n    tagUrl: \"\"\n  },\n  previewThumbnails: {\n    enabled: !1,\n    src: \"\"\n  },\n  vimeo: {\n    byline: !1,\n    portrait: !1,\n    title: !1,\n    speed: !0,\n    transparent: !1,\n    customControls: !0,\n    referrerPolicy: null,\n    premium: !1\n  },\n  youtube: {\n    rel: 0,\n    showinfo: 0,\n    iv_load_policy: 3,\n    modestbranding: 1,\n    customControls: !0,\n    noCookie: !1\n  }\n},\n    pip = {\n  active: \"picture-in-picture\",\n  inactive: \"inline\"\n},\n    providers = {\n  html5: \"html5\",\n  youtube: \"youtube\",\n  vimeo: \"vimeo\"\n},\n    types = {\n  audio: \"audio\",\n  video: \"video\"\n};\n\nfunction getProviderByUrl(e) {\n  return /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtube-nocookie\\.com|youtu\\.?be)\\/.+$/.test(e) ? providers.youtube : /^https?:\\/\\/player.vimeo.com\\/video\\/\\d{0,9}(?=\\b|\\/)/.test(e) ? providers.vimeo : null;\n}\n\nvar noop = function noop() {};\n\nvar Console = /*#__PURE__*/function () {\n  function Console() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n\n    _classCallCheck$1(this, Console);\n\n    this.enabled = window.console && e, this.enabled && this.log(\"Debugging enabled\");\n  }\n\n  _createClass$1(Console, [{\n    key: \"log\",\n    get: function get() {\n      return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n    }\n  }, {\n    key: \"warn\",\n    get: function get() {\n      return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n    }\n  }]);\n\n  return Console;\n}();\n\nvar Fullscreen = /*#__PURE__*/function () {\n  function Fullscreen(e) {\n    var _this21 = this;\n\n    _classCallCheck$1(this, Fullscreen);\n\n    _defineProperty$1(this, \"onChange\", function () {\n      if (!_this21.enabled) return;\n      var e = _this21.player.elements.buttons.fullscreen;\n      is.element(e) && (e.pressed = _this21.active);\n      var t = _this21.target === _this21.player.media ? _this21.target : _this21.player.elements.container;\n      triggerEvent.call(_this21.player, t, _this21.active ? \"enterfullscreen\" : \"exitfullscreen\", !0);\n    }), _defineProperty$1(this, \"toggleFallback\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n\n      if (e ? _this21.scrollPosition = {\n        x: window.scrollX || 0,\n        y: window.scrollY || 0\n      } : window.scrollTo(_this21.scrollPosition.x, _this21.scrollPosition.y), document.body.style.overflow = e ? \"hidden\" : \"\", toggleClass(_this21.target, _this21.player.config.classNames.fullscreen.fallback, e), browser.isIos) {\n        var t = document.head.querySelector('meta[name=\"viewport\"]');\n        var i = \"viewport-fit=cover\";\n        t || (t = document.createElement(\"meta\"), t.setAttribute(\"name\", \"viewport\"));\n        var s = is.string(t.content) && t.content.includes(i);\n        e ? (_this21.cleanupViewport = !s, s || (t.content += \",\".concat(i))) : _this21.cleanupViewport && (t.content = t.content.split(\",\").filter(function (e) {\n          return e.trim() !== i;\n        }).join(\",\"));\n      }\n\n      _this21.onChange();\n    }), _defineProperty$1(this, \"trapFocus\", function (e) {\n      if (browser.isIos || !_this21.active || \"Tab\" !== e.key || 9 !== e.keyCode) return;\n\n      var t = document.activeElement,\n          i = getElements.call(_this21.player, \"a[href], button:not(:disabled), input:not(:disabled), [tabindex]\"),\n          _i5 = _slicedToArray(i, 1),\n          s = _i5[0],\n          n = i[i.length - 1];\n\n      t !== n || e.shiftKey ? t === s && e.shiftKey && (n.focus(), e.preventDefault()) : (s.focus(), e.preventDefault());\n    }), _defineProperty$1(this, \"update\", function () {\n      if (_this21.enabled) {\n        var _e23;\n\n        _e23 = _this21.forceFallback ? \"Fallback (forced)\" : Fullscreen.native ? \"Native\" : \"Fallback\", _this21.player.debug.log(\"\".concat(_e23, \" fullscreen enabled\"));\n      } else _this21.player.debug.log(\"Fullscreen not supported and fallback disabled\");\n\n      toggleClass(_this21.player.elements.container, _this21.player.config.classNames.fullscreen.enabled, _this21.enabled);\n    }), _defineProperty$1(this, \"enter\", function () {\n      _this21.enabled && (browser.isIos && _this21.player.config.fullscreen.iosNative ? _this21.player.isVimeo ? _this21.player.embed.requestFullscreen() : _this21.target.webkitEnterFullscreen() : !Fullscreen.native || _this21.forceFallback ? _this21.toggleFallback(!0) : _this21.prefix ? is.empty(_this21.prefix) || _this21.target[\"\".concat(_this21.prefix, \"Request\").concat(_this21.property)]() : _this21.target.requestFullscreen({\n        navigationUI: \"hide\"\n      }));\n    }), _defineProperty$1(this, \"exit\", function () {\n      if (_this21.enabled) if (browser.isIos && _this21.player.config.fullscreen.iosNative) _this21.target.webkitExitFullscreen(), silencePromise(_this21.player.play());else if (!Fullscreen.native || _this21.forceFallback) _this21.toggleFallback(!1);else if (_this21.prefix) {\n        if (!is.empty(_this21.prefix)) {\n          var _e24 = \"moz\" === _this21.prefix ? \"Cancel\" : \"Exit\";\n\n          document[\"\".concat(_this21.prefix).concat(_e24).concat(_this21.property)]();\n        }\n      } else (document.cancelFullScreen || document.exitFullscreen).call(document);\n    }), _defineProperty$1(this, \"toggle\", function () {\n      _this21.active ? _this21.exit() : _this21.enter();\n    }), this.player = e, this.prefix = Fullscreen.prefix, this.property = Fullscreen.property, this.scrollPosition = {\n      x: 0,\n      y: 0\n    }, this.forceFallback = \"force\" === e.config.fullscreen.fallback, this.player.elements.fullscreen = e.config.fullscreen.container && closest$1(this.player.elements.container, e.config.fullscreen.container), on.call(this.player, document, \"ms\" === this.prefix ? \"MSFullscreenChange\" : \"\".concat(this.prefix, \"fullscreenchange\"), function () {\n      _this21.onChange();\n    }), on.call(this.player, this.player.elements.container, \"dblclick\", function (e) {\n      is.element(_this21.player.elements.controls) && _this21.player.elements.controls.contains(e.target) || _this21.player.listeners.proxy(e, _this21.toggle, \"fullscreen\");\n    }), on.call(this, this.player.elements.container, \"keydown\", function (e) {\n      return _this21.trapFocus(e);\n    }), this.update();\n  }\n\n  _createClass$1(Fullscreen, [{\n    key: \"usingNative\",\n    get: function get() {\n      return Fullscreen.native && !this.forceFallback;\n    }\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return (Fullscreen.native || this.player.config.fullscreen.fallback) && this.player.config.fullscreen.enabled && this.player.supported.ui && this.player.isVideo;\n    }\n  }, {\n    key: \"active\",\n    get: function get() {\n      if (!this.enabled) return !1;\n      if (!Fullscreen.native || this.forceFallback) return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);\n      var e = this.prefix ? document[\"\".concat(this.prefix).concat(this.property, \"Element\")] : document.fullscreenElement;\n      return e && e.shadowRoot ? e === this.target.getRootNode().host : e === this.target;\n    }\n  }, {\n    key: \"target\",\n    get: function get() {\n      return browser.isIos && this.player.config.fullscreen.iosNative ? this.player.media : this.player.elements.fullscreen || this.player.elements.container;\n    }\n  }], [{\n    key: \"native\",\n    get: function get() {\n      return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n    }\n  }, {\n    key: \"prefix\",\n    get: function get() {\n      if (is.function(document.exitFullscreen)) return \"\";\n      var e = \"\";\n      return [\"webkit\", \"moz\", \"ms\"].some(function (t) {\n        return !(!is.function(document[\"\".concat(t, \"ExitFullscreen\")]) && !is.function(document[\"\".concat(t, \"CancelFullScreen\")])) && (e = t, !0);\n      }), e;\n    }\n  }, {\n    key: \"property\",\n    get: function get() {\n      return \"moz\" === this.prefix ? \"FullScreen\" : \"Fullscreen\";\n    }\n  }]);\n\n  return Fullscreen;\n}();\n\nfunction loadImage(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return new Promise(function (i, s) {\n    var n = new Image(),\n        r = function r() {\n      delete n.onload, delete n.onerror, (n.naturalWidth >= t ? i : s)(n);\n    };\n\n    Object.assign(n, {\n      onload: r,\n      onerror: r,\n      src: e\n    });\n  });\n}\n\nvar ui = {\n  addStyleHook: function addStyleHook() {\n    toggleClass(this.elements.container, this.config.selectors.container.replace(\".\", \"\"), !0), toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);\n  },\n  toggleNativeControls: function toggleNativeControls() {\n    var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n    e && this.isHTML5 ? this.media.setAttribute(\"controls\", \"\") : this.media.removeAttribute(\"controls\");\n  },\n  build: function build() {\n    var _this22 = this;\n\n    if (this.listeners.media(), !this.supported.ui) return this.debug.warn(\"Basic support only for \".concat(this.provider, \" \").concat(this.type)), void ui.toggleNativeControls.call(this, !0);\n    is.element(this.elements.controls) || (controls.inject.call(this), this.listeners.controls()), ui.toggleNativeControls.call(this), this.isHTML5 && captions.setup.call(this), this.volume = null, this.muted = null, this.loop = null, this.quality = null, this.speed = null, controls.updateVolume.call(this), controls.timeUpdate.call(this), ui.checkPlaying.call(this), toggleClass(this.elements.container, this.config.classNames.pip.supported, support.pip && this.isHTML5 && this.isVideo), toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5), toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos), toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch), this.ready = !0, setTimeout(function () {\n      triggerEvent.call(_this22, _this22.media, \"ready\");\n    }, 0), ui.setTitle.call(this), this.poster && ui.setPoster.call(this, this.poster, !1).catch(function () {}), this.config.duration && controls.durationUpdate.call(this);\n  },\n  setTitle: function setTitle() {\n    var e = i18n.get(\"play\", this.config);\n\n    if (is.string(this.config.title) && !is.empty(this.config.title) && (e += \", \".concat(this.config.title)), Array.from(this.elements.buttons.play || []).forEach(function (t) {\n      t.setAttribute(\"aria-label\", e);\n    }), this.isEmbed) {\n      var _e25 = getElement.call(this, \"iframe\");\n\n      if (!is.element(_e25)) return;\n      var t = is.empty(this.config.title) ? \"video\" : this.config.title,\n          i = i18n.get(\"frameTitle\", this.config);\n\n      _e25.setAttribute(\"title\", i.replace(\"{title}\", t));\n    }\n  },\n  togglePoster: function togglePoster(e) {\n    toggleClass(this.elements.container, this.config.classNames.posterEnabled, e);\n  },\n  setPoster: function setPoster(e) {\n    var _this23 = this;\n\n    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n    return t && this.poster ? Promise.reject(new Error(\"Poster already set\")) : (this.media.setAttribute(\"data-poster\", e), this.elements.poster.removeAttribute(\"hidden\"), ready.call(this).then(function () {\n      return loadImage(e);\n    }).catch(function (t) {\n      throw e === _this23.poster && ui.togglePoster.call(_this23, !1), t;\n    }).then(function () {\n      if (e !== _this23.poster) throw new Error(\"setPoster cancelled by later call to setPoster\");\n    }).then(function () {\n      return Object.assign(_this23.elements.poster.style, {\n        backgroundImage: \"url('\".concat(e, \"')\"),\n        backgroundSize: \"\"\n      }), ui.togglePoster.call(_this23, !0), e;\n    }));\n  },\n  checkPlaying: function checkPlaying(e) {\n    var _this24 = this;\n\n    toggleClass(this.elements.container, this.config.classNames.playing, this.playing), toggleClass(this.elements.container, this.config.classNames.paused, this.paused), toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped), Array.from(this.elements.buttons.play || []).forEach(function (e) {\n      Object.assign(e, {\n        pressed: _this24.playing\n      }), e.setAttribute(\"aria-label\", i18n.get(_this24.playing ? \"pause\" : \"play\", _this24.config));\n    }), is.event(e) && \"timeupdate\" === e.type || ui.toggleControls.call(this);\n  },\n  checkLoading: function checkLoading(e) {\n    var _this25 = this;\n\n    this.loading = [\"stalled\", \"waiting\"].includes(e.type), clearTimeout(this.timers.loading), this.timers.loading = setTimeout(function () {\n      toggleClass(_this25.elements.container, _this25.config.classNames.loading, _this25.loading), ui.toggleControls.call(_this25);\n    }, this.loading ? 250 : 0);\n  },\n  toggleControls: function toggleControls(e) {\n    var t = this.elements.controls;\n\n    if (t && this.config.hideControls) {\n      var i = this.touch && this.lastSeekTime + 2e3 > Date.now();\n      this.toggleControls(Boolean(e || this.loading || this.paused || t.pressed || t.hover || i));\n    }\n  },\n  migrateStyles: function migrateStyles() {\n    var _this26 = this;\n\n    Object.values(_objectSpread2$1({}, this.media.style)).filter(function (e) {\n      return !is.empty(e) && is.string(e) && e.startsWith(\"--plyr\");\n    }).forEach(function (e) {\n      _this26.elements.container.style.setProperty(e, _this26.media.style.getPropertyValue(e)), _this26.media.style.removeProperty(e);\n    }), is.empty(this.media.style) && this.media.removeAttribute(\"style\");\n  }\n};\n\nvar Listeners = /*#__PURE__*/function () {\n  function Listeners(e) {\n    var _this27 = this;\n\n    _classCallCheck$1(this, Listeners);\n\n    _defineProperty$1(this, \"firstTouch\", function () {\n      var e = _this27.player,\n          t = e.elements;\n      e.touch = !0, toggleClass(t.container, e.config.classNames.isTouch, !0);\n    }), _defineProperty$1(this, \"setTabFocus\", function (e) {\n      var t = _this27.player,\n          i = t.elements;\n      if (clearTimeout(_this27.focusTimer), \"keydown\" === e.type && 9 !== e.which) return;\n      \"keydown\" === e.type && (_this27.lastKeyDown = e.timeStamp);\n      var s = e.timeStamp - _this27.lastKeyDown <= 20;\n      (\"focus\" !== e.type || s) && (function () {\n        var e = t.config.classNames.tabFocus;\n        toggleClass(getElements.call(t, \".\".concat(e)), e, !1);\n      }(), \"focusout\" !== e.type && (_this27.focusTimer = setTimeout(function () {\n        var e = document.activeElement;\n        i.container.contains(e) && toggleClass(document.activeElement, t.config.classNames.tabFocus, !0);\n      }, 10)));\n    }), _defineProperty$1(this, \"global\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n      var t = _this27.player;\n      t.config.keyboard.global && toggleListener.call(t, window, \"keydown keyup\", _this27.handleKey, e, !1), toggleListener.call(t, document.body, \"click\", _this27.toggleMenu, e), once.call(t, document.body, \"touchstart\", _this27.firstTouch), toggleListener.call(t, document.body, \"keydown focus blur focusout\", _this27.setTabFocus, e, !1, !0);\n    }), _defineProperty$1(this, \"container\", function () {\n      var e = _this27.player,\n          t = e.config,\n          i = e.elements,\n          s = e.timers;\n      !t.keyboard.global && t.keyboard.focused && on.call(e, i.container, \"keydown keyup\", _this27.handleKey, !1), on.call(e, i.container, \"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen\", function (t) {\n        var n = i.controls;\n        n && \"enterfullscreen\" === t.type && (n.pressed = !1, n.hover = !1);\n        var r = 0;\n        [\"touchstart\", \"touchmove\", \"mousemove\"].includes(t.type) && (ui.toggleControls.call(e, !0), r = e.touch ? 3e3 : 2e3), clearTimeout(s.controls), s.controls = setTimeout(function () {\n          return ui.toggleControls.call(e, !1);\n        }, r);\n      });\n\n      var n = function n(t) {\n        if (!t) return setAspectRatio.call(e);\n        var s = i.container.getBoundingClientRect(),\n            n = s.width,\n            r = s.height;\n        return setAspectRatio.call(e, \"\".concat(n, \":\").concat(r));\n      },\n          r = function r() {\n        clearTimeout(s.resized), s.resized = setTimeout(n, 50);\n      };\n\n      on.call(e, i.container, \"enterfullscreen exitfullscreen\", function (t) {\n        var _e$fullscreen = e.fullscreen,\n            s = _e$fullscreen.target,\n            a = _e$fullscreen.usingNative;\n        if (s !== i.container) return;\n        if (!e.isEmbed && is.empty(e.config.ratio)) return;\n\n        var o = \"enterfullscreen\" === t.type,\n            _n3 = n(o),\n            c = _n3.ratio;\n\n        (function (t, i, s) {\n          if (!e.isVimeo || e.config.vimeo.premium) return;\n\n          var n = e.elements.wrapper.firstChild,\n              _t11 = _slicedToArray(t, 2),\n              r = _t11[1],\n              _getAspectRatio$call = getAspectRatio.call(e),\n              _getAspectRatio$call2 = _slicedToArray(_getAspectRatio$call, 2),\n              a = _getAspectRatio$call2[0],\n              o = _getAspectRatio$call2[1];\n\n          n.style.maxWidth = s ? r / o * a + \"px\" : null, n.style.margin = s ? \"0 auto\" : null;\n        })(c, 0, o), o && setTimeout(function () {\n          return repaint(i.container);\n        }, 100), a || (o ? on.call(e, window, \"resize\", r) : off.call(e, window, \"resize\", r));\n      });\n    }), _defineProperty$1(this, \"media\", function () {\n      var e = _this27.player,\n          t = e.elements;\n\n      if (on.call(e, e.media, \"timeupdate seeking seeked\", function (t) {\n        return controls.timeUpdate.call(e, t);\n      }), on.call(e, e.media, \"durationchange loadeddata loadedmetadata\", function (t) {\n        return controls.durationUpdate.call(e, t);\n      }), on.call(e, e.media, \"ended\", function () {\n        e.isHTML5 && e.isVideo && e.config.resetOnEnd && (e.restart(), e.pause());\n      }), on.call(e, e.media, \"progress playing seeking seeked\", function (t) {\n        return controls.updateProgress.call(e, t);\n      }), on.call(e, e.media, \"volumechange\", function (t) {\n        return controls.updateVolume.call(e, t);\n      }), on.call(e, e.media, \"playing play pause ended emptied timeupdate\", function (t) {\n        return ui.checkPlaying.call(e, t);\n      }), on.call(e, e.media, \"waiting canplay seeked playing\", function (t) {\n        return ui.checkLoading.call(e, t);\n      }), e.supported.ui && e.config.clickToPlay && !e.isAudio) {\n        var _i6 = getElement.call(e, \".\".concat(e.config.classNames.video));\n\n        if (!is.element(_i6)) return;\n        on.call(e, t.container, \"click\", function (s) {\n          ([t.container, _i6].includes(s.target) || _i6.contains(s.target)) && (e.touch && e.config.hideControls || (e.ended ? (_this27.proxy(s, e.restart, \"restart\"), _this27.proxy(s, function () {\n            silencePromise(e.play());\n          }, \"play\")) : _this27.proxy(s, function () {\n            silencePromise(e.togglePlay());\n          }, \"play\")));\n        });\n      }\n\n      e.supported.ui && e.config.disableContextMenu && on.call(e, t.wrapper, \"contextmenu\", function (e) {\n        e.preventDefault();\n      }, !1), on.call(e, e.media, \"volumechange\", function () {\n        e.storage.set({\n          volume: e.volume,\n          muted: e.muted\n        });\n      }), on.call(e, e.media, \"ratechange\", function () {\n        controls.updateSetting.call(e, \"speed\"), e.storage.set({\n          speed: e.speed\n        });\n      }), on.call(e, e.media, \"qualitychange\", function (t) {\n        controls.updateSetting.call(e, \"quality\", null, t.detail.quality);\n      }), on.call(e, e.media, \"ready qualitychange\", function () {\n        controls.setDownloadUrl.call(e);\n      });\n      var i = e.config.events.concat([\"keyup\", \"keydown\"]).join(\" \");\n      on.call(e, e.media, i, function (i) {\n        var _i$detail = i.detail,\n            s = _i$detail === void 0 ? {} : _i$detail;\n        \"error\" === i.type && (s = e.media.error), triggerEvent.call(e, t.container, i.type, !0, s);\n      });\n    }), _defineProperty$1(this, \"proxy\", function (e, t, i) {\n      var s = _this27.player,\n          n = s.config.listeners[i];\n      var r = !0;\n      is.function(n) && (r = n.call(s, e)), !1 !== r && is.function(t) && t.call(s, e);\n    }), _defineProperty$1(this, \"bind\", function (e, t, i, s) {\n      var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !0;\n      var r = _this27.player,\n          a = r.config.listeners[s],\n          o = is.function(a);\n      on.call(r, e, t, function (e) {\n        return _this27.proxy(e, i, s);\n      }, n && !o);\n    }), _defineProperty$1(this, \"controls\", function () {\n      var e = _this27.player,\n          t = e.elements,\n          i = browser.isIE ? \"change\" : \"input\";\n\n      if (t.buttons.play && Array.from(t.buttons.play).forEach(function (t) {\n        _this27.bind(t, \"click\", function () {\n          silencePromise(e.togglePlay());\n        }, \"play\");\n      }), _this27.bind(t.buttons.restart, \"click\", e.restart, \"restart\"), _this27.bind(t.buttons.rewind, \"click\", function () {\n        e.lastSeekTime = Date.now(), e.rewind();\n      }, \"rewind\"), _this27.bind(t.buttons.fastForward, \"click\", function () {\n        e.lastSeekTime = Date.now(), e.forward();\n      }, \"fastForward\"), _this27.bind(t.buttons.mute, \"click\", function () {\n        e.muted = !e.muted;\n      }, \"mute\"), _this27.bind(t.buttons.captions, \"click\", function () {\n        return e.toggleCaptions();\n      }), _this27.bind(t.buttons.download, \"click\", function () {\n        triggerEvent.call(e, e.media, \"download\");\n      }, \"download\"), _this27.bind(t.buttons.fullscreen, \"click\", function () {\n        e.fullscreen.toggle();\n      }, \"fullscreen\"), _this27.bind(t.buttons.pip, \"click\", function () {\n        e.pip = \"toggle\";\n      }, \"pip\"), _this27.bind(t.buttons.airplay, \"click\", e.airplay, \"airplay\"), _this27.bind(t.buttons.settings, \"click\", function (t) {\n        t.stopPropagation(), t.preventDefault(), controls.toggleMenu.call(e, t);\n      }, null, !1), _this27.bind(t.buttons.settings, \"keyup\", function (t) {\n        var i = t.which;\n        [13, 32].includes(i) && (13 !== i ? (t.preventDefault(), t.stopPropagation(), controls.toggleMenu.call(e, t)) : controls.focusFirstMenuItem.call(e, null, !0));\n      }, null, !1), _this27.bind(t.settings.menu, \"keydown\", function (t) {\n        27 === t.which && controls.toggleMenu.call(e, t);\n      }), _this27.bind(t.inputs.seek, \"mousedown mousemove\", function (e) {\n        var i = t.progress.getBoundingClientRect(),\n            s = 100 / i.width * (e.pageX - i.left);\n        e.currentTarget.setAttribute(\"seek-value\", s);\n      }), _this27.bind(t.inputs.seek, \"mousedown mouseup keydown keyup touchstart touchend\", function (t) {\n        var i = t.currentTarget,\n            s = t.keyCode ? t.keyCode : t.which,\n            n = \"play-on-seeked\";\n        if (is.keyboardEvent(t) && 39 !== s && 37 !== s) return;\n        e.lastSeekTime = Date.now();\n        var r = i.hasAttribute(n),\n            a = [\"mouseup\", \"touchend\", \"keyup\"].includes(t.type);\n        r && a ? (i.removeAttribute(n), silencePromise(e.play())) : !a && e.playing && (i.setAttribute(n, \"\"), e.pause());\n      }), browser.isIos) {\n        var _t12 = getElements.call(e, 'input[type=\"range\"]');\n\n        Array.from(_t12).forEach(function (e) {\n          return _this27.bind(e, i, function (e) {\n            return repaint(e.target);\n          });\n        });\n      }\n\n      _this27.bind(t.inputs.seek, i, function (t) {\n        var i = t.currentTarget;\n        var s = i.getAttribute(\"seek-value\");\n        is.empty(s) && (s = i.value), i.removeAttribute(\"seek-value\"), e.currentTime = s / i.max * e.duration;\n      }, \"seek\"), _this27.bind(t.progress, \"mouseenter mouseleave mousemove\", function (t) {\n        return controls.updateSeekTooltip.call(e, t);\n      }), _this27.bind(t.progress, \"mousemove touchmove\", function (t) {\n        var i = e.previewThumbnails;\n        i && i.loaded && i.startMove(t);\n      }), _this27.bind(t.progress, \"mouseleave touchend click\", function () {\n        var t = e.previewThumbnails;\n        t && t.loaded && t.endMove(!1, !0);\n      }), _this27.bind(t.progress, \"mousedown touchstart\", function (t) {\n        var i = e.previewThumbnails;\n        i && i.loaded && i.startScrubbing(t);\n      }), _this27.bind(t.progress, \"mouseup touchend\", function (t) {\n        var i = e.previewThumbnails;\n        i && i.loaded && i.endScrubbing(t);\n      }), browser.isWebkit && Array.from(getElements.call(e, 'input[type=\"range\"]')).forEach(function (t) {\n        _this27.bind(t, \"input\", function (t) {\n          return controls.updateRangeFill.call(e, t.target);\n        });\n      }), e.config.toggleInvert && !is.element(t.display.duration) && _this27.bind(t.display.currentTime, \"click\", function () {\n        0 !== e.currentTime && (e.config.invertTime = !e.config.invertTime, controls.timeUpdate.call(e));\n      }), _this27.bind(t.inputs.volume, i, function (t) {\n        e.volume = t.target.value;\n      }, \"volume\"), _this27.bind(t.controls, \"mouseenter mouseleave\", function (i) {\n        t.controls.hover = !e.touch && \"mouseenter\" === i.type;\n      }), t.fullscreen && Array.from(t.fullscreen.children).filter(function (e) {\n        return !e.contains(t.container);\n      }).forEach(function (i) {\n        _this27.bind(i, \"mouseenter mouseleave\", function (i) {\n          t.controls.hover = !e.touch && \"mouseenter\" === i.type;\n        });\n      }), _this27.bind(t.controls, \"mousedown mouseup touchstart touchend touchcancel\", function (e) {\n        t.controls.pressed = [\"mousedown\", \"touchstart\"].includes(e.type);\n      }), _this27.bind(t.controls, \"focusin\", function () {\n        var i = e.config,\n            s = e.timers;\n        toggleClass(t.controls, i.classNames.noTransition, !0), ui.toggleControls.call(e, !0), setTimeout(function () {\n          toggleClass(t.controls, i.classNames.noTransition, !1);\n        }, 0);\n        var n = _this27.touch ? 3e3 : 4e3;\n        clearTimeout(s.controls), s.controls = setTimeout(function () {\n          return ui.toggleControls.call(e, !1);\n        }, n);\n      }), _this27.bind(t.inputs.volume, \"wheel\", function (t) {\n        var i = t.webkitDirectionInvertedFromDevice,\n            _map = [t.deltaX, -t.deltaY].map(function (e) {\n          return i ? -e : e;\n        }),\n            _map2 = _slicedToArray(_map, 2),\n            s = _map2[0],\n            n = _map2[1],\n            r = Math.sign(Math.abs(s) > Math.abs(n) ? s : n);\n\n        e.increaseVolume(r / 50);\n        var a = e.media.volume;\n        (1 === r && a < 1 || -1 === r && a > 0) && t.preventDefault();\n      }, \"volume\", !1);\n    }), this.player = e, this.lastKey = null, this.focusTimer = null, this.lastKeyDown = null, this.handleKey = this.handleKey.bind(this), this.toggleMenu = this.toggleMenu.bind(this), this.setTabFocus = this.setTabFocus.bind(this), this.firstTouch = this.firstTouch.bind(this);\n  }\n\n  _createClass$1(Listeners, [{\n    key: \"handleKey\",\n    value: function handleKey(e) {\n      var t = this.player,\n          i = t.elements,\n          s = e.keyCode ? e.keyCode : e.which,\n          n = \"keydown\" === e.type,\n          r = n && s === this.lastKey;\n      if (e.altKey || e.ctrlKey || e.metaKey || e.shiftKey) return;\n      if (!is.number(s)) return;\n\n      if (n) {\n        var _n4 = document.activeElement;\n\n        if (is.element(_n4)) {\n          var _s5 = t.config.selectors.editable,\n              _r3 = i.inputs.seek;\n          if (_n4 !== _r3 && matches(_n4, _s5)) return;\n          if (32 === e.which && matches(_n4, 'button, [role^=\"menuitem\"]')) return;\n        }\n\n        switch ([32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79].includes(s) && (e.preventDefault(), e.stopPropagation()), s) {\n          case 48:\n          case 49:\n          case 50:\n          case 51:\n          case 52:\n          case 53:\n          case 54:\n          case 55:\n          case 56:\n          case 57:\n            r || (t.currentTime = t.duration / 10 * (s - 48));\n            break;\n\n          case 32:\n          case 75:\n            r || silencePromise(t.togglePlay());\n            break;\n\n          case 38:\n            t.increaseVolume(.1);\n            break;\n\n          case 40:\n            t.decreaseVolume(.1);\n            break;\n\n          case 77:\n            r || (t.muted = !t.muted);\n            break;\n\n          case 39:\n            t.forward();\n            break;\n\n          case 37:\n            t.rewind();\n            break;\n\n          case 70:\n            t.fullscreen.toggle();\n            break;\n\n          case 67:\n            r || t.toggleCaptions();\n            break;\n\n          case 76:\n            t.loop = !t.loop;\n        }\n\n        27 === s && !t.fullscreen.usingNative && t.fullscreen.active && t.fullscreen.toggle(), this.lastKey = s;\n      } else this.lastKey = null;\n    }\n  }, {\n    key: \"toggleMenu\",\n    value: function toggleMenu(e) {\n      controls.toggleMenu.call(this.player, e);\n    }\n  }]);\n\n  return Listeners;\n}();\n\nfunction createCommonjsModule(e, t) {\n  return e(t = {\n    exports: {}\n  }, t.exports), t.exports;\n}\n\nvar loadjs_umd = createCommonjsModule(function (e, t) {\n  e.exports = function () {\n    var e = function e() {},\n        t = {},\n        i = {},\n        s = {};\n\n    function n(e, t) {\n      e = e.push ? e : [e];\n      var n,\n          r,\n          a,\n          o = [],\n          l = e.length,\n          c = l;\n\n      for (n = function n(e, i) {\n        i.length && o.push(e), --c || t(o);\n      }; l--;) {\n        r = e[l], (a = i[r]) ? n(r, a) : (s[r] = s[r] || []).push(n);\n      }\n    }\n\n    function r(e, t) {\n      if (e) {\n        var n = s[e];\n        if (i[e] = t, n) for (; n.length;) {\n          n[0](e, t), n.splice(0, 1);\n        }\n      }\n    }\n\n    function a(t, i) {\n      t.call && (t = {\n        success: t\n      }), i.length ? (t.error || e)(i) : (t.success || e)(t);\n    }\n\n    function o(t, i, s, n) {\n      var r,\n          a,\n          l = document,\n          c = s.async,\n          u = (s.numRetries || 0) + 1,\n          d = s.before || e,\n          h = t.replace(/[\\?|#].*$/, \"\"),\n          m = t.replace(/^(css|img)!/, \"\");\n      n = n || 0, /(^css!|\\.css$)/.test(h) ? ((a = l.createElement(\"link\")).rel = \"stylesheet\", a.href = m, (r = \"hideFocus\" in a) && a.relList && (r = 0, a.rel = \"preload\", a.as = \"style\")) : /(^img!|\\.(png|gif|jpg|svg|webp)$)/.test(h) ? (a = l.createElement(\"img\")).src = m : ((a = l.createElement(\"script\")).src = t, a.async = void 0 === c || c), a.onload = a.onerror = a.onbeforeload = function (e) {\n        var l = e.type[0];\n        if (r) try {\n          a.sheet.cssText.length || (l = \"e\");\n        } catch (e) {\n          18 != e.code && (l = \"e\");\n        }\n\n        if (\"e\" == l) {\n          if ((n += 1) < u) return o(t, i, s, n);\n        } else if (\"preload\" == a.rel && \"style\" == a.as) return a.rel = \"stylesheet\";\n\n        i(t, l, e.defaultPrevented);\n      }, !1 !== d(t, a) && l.head.appendChild(a);\n    }\n\n    function l(e, t, i) {\n      var s,\n          n,\n          r = (e = e.push ? e : [e]).length,\n          a = r,\n          l = [];\n\n      for (s = function s(e, i, _s6) {\n        if (\"e\" == i && l.push(e), \"b\" == i) {\n          if (!_s6) return;\n          l.push(e);\n        }\n\n        --r || t(l);\n      }, n = 0; n < a; n++) {\n        o(e[n], s, i);\n      }\n    }\n\n    function c(e, i, s) {\n      var n, o;\n\n      if (i && i.trim && (n = i), o = (n ? s : i) || {}, n) {\n        if (n in t) throw \"LoadJS\";\n        t[n] = !0;\n      }\n\n      function c(t, i) {\n        l(e, function (e) {\n          a(o, e), t && a({\n            success: t,\n            error: i\n          }, e), r(n, e);\n        }, o);\n      }\n\n      if (o.returnPromise) return new Promise(c);\n      c();\n    }\n\n    return c.ready = function (e, t) {\n      return n(e, function (e) {\n        a(t, e);\n      }), c;\n    }, c.done = function (e) {\n      r(e, []);\n    }, c.reset = function () {\n      t = {}, i = {}, s = {};\n    }, c.isDefined = function (e) {\n      return e in t;\n    }, c;\n  }();\n});\n\nfunction loadScript(e) {\n  return new Promise(function (t, i) {\n    loadjs_umd(e, {\n      success: t,\n      error: i\n    });\n  });\n}\n\nfunction parseId$1(e) {\n  if (is.empty(e)) return null;\n  if (is.number(Number(e))) return e;\n  return e.match(/^.*(vimeo.com\\/|video\\/)(\\d+).*/) ? RegExp.$2 : e;\n}\n\nfunction assurePlaybackState$1(e) {\n  e && !this.embed.hasPlayed && (this.embed.hasPlayed = !0), this.media.paused === e && (this.media.paused = !e, triggerEvent.call(this, this.media, e ? \"play\" : \"pause\"));\n}\n\nvar vimeo = {\n  setup: function setup() {\n    var e = this;\n    toggleClass(e.elements.wrapper, e.config.classNames.embed, !0), e.options.speed = e.config.speed.options, setAspectRatio.call(e), is.object(window.Vimeo) ? vimeo.ready.call(e) : loadScript(e.config.urls.vimeo.sdk).then(function () {\n      vimeo.ready.call(e);\n    }).catch(function (t) {\n      e.debug.warn(\"Vimeo SDK (player.js) failed to load\", t);\n    });\n  },\n  ready: function ready() {\n    var _this28 = this;\n\n    var e = this,\n        t = e.config.vimeo,\n        i = t.premium,\n        s = t.referrerPolicy,\n        n = _objectWithoutProperties(t, [\"premium\", \"referrerPolicy\"]);\n\n    i && Object.assign(n, {\n      controls: !1,\n      sidedock: !1\n    });\n    var r = buildUrlParams(_objectSpread2$1({\n      loop: e.config.loop.active,\n      autoplay: e.autoplay,\n      muted: e.muted,\n      gesture: \"media\",\n      playsinline: !this.config.fullscreen.iosNative\n    }, n));\n    var a = e.media.getAttribute(\"src\");\n    is.empty(a) && (a = e.media.getAttribute(e.config.attributes.embed.id));\n    var o = parseId$1(a),\n        l = createElement(\"iframe\"),\n        c = format(e.config.urls.vimeo.iframe, o, r);\n    if (l.setAttribute(\"src\", c), l.setAttribute(\"allowfullscreen\", \"\"), l.setAttribute(\"allow\", [\"autoplay\", \"fullscreen\", \"picture-in-picture\"].join(\"; \")), is.empty(s) || l.setAttribute(\"referrerPolicy\", s), i || !t.customControls) l.setAttribute(\"data-poster\", e.poster), e.media = replaceElement(l, e.media);else {\n      var _t13 = createElement(\"div\", {\n        class: e.config.classNames.embedContainer,\n        \"data-poster\": e.poster\n      });\n\n      _t13.appendChild(l), e.media = replaceElement(_t13, e.media);\n    }\n    t.customControls || fetch$1(format(e.config.urls.vimeo.api, c)).then(function (t) {\n      !is.empty(t) && t.thumbnail_url && ui.setPoster.call(e, t.thumbnail_url).catch(function () {});\n    }), e.embed = new window.Vimeo.Player(l, {\n      autopause: e.config.autopause,\n      muted: e.muted\n    }), e.media.paused = !0, e.media.currentTime = 0, e.supported.ui && e.embed.disableTextTrack(), e.media.play = function () {\n      return assurePlaybackState$1.call(e, !0), e.embed.play();\n    }, e.media.pause = function () {\n      return assurePlaybackState$1.call(e, !1), e.embed.pause();\n    }, e.media.stop = function () {\n      e.pause(), e.currentTime = 0;\n    };\n    var u = e.media.currentTime;\n    Object.defineProperty(e.media, \"currentTime\", {\n      get: function get() {\n        return u;\n      },\n      set: function set(t) {\n        var i = e.embed,\n            s = e.media,\n            n = e.paused,\n            r = e.volume,\n            a = n && !i.hasPlayed;\n        s.seeking = !0, triggerEvent.call(e, s, \"seeking\"), Promise.resolve(a && i.setVolume(0)).then(function () {\n          return i.setCurrentTime(t);\n        }).then(function () {\n          return a && i.pause();\n        }).then(function () {\n          return a && i.setVolume(r);\n        }).catch(function () {});\n      }\n    });\n    var d = e.config.speed.selected;\n    Object.defineProperty(e.media, \"playbackRate\", {\n      get: function get() {\n        return d;\n      },\n      set: function set(t) {\n        e.embed.setPlaybackRate(t).then(function () {\n          d = t, triggerEvent.call(e, e.media, \"ratechange\");\n        }).catch(function () {\n          e.options.speed = [1];\n        });\n      }\n    });\n    var h = e.config.volume;\n    Object.defineProperty(e.media, \"volume\", {\n      get: function get() {\n        return h;\n      },\n      set: function set(t) {\n        e.embed.setVolume(t).then(function () {\n          h = t, triggerEvent.call(e, e.media, \"volumechange\");\n        });\n      }\n    });\n    var m = e.config.muted;\n    Object.defineProperty(e.media, \"muted\", {\n      get: function get() {\n        return m;\n      },\n      set: function set(t) {\n        var i = !!is.boolean(t) && t;\n        e.embed.setVolume(i ? 0 : e.config.volume).then(function () {\n          m = i, triggerEvent.call(e, e.media, \"volumechange\");\n        });\n      }\n    });\n    var p,\n        g = e.config.loop;\n    Object.defineProperty(e.media, \"loop\", {\n      get: function get() {\n        return g;\n      },\n      set: function set(t) {\n        var i = is.boolean(t) ? t : e.config.loop.active;\n        e.embed.setLoop(i).then(function () {\n          g = i;\n        });\n      }\n    }), e.embed.getVideoUrl().then(function (t) {\n      p = t, controls.setDownloadUrl.call(e);\n    }).catch(function (e) {\n      _this28.debug.warn(e);\n    }), Object.defineProperty(e.media, \"currentSrc\", {\n      get: function get() {\n        return p;\n      }\n    }), Object.defineProperty(e.media, \"ended\", {\n      get: function get() {\n        return e.currentTime === e.duration;\n      }\n    }), Promise.all([e.embed.getVideoWidth(), e.embed.getVideoHeight()]).then(function (t) {\n      var _t14 = _slicedToArray(t, 2),\n          i = _t14[0],\n          s = _t14[1];\n\n      e.embed.ratio = [i, s], setAspectRatio.call(_this28);\n    }), e.embed.setAutopause(e.config.autopause).then(function (t) {\n      e.config.autopause = t;\n    }), e.embed.getVideoTitle().then(function (t) {\n      e.config.title = t, ui.setTitle.call(_this28);\n    }), e.embed.getCurrentTime().then(function (t) {\n      u = t, triggerEvent.call(e, e.media, \"timeupdate\");\n    }), e.embed.getDuration().then(function (t) {\n      e.media.duration = t, triggerEvent.call(e, e.media, \"durationchange\");\n    }), e.embed.getTextTracks().then(function (t) {\n      e.media.textTracks = t, captions.setup.call(e);\n    }), e.embed.on(\"cuechange\", function (_ref15) {\n      var _ref15$cues = _ref15.cues,\n          t = _ref15$cues === void 0 ? [] : _ref15$cues;\n      var i = t.map(function (e) {\n        return stripHTML(e.text);\n      });\n      captions.updateCues.call(e, i);\n    }), e.embed.on(\"loaded\", function () {\n      if (e.embed.getPaused().then(function (t) {\n        assurePlaybackState$1.call(e, !t), t || triggerEvent.call(e, e.media, \"playing\");\n      }), is.element(e.embed.element) && e.supported.ui) {\n        e.embed.element.setAttribute(\"tabindex\", -1);\n      }\n    }), e.embed.on(\"bufferstart\", function () {\n      triggerEvent.call(e, e.media, \"waiting\");\n    }), e.embed.on(\"bufferend\", function () {\n      triggerEvent.call(e, e.media, \"playing\");\n    }), e.embed.on(\"play\", function () {\n      assurePlaybackState$1.call(e, !0), triggerEvent.call(e, e.media, \"playing\");\n    }), e.embed.on(\"pause\", function () {\n      assurePlaybackState$1.call(e, !1);\n    }), e.embed.on(\"timeupdate\", function (t) {\n      e.media.seeking = !1, u = t.seconds, triggerEvent.call(e, e.media, \"timeupdate\");\n    }), e.embed.on(\"progress\", function (t) {\n      e.media.buffered = t.percent, triggerEvent.call(e, e.media, \"progress\"), 1 === parseInt(t.percent, 10) && triggerEvent.call(e, e.media, \"canplaythrough\"), e.embed.getDuration().then(function (t) {\n        t !== e.media.duration && (e.media.duration = t, triggerEvent.call(e, e.media, \"durationchange\"));\n      });\n    }), e.embed.on(\"seeked\", function () {\n      e.media.seeking = !1, triggerEvent.call(e, e.media, \"seeked\");\n    }), e.embed.on(\"ended\", function () {\n      e.media.paused = !0, triggerEvent.call(e, e.media, \"ended\");\n    }), e.embed.on(\"error\", function (t) {\n      e.media.error = t, triggerEvent.call(e, e.media, \"error\");\n    }), t.customControls && setTimeout(function () {\n      return ui.build.call(e);\n    }, 0);\n  }\n};\n\nfunction parseId(e) {\n  if (is.empty(e)) return null;\n  return e.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/) ? RegExp.$2 : e;\n}\n\nfunction assurePlaybackState(e) {\n  e && !this.embed.hasPlayed && (this.embed.hasPlayed = !0), this.media.paused === e && (this.media.paused = !e, triggerEvent.call(this, this.media, e ? \"play\" : \"pause\"));\n}\n\nfunction getHost(e) {\n  return e.noCookie ? \"https://www.youtube-nocookie.com\" : \"http:\" === window.location.protocol ? \"http://www.youtube.com\" : void 0;\n}\n\nvar youtube = {\n  setup: function setup() {\n    var _this29 = this;\n\n    if (toggleClass(this.elements.wrapper, this.config.classNames.embed, !0), is.object(window.YT) && is.function(window.YT.Player)) youtube.ready.call(this);else {\n      var e = window.onYouTubeIframeAPIReady;\n      window.onYouTubeIframeAPIReady = function () {\n        is.function(e) && e(), youtube.ready.call(_this29);\n      }, loadScript(this.config.urls.youtube.sdk).catch(function (e) {\n        _this29.debug.warn(\"YouTube API failed to load\", e);\n      });\n    }\n  },\n  getTitle: function getTitle(e) {\n    var _this30 = this;\n\n    fetch$1(format(this.config.urls.youtube.api, e)).then(function (e) {\n      if (is.object(e)) {\n        var t = e.title,\n            i = e.height,\n            s = e.width;\n        _this30.config.title = t, ui.setTitle.call(_this30), _this30.embed.ratio = [s, i];\n      }\n\n      setAspectRatio.call(_this30);\n    }).catch(function () {\n      setAspectRatio.call(_this30);\n    });\n  },\n  ready: function ready() {\n    var e = this,\n        t = e.config.youtube,\n        i = e.media && e.media.getAttribute(\"id\");\n    if (!is.empty(i) && i.startsWith(\"youtube-\")) return;\n    var s = e.media.getAttribute(\"src\");\n    is.empty(s) && (s = e.media.getAttribute(this.config.attributes.embed.id));\n    var n = parseId(s),\n        r = createElement(\"div\", {\n      id: generateId(e.provider),\n      \"data-poster\": t.customControls ? e.poster : void 0\n    });\n\n    if (e.media = replaceElement(r, e.media), t.customControls) {\n      var _t15 = function _t15(e) {\n        return \"https://i.ytimg.com/vi/\".concat(n, \"/\").concat(e, \"default.jpg\");\n      };\n\n      loadImage(_t15(\"maxres\"), 121).catch(function () {\n        return loadImage(_t15(\"sd\"), 121);\n      }).catch(function () {\n        return loadImage(_t15(\"hq\"));\n      }).then(function (t) {\n        return ui.setPoster.call(e, t.src);\n      }).then(function (t) {\n        t.includes(\"maxres\") || (e.elements.poster.style.backgroundSize = \"cover\");\n      }).catch(function () {});\n    }\n\n    e.embed = new window.YT.Player(e.media, {\n      videoId: n,\n      host: getHost(t),\n      playerVars: extend({}, {\n        autoplay: e.config.autoplay ? 1 : 0,\n        hl: e.config.hl,\n        controls: e.supported.ui && t.customControls ? 0 : 1,\n        disablekb: 1,\n        playsinline: e.config.fullscreen.iosNative ? 0 : 1,\n        cc_load_policy: e.captions.active ? 1 : 0,\n        cc_lang_pref: e.config.captions.language,\n        widget_referrer: window ? window.location.href : null\n      }, t),\n      events: {\n        onError: function onError(t) {\n          if (!e.media.error) {\n            var _i7 = t.data,\n                _s7 = {\n              2: \"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.\",\n              5: \"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.\",\n              100: \"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.\",\n              101: \"The owner of the requested video does not allow it to be played in embedded players.\",\n              150: \"The owner of the requested video does not allow it to be played in embedded players.\"\n            }[_i7] || \"An unknown error occured\";\n\n            e.media.error = {\n              code: _i7,\n              message: _s7\n            }, triggerEvent.call(e, e.media, \"error\");\n          }\n        },\n        onPlaybackRateChange: function onPlaybackRateChange(t) {\n          var i = t.target;\n          e.media.playbackRate = i.getPlaybackRate(), triggerEvent.call(e, e.media, \"ratechange\");\n        },\n        onReady: function onReady(i) {\n          if (is.function(e.media.play)) return;\n          var s = i.target;\n          youtube.getTitle.call(e, n), e.media.play = function () {\n            assurePlaybackState.call(e, !0), s.playVideo();\n          }, e.media.pause = function () {\n            assurePlaybackState.call(e, !1), s.pauseVideo();\n          }, e.media.stop = function () {\n            s.stopVideo();\n          }, e.media.duration = s.getDuration(), e.media.paused = !0, e.media.currentTime = 0, Object.defineProperty(e.media, \"currentTime\", {\n            get: function get() {\n              return Number(s.getCurrentTime());\n            },\n            set: function set(t) {\n              e.paused && !e.embed.hasPlayed && e.embed.mute(), e.media.seeking = !0, triggerEvent.call(e, e.media, \"seeking\"), s.seekTo(t);\n            }\n          }), Object.defineProperty(e.media, \"playbackRate\", {\n            get: function get() {\n              return s.getPlaybackRate();\n            },\n            set: function set(e) {\n              s.setPlaybackRate(e);\n            }\n          });\n          var r = e.config.volume;\n          Object.defineProperty(e.media, \"volume\", {\n            get: function get() {\n              return r;\n            },\n            set: function set(t) {\n              r = t, s.setVolume(100 * r), triggerEvent.call(e, e.media, \"volumechange\");\n            }\n          });\n          var a = e.config.muted;\n          Object.defineProperty(e.media, \"muted\", {\n            get: function get() {\n              return a;\n            },\n            set: function set(t) {\n              var i = is.boolean(t) ? t : a;\n              a = i, s[i ? \"mute\" : \"unMute\"](), s.setVolume(100 * r), triggerEvent.call(e, e.media, \"volumechange\");\n            }\n          }), Object.defineProperty(e.media, \"currentSrc\", {\n            get: function get() {\n              return s.getVideoUrl();\n            }\n          }), Object.defineProperty(e.media, \"ended\", {\n            get: function get() {\n              return e.currentTime === e.duration;\n            }\n          });\n          var o = s.getAvailablePlaybackRates();\n          e.options.speed = o.filter(function (t) {\n            return e.config.speed.options.includes(t);\n          }), e.supported.ui && t.customControls && e.media.setAttribute(\"tabindex\", -1), triggerEvent.call(e, e.media, \"timeupdate\"), triggerEvent.call(e, e.media, \"durationchange\"), clearInterval(e.timers.buffering), e.timers.buffering = setInterval(function () {\n            e.media.buffered = s.getVideoLoadedFraction(), (null === e.media.lastBuffered || e.media.lastBuffered < e.media.buffered) && triggerEvent.call(e, e.media, \"progress\"), e.media.lastBuffered = e.media.buffered, 1 === e.media.buffered && (clearInterval(e.timers.buffering), triggerEvent.call(e, e.media, \"canplaythrough\"));\n          }, 200), t.customControls && setTimeout(function () {\n            return ui.build.call(e);\n          }, 50);\n        },\n        onStateChange: function onStateChange(i) {\n          var s = i.target;\n          clearInterval(e.timers.playing);\n\n          switch (e.media.seeking && [1, 2].includes(i.data) && (e.media.seeking = !1, triggerEvent.call(e, e.media, \"seeked\")), i.data) {\n            case -1:\n              triggerEvent.call(e, e.media, \"timeupdate\"), e.media.buffered = s.getVideoLoadedFraction(), triggerEvent.call(e, e.media, \"progress\");\n              break;\n\n            case 0:\n              assurePlaybackState.call(e, !1), e.media.loop ? (s.stopVideo(), s.playVideo()) : triggerEvent.call(e, e.media, \"ended\");\n              break;\n\n            case 1:\n              t.customControls && !e.config.autoplay && e.media.paused && !e.embed.hasPlayed ? e.media.pause() : (assurePlaybackState.call(e, !0), triggerEvent.call(e, e.media, \"playing\"), e.timers.playing = setInterval(function () {\n                triggerEvent.call(e, e.media, \"timeupdate\");\n              }, 50), e.media.duration !== s.getDuration() && (e.media.duration = s.getDuration(), triggerEvent.call(e, e.media, \"durationchange\")));\n              break;\n\n            case 2:\n              e.muted || e.embed.unMute(), assurePlaybackState.call(e, !1);\n              break;\n\n            case 3:\n              triggerEvent.call(e, e.media, \"waiting\");\n          }\n\n          triggerEvent.call(e, e.elements.container, \"statechange\", !1, {\n            code: i.data\n          });\n        }\n      }\n    });\n  }\n},\n    media = {\n  setup: function setup() {\n    this.media ? (toggleClass(this.elements.container, this.config.classNames.type.replace(\"{0}\", this.type), !0), toggleClass(this.elements.container, this.config.classNames.provider.replace(\"{0}\", this.provider), !0), this.isEmbed && toggleClass(this.elements.container, this.config.classNames.type.replace(\"{0}\", \"video\"), !0), this.isVideo && (this.elements.wrapper = createElement(\"div\", {\n      class: this.config.classNames.video\n    }), wrap(this.media, this.elements.wrapper), this.elements.poster = createElement(\"div\", {\n      class: this.config.classNames.poster,\n      hidden: \"\"\n    }), this.elements.wrapper.appendChild(this.elements.poster)), this.isHTML5 ? html5.setup.call(this) : this.isYouTube ? youtube.setup.call(this) : this.isVimeo && vimeo.setup.call(this)) : this.debug.warn(\"No media element found!\");\n  }\n};\n\nvar Ads = /*#__PURE__*/function () {\n  function Ads(e) {\n    var _this31 = this;\n\n    _classCallCheck$1(this, Ads);\n\n    _defineProperty$1(this, \"load\", function () {\n      _this31.enabled && (is.object(window.google) && is.object(window.google.ima) ? _this31.ready() : loadScript(_this31.player.config.urls.googleIMA.sdk).then(function () {\n        _this31.ready();\n      }).catch(function () {\n        _this31.trigger(\"error\", new Error(\"Google IMA SDK failed to load\"));\n      }));\n    }), _defineProperty$1(this, \"ready\", function () {\n      var e;\n      _this31.enabled || ((e = _this31).manager && e.manager.destroy(), e.elements.displayContainer && e.elements.displayContainer.destroy(), e.elements.container.remove()), _this31.startSafetyTimer(12e3, \"ready()\"), _this31.managerPromise.then(function () {\n        _this31.clearSafetyTimer(\"onAdsManagerLoaded()\");\n      }), _this31.listeners(), _this31.setupIMA();\n    }), _defineProperty$1(this, \"setupIMA\", function () {\n      _this31.elements.container = createElement(\"div\", {\n        class: _this31.player.config.classNames.ads\n      }), _this31.player.elements.container.appendChild(_this31.elements.container), google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED), google.ima.settings.setLocale(_this31.player.config.ads.language), google.ima.settings.setDisableCustomPlaybackForIOS10Plus(_this31.player.config.playsinline), _this31.elements.displayContainer = new google.ima.AdDisplayContainer(_this31.elements.container, _this31.player.media), _this31.loader = new google.ima.AdsLoader(_this31.elements.displayContainer), _this31.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function (e) {\n        return _this31.onAdsManagerLoaded(e);\n      }, !1), _this31.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (e) {\n        return _this31.onAdError(e);\n      }, !1), _this31.requestAds();\n    }), _defineProperty$1(this, \"requestAds\", function () {\n      var e = _this31.player.elements.container;\n\n      try {\n        var t = new google.ima.AdsRequest();\n        t.adTagUrl = _this31.tagUrl, t.linearAdSlotWidth = e.offsetWidth, t.linearAdSlotHeight = e.offsetHeight, t.nonLinearAdSlotWidth = e.offsetWidth, t.nonLinearAdSlotHeight = e.offsetHeight, t.forceNonLinearFullSlot = !1, t.setAdWillPlayMuted(!_this31.player.muted), _this31.loader.requestAds(t);\n      } catch (e) {\n        _this31.onAdError(e);\n      }\n    }), _defineProperty$1(this, \"pollCountdown\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n      if (!e) return clearInterval(_this31.countdownTimer), void _this31.elements.container.removeAttribute(\"data-badge-text\");\n      _this31.countdownTimer = setInterval(function () {\n        var e = _formatTime(Math.max(_this31.manager.getRemainingTime(), 0)),\n            t = \"\".concat(i18n.get(\"advertisement\", _this31.player.config), \" - \").concat(e);\n\n        _this31.elements.container.setAttribute(\"data-badge-text\", t);\n      }, 100);\n    }), _defineProperty$1(this, \"onAdsManagerLoaded\", function (e) {\n      if (!_this31.enabled) return;\n      var t = new google.ima.AdsRenderingSettings();\n      t.restoreCustomPlaybackStateOnAdBreakComplete = !0, t.enablePreloading = !0, _this31.manager = e.getAdsManager(_this31.player, t), _this31.cuePoints = _this31.manager.getCuePoints(), _this31.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (e) {\n        return _this31.onAdError(e);\n      }), Object.keys(google.ima.AdEvent.Type).forEach(function (e) {\n        _this31.manager.addEventListener(google.ima.AdEvent.Type[e], function (e) {\n          return _this31.onAdEvent(e);\n        });\n      }), _this31.trigger(\"loaded\");\n    }), _defineProperty$1(this, \"addCuePoints\", function () {\n      is.empty(_this31.cuePoints) || _this31.cuePoints.forEach(function (e) {\n        if (0 !== e && -1 !== e && e < _this31.player.duration) {\n          var t = _this31.player.elements.progress;\n\n          if (is.element(t)) {\n            var i = 100 / _this31.player.duration * e,\n                s = createElement(\"span\", {\n              class: _this31.player.config.classNames.cues\n            });\n            s.style.left = \"\".concat(i.toString(), \"%\"), t.appendChild(s);\n          }\n        }\n      });\n    }), _defineProperty$1(this, \"onAdEvent\", function (e) {\n      var t = _this31.player.elements.container,\n          i = e.getAd(),\n          s = e.getAdData();\n\n      switch (function (e) {\n        triggerEvent.call(_this31.player, _this31.player.media, \"ads\".concat(e.replace(/_/g, \"\").toLowerCase()));\n      }(e.type), e.type) {\n        case google.ima.AdEvent.Type.LOADED:\n          _this31.trigger(\"loaded\"), _this31.pollCountdown(!0), i.isLinear() || (i.width = t.offsetWidth, i.height = t.offsetHeight);\n          break;\n\n        case google.ima.AdEvent.Type.STARTED:\n          _this31.manager.setVolume(_this31.player.volume);\n\n          break;\n\n        case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:\n          _this31.player.ended ? _this31.loadAds() : _this31.loader.contentComplete();\n          break;\n\n        case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:\n          _this31.pauseContent();\n\n          break;\n\n        case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:\n          _this31.pollCountdown(), _this31.resumeContent();\n          break;\n\n        case google.ima.AdEvent.Type.LOG:\n          s.adError && _this31.player.debug.warn(\"Non-fatal ad error: \".concat(s.adError.getMessage()));\n      }\n    }), _defineProperty$1(this, \"onAdError\", function (e) {\n      _this31.cancel(), _this31.player.debug.warn(\"Ads error\", e);\n    }), _defineProperty$1(this, \"listeners\", function () {\n      var e = _this31.player.elements.container;\n      var t;\n      _this31.player.on(\"canplay\", function () {\n        _this31.addCuePoints();\n      }), _this31.player.on(\"ended\", function () {\n        _this31.loader.contentComplete();\n      }), _this31.player.on(\"timeupdate\", function () {\n        t = _this31.player.currentTime;\n      }), _this31.player.on(\"seeked\", function () {\n        var e = _this31.player.currentTime;\n        is.empty(_this31.cuePoints) || _this31.cuePoints.forEach(function (i, s) {\n          t < i && i < e && (_this31.manager.discardAdBreak(), _this31.cuePoints.splice(s, 1));\n        });\n      }), window.addEventListener(\"resize\", function () {\n        _this31.manager && _this31.manager.resize(e.offsetWidth, e.offsetHeight, google.ima.ViewMode.NORMAL);\n      });\n    }), _defineProperty$1(this, \"play\", function () {\n      var e = _this31.player.elements.container;\n      _this31.managerPromise || _this31.resumeContent(), _this31.managerPromise.then(function () {\n        _this31.manager.setVolume(_this31.player.volume), _this31.elements.displayContainer.initialize();\n\n        try {\n          _this31.initialized || (_this31.manager.init(e.offsetWidth, e.offsetHeight, google.ima.ViewMode.NORMAL), _this31.manager.start()), _this31.initialized = !0;\n        } catch (e) {\n          _this31.onAdError(e);\n        }\n      }).catch(function () {});\n    }), _defineProperty$1(this, \"resumeContent\", function () {\n      _this31.elements.container.style.zIndex = \"\", _this31.playing = !1, silencePromise(_this31.player.media.play());\n    }), _defineProperty$1(this, \"pauseContent\", function () {\n      _this31.elements.container.style.zIndex = 3, _this31.playing = !0, _this31.player.media.pause();\n    }), _defineProperty$1(this, \"cancel\", function () {\n      _this31.initialized && _this31.resumeContent(), _this31.trigger(\"error\"), _this31.loadAds();\n    }), _defineProperty$1(this, \"loadAds\", function () {\n      _this31.managerPromise.then(function () {\n        _this31.manager && _this31.manager.destroy(), _this31.managerPromise = new Promise(function (e) {\n          _this31.on(\"loaded\", e), _this31.player.debug.log(_this31.manager);\n        }), _this31.initialized = !1, _this31.requestAds();\n      }).catch(function () {});\n    }), _defineProperty$1(this, \"trigger\", function (e) {\n      for (var _len4 = arguments.length, t = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        t[_key4 - 1] = arguments[_key4];\n      }\n\n      var i = _this31.events[e];\n      is.array(i) && i.forEach(function (e) {\n        is.function(e) && e.apply(_this31, t);\n      });\n    }), _defineProperty$1(this, \"on\", function (e, t) {\n      return is.array(_this31.events[e]) || (_this31.events[e] = []), _this31.events[e].push(t), _this31;\n    }), _defineProperty$1(this, \"startSafetyTimer\", function (e, t) {\n      _this31.player.debug.log(\"Safety timer invoked from: \".concat(t)), _this31.safetyTimer = setTimeout(function () {\n        _this31.cancel(), _this31.clearSafetyTimer(\"startSafetyTimer()\");\n      }, e);\n    }), _defineProperty$1(this, \"clearSafetyTimer\", function (e) {\n      is.nullOrUndefined(_this31.safetyTimer) || (_this31.player.debug.log(\"Safety timer cleared from: \".concat(e)), clearTimeout(_this31.safetyTimer), _this31.safetyTimer = null);\n    }), this.player = e, this.config = e.config.ads, this.playing = !1, this.initialized = !1, this.elements = {\n      container: null,\n      displayContainer: null\n    }, this.manager = null, this.loader = null, this.cuePoints = null, this.events = {}, this.safetyTimer = null, this.countdownTimer = null, this.managerPromise = new Promise(function (e, t) {\n      _this31.on(\"loaded\", e), _this31.on(\"error\", t);\n    }), this.load();\n  }\n\n  _createClass$1(Ads, [{\n    key: \"enabled\",\n    get: function get() {\n      var e = this.config;\n      return this.player.isHTML5 && this.player.isVideo && e.enabled && (!is.empty(e.publisherId) || is.url(e.tagUrl));\n    }\n  }, {\n    key: \"tagUrl\",\n    get: function get() {\n      var e = this.config;\n      if (is.url(e.tagUrl)) return e.tagUrl;\n      return \"https://go.aniview.com/api/adserver6/vast/?\".concat(buildUrlParams({\n        AV_PUBLISHERID: \"58c25bb0073ef448b1087ad6\",\n        AV_CHANNELID: \"5a0458dc28a06145e4519d21\",\n        AV_URL: window.location.hostname,\n        cb: Date.now(),\n        AV_WIDTH: 640,\n        AV_HEIGHT: 480,\n        AV_CDIM2: e.publisherId\n      }));\n    }\n  }]);\n\n  return Ads;\n}();\n\nvar parseVtt = function parseVtt(e) {\n  var t = [];\n  return e.split(/\\r\\n\\r\\n|\\n\\n|\\r\\r/).forEach(function (e) {\n    var i = {};\n    e.split(/\\r\\n|\\n|\\r/).forEach(function (e) {\n      if (is.number(i.startTime)) {\n        if (!is.empty(e.trim()) && is.empty(i.text)) {\n          var _t17, _t18, _t16$1$split, _t16$1$split2;\n\n          var _t16 = e.trim().split(\"#xywh=\");\n\n          (_t17 = _t16, _t18 = _slicedToArray(_t17, 1), i.text = _t18[0], _t17), _t16[1] && (_t16$1$split = _t16[1].split(\",\"), _t16$1$split2 = _slicedToArray(_t16$1$split, 4), i.x = _t16$1$split2[0], i.y = _t16$1$split2[1], i.w = _t16$1$split2[2], i.h = _t16$1$split2[3], _t16$1$split);\n        }\n      } else {\n        var _t19 = e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);\n\n        _t19 && (i.startTime = 60 * Number(_t19[1] || 0) * 60 + 60 * Number(_t19[2]) + Number(_t19[3]) + Number(\"0.\".concat(_t19[4])), i.endTime = 60 * Number(_t19[6] || 0) * 60 + 60 * Number(_t19[7]) + Number(_t19[8]) + Number(\"0.\".concat(_t19[9])));\n      }\n    }), i.text && t.push(i);\n  }), t;\n},\n    fitRatio = function fitRatio(e, t) {\n  var i = {};\n  return e > t.width / t.height ? (i.width = t.width, i.height = 1 / e * t.width) : (i.height = t.height, i.width = e * t.height), i;\n};\n\nvar PreviewThumbnails = /*#__PURE__*/function () {\n  function PreviewThumbnails(e) {\n    var _this32 = this;\n\n    _classCallCheck$1(this, PreviewThumbnails);\n\n    _defineProperty$1(this, \"load\", function () {\n      _this32.player.elements.display.seekTooltip && (_this32.player.elements.display.seekTooltip.hidden = _this32.enabled), _this32.enabled && _this32.getThumbnails().then(function () {\n        _this32.enabled && (_this32.render(), _this32.determineContainerAutoSizing(), _this32.loaded = !0);\n      });\n    }), _defineProperty$1(this, \"getThumbnails\", function () {\n      return new Promise(function (e) {\n        var t = _this32.player.config.previewThumbnails.src;\n        if (is.empty(t)) throw new Error(\"Missing previewThumbnails.src config attribute\");\n\n        var i = function i() {\n          _this32.thumbnails.sort(function (e, t) {\n            return e.height - t.height;\n          }), _this32.player.debug.log(\"Preview thumbnails\", _this32.thumbnails), e();\n        };\n\n        if (is.function(t)) t(function (e) {\n          _this32.thumbnails = e, i();\n        });else {\n          var _e26 = (is.string(t) ? [t] : t).map(function (e) {\n            return _this32.getThumbnail(e);\n          });\n\n          Promise.all(_e26).then(i);\n        }\n      });\n    }), _defineProperty$1(this, \"getThumbnail\", function (e) {\n      return new Promise(function (t) {\n        fetch$1(e).then(function (i) {\n          var s = {\n            frames: parseVtt(i),\n            height: null,\n            urlPrefix: \"\"\n          };\n          s.frames[0].text.startsWith(\"/\") || s.frames[0].text.startsWith(\"http://\") || s.frames[0].text.startsWith(\"https://\") || (s.urlPrefix = e.substring(0, e.lastIndexOf(\"/\") + 1));\n          var n = new Image();\n          n.onload = function () {\n            s.height = n.naturalHeight, s.width = n.naturalWidth, _this32.thumbnails.push(s), t();\n          }, n.src = s.urlPrefix + s.frames[0].text;\n        });\n      });\n    }), _defineProperty$1(this, \"startMove\", function (e) {\n      if (_this32.loaded && is.event(e) && [\"touchmove\", \"mousemove\"].includes(e.type) && _this32.player.media.duration) {\n        if (\"touchmove\" === e.type) _this32.seekTime = _this32.player.media.duration * (_this32.player.elements.inputs.seek.value / 100);else {\n          var t = _this32.player.elements.progress.getBoundingClientRect(),\n              i = 100 / t.width * (e.pageX - t.left);\n\n          _this32.seekTime = _this32.player.media.duration * (i / 100), _this32.seekTime < 0 && (_this32.seekTime = 0), _this32.seekTime > _this32.player.media.duration - 1 && (_this32.seekTime = _this32.player.media.duration - 1), _this32.mousePosX = e.pageX, _this32.elements.thumb.time.innerText = _formatTime(_this32.seekTime);\n        }\n\n        _this32.showImageAtCurrentTime();\n      }\n    }), _defineProperty$1(this, \"endMove\", function () {\n      _this32.toggleThumbContainer(!1, !0);\n    }), _defineProperty$1(this, \"startScrubbing\", function (e) {\n      (is.nullOrUndefined(e.button) || !1 === e.button || 0 === e.button) && (_this32.mouseDown = !0, _this32.player.media.duration && (_this32.toggleScrubbingContainer(!0), _this32.toggleThumbContainer(!1, !0), _this32.showImageAtCurrentTime()));\n    }), _defineProperty$1(this, \"endScrubbing\", function () {\n      _this32.mouseDown = !1, Math.ceil(_this32.lastTime) === Math.ceil(_this32.player.media.currentTime) ? _this32.toggleScrubbingContainer(!1) : once.call(_this32.player, _this32.player.media, \"timeupdate\", function () {\n        _this32.mouseDown || _this32.toggleScrubbingContainer(!1);\n      });\n    }), _defineProperty$1(this, \"listeners\", function () {\n      _this32.player.on(\"play\", function () {\n        _this32.toggleThumbContainer(!1, !0);\n      }), _this32.player.on(\"seeked\", function () {\n        _this32.toggleThumbContainer(!1);\n      }), _this32.player.on(\"timeupdate\", function () {\n        _this32.lastTime = _this32.player.media.currentTime;\n      });\n    }), _defineProperty$1(this, \"render\", function () {\n      _this32.elements.thumb.container = createElement(\"div\", {\n        class: _this32.player.config.classNames.previewThumbnails.thumbContainer\n      }), _this32.elements.thumb.imageContainer = createElement(\"div\", {\n        class: _this32.player.config.classNames.previewThumbnails.imageContainer\n      }), _this32.elements.thumb.container.appendChild(_this32.elements.thumb.imageContainer);\n      var e = createElement(\"div\", {\n        class: _this32.player.config.classNames.previewThumbnails.timeContainer\n      });\n      _this32.elements.thumb.time = createElement(\"span\", {}, \"00:00\"), e.appendChild(_this32.elements.thumb.time), _this32.elements.thumb.container.appendChild(e), is.element(_this32.player.elements.progress) && _this32.player.elements.progress.appendChild(_this32.elements.thumb.container), _this32.elements.scrubbing.container = createElement(\"div\", {\n        class: _this32.player.config.classNames.previewThumbnails.scrubbingContainer\n      }), _this32.player.elements.wrapper.appendChild(_this32.elements.scrubbing.container);\n    }), _defineProperty$1(this, \"destroy\", function () {\n      _this32.elements.thumb.container && _this32.elements.thumb.container.remove(), _this32.elements.scrubbing.container && _this32.elements.scrubbing.container.remove();\n    }), _defineProperty$1(this, \"showImageAtCurrentTime\", function () {\n      _this32.mouseDown ? _this32.setScrubbingContainerSize() : _this32.setThumbContainerSizeAndPos();\n\n      var e = _this32.thumbnails[0].frames.findIndex(function (e) {\n        return _this32.seekTime >= e.startTime && _this32.seekTime <= e.endTime;\n      }),\n          t = e >= 0;\n\n      var i = 0;\n      _this32.mouseDown || _this32.toggleThumbContainer(t), t && (_this32.thumbnails.forEach(function (t, s) {\n        _this32.loadedImages.includes(t.frames[e].text) && (i = s);\n      }), e !== _this32.showingThumb && (_this32.showingThumb = e, _this32.loadImage(i)));\n    }), _defineProperty$1(this, \"loadImage\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var t = _this32.showingThumb,\n          i = _this32.thumbnails[e],\n          s = i.urlPrefix,\n          n = i.frames[t],\n          r = i.frames[t].text,\n          a = s + r;\n      if (_this32.currentImageElement && _this32.currentImageElement.dataset.filename === r) _this32.showImage(_this32.currentImageElement, n, e, t, r, !1), _this32.currentImageElement.dataset.index = t, _this32.removeOldImages(_this32.currentImageElement);else {\n        _this32.loadingImage && _this32.usingSprites && (_this32.loadingImage.onload = null);\n\n        var _i8 = new Image();\n\n        _i8.src = a, _i8.dataset.index = t, _i8.dataset.filename = r, _this32.showingThumbFilename = r, _this32.player.debug.log(\"Loading image: \".concat(a)), _i8.onload = function () {\n          return _this32.showImage(_i8, n, e, t, r, !0);\n        }, _this32.loadingImage = _i8, _this32.removeOldImages(_i8);\n      }\n    }), _defineProperty$1(this, \"showImage\", function (e, t, i, s, n) {\n      var r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : !0;\n      _this32.player.debug.log(\"Showing thumb: \".concat(n, \". num: \").concat(s, \". qual: \").concat(i, \". newimg: \").concat(r)), _this32.setImageSizeAndOffset(e, t), r && (_this32.currentImageContainer.appendChild(e), _this32.currentImageElement = e, _this32.loadedImages.includes(n) || _this32.loadedImages.push(n)), _this32.preloadNearby(s, !0).then(_this32.preloadNearby(s, !1)).then(_this32.getHigherQuality(i, e, t, n));\n    }), _defineProperty$1(this, \"removeOldImages\", function (e) {\n      Array.from(_this32.currentImageContainer.children).forEach(function (t) {\n        if (\"img\" !== t.tagName.toLowerCase()) return;\n        var i = _this32.usingSprites ? 500 : 1e3;\n\n        if (t.dataset.index !== e.dataset.index && !t.dataset.deleting) {\n          t.dataset.deleting = !0;\n          var _e27 = _this32.currentImageContainer;\n          setTimeout(function () {\n            _e27.removeChild(t), _this32.player.debug.log(\"Removing thumb: \".concat(t.dataset.filename));\n          }, i);\n        }\n      });\n    }), _defineProperty$1(this, \"preloadNearby\", function (e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n      return new Promise(function (i) {\n        setTimeout(function () {\n          var s = _this32.thumbnails[0].frames[e].text;\n\n          if (_this32.showingThumbFilename === s) {\n            var n;\n            n = t ? _this32.thumbnails[0].frames.slice(e) : _this32.thumbnails[0].frames.slice(0, e).reverse();\n            var r = !1;\n            n.forEach(function (e) {\n              var t = e.text;\n\n              if (t !== s && !_this32.loadedImages.includes(t)) {\n                r = !0, _this32.player.debug.log(\"Preloading thumb filename: \".concat(t));\n\n                var _e28 = _this32.thumbnails[0].urlPrefix,\n                    _s8 = _e28 + t,\n                    _n5 = new Image();\n\n                _n5.src = _s8, _n5.onload = function () {\n                  _this32.player.debug.log(\"Preloaded thumb filename: \".concat(t)), _this32.loadedImages.includes(t) || _this32.loadedImages.push(t), i();\n                };\n              }\n            }), r || i();\n          }\n        }, 300);\n      });\n    }), _defineProperty$1(this, \"getHigherQuality\", function (e, t, i, s) {\n      if (e < _this32.thumbnails.length - 1) {\n        var n = t.naturalHeight;\n        _this32.usingSprites && (n = i.h), n < _this32.thumbContainerHeight && setTimeout(function () {\n          _this32.showingThumbFilename === s && (_this32.player.debug.log(\"Showing higher quality thumb for: \".concat(s)), _this32.loadImage(e + 1));\n        }, 300);\n      }\n    }), _defineProperty$1(this, \"toggleThumbContainer\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      var i = _this32.player.config.classNames.previewThumbnails.thumbContainerShown;\n      _this32.elements.thumb.container.classList.toggle(i, e), !e && t && (_this32.showingThumb = null, _this32.showingThumbFilename = null);\n    }), _defineProperty$1(this, \"toggleScrubbingContainer\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n      var t = _this32.player.config.classNames.previewThumbnails.scrubbingContainerShown;\n      _this32.elements.scrubbing.container.classList.toggle(t, e), e || (_this32.showingThumb = null, _this32.showingThumbFilename = null);\n    }), _defineProperty$1(this, \"determineContainerAutoSizing\", function () {\n      (_this32.elements.thumb.imageContainer.clientHeight > 20 || _this32.elements.thumb.imageContainer.clientWidth > 20) && (_this32.sizeSpecifiedInCSS = !0);\n    }), _defineProperty$1(this, \"setThumbContainerSizeAndPos\", function () {\n      if (_this32.sizeSpecifiedInCSS) {\n        if (_this32.elements.thumb.imageContainer.clientHeight > 20 && _this32.elements.thumb.imageContainer.clientWidth < 20) {\n          var _e29 = Math.floor(_this32.elements.thumb.imageContainer.clientHeight * _this32.thumbAspectRatio);\n\n          _this32.elements.thumb.imageContainer.style.width = \"\".concat(_e29, \"px\");\n        } else if (_this32.elements.thumb.imageContainer.clientHeight < 20 && _this32.elements.thumb.imageContainer.clientWidth > 20) {\n          var _e30 = Math.floor(_this32.elements.thumb.imageContainer.clientWidth / _this32.thumbAspectRatio);\n\n          _this32.elements.thumb.imageContainer.style.height = \"\".concat(_e30, \"px\");\n        }\n      } else {\n        var _e31 = Math.floor(_this32.thumbContainerHeight * _this32.thumbAspectRatio);\n\n        _this32.elements.thumb.imageContainer.style.height = \"\".concat(_this32.thumbContainerHeight, \"px\"), _this32.elements.thumb.imageContainer.style.width = \"\".concat(_e31, \"px\");\n      }\n\n      _this32.setThumbContainerPos();\n    }), _defineProperty$1(this, \"setThumbContainerPos\", function () {\n      var e = _this32.player.elements.progress.getBoundingClientRect(),\n          t = _this32.player.elements.container.getBoundingClientRect(),\n          i = _this32.elements.thumb.container,\n          s = t.left - e.left + 10,\n          n = t.right - e.left - i.clientWidth - 10;\n\n      var r = _this32.mousePosX - e.left - i.clientWidth / 2;\n      r < s && (r = s), r > n && (r = n), i.style.left = \"\".concat(r, \"px\");\n    }), _defineProperty$1(this, \"setScrubbingContainerSize\", function () {\n      var _fitRatio = fitRatio(_this32.thumbAspectRatio, {\n        width: _this32.player.media.clientWidth,\n        height: _this32.player.media.clientHeight\n      }),\n          e = _fitRatio.width,\n          t = _fitRatio.height;\n\n      _this32.elements.scrubbing.container.style.width = \"\".concat(e, \"px\"), _this32.elements.scrubbing.container.style.height = \"\".concat(t, \"px\");\n    }), _defineProperty$1(this, \"setImageSizeAndOffset\", function (e, t) {\n      if (!_this32.usingSprites) return;\n      var i = _this32.thumbContainerHeight / t.h;\n      e.style.height = e.naturalHeight * i + \"px\", e.style.width = e.naturalWidth * i + \"px\", e.style.left = \"-\".concat(t.x * i, \"px\"), e.style.top = \"-\".concat(t.y * i, \"px\");\n    }), this.player = e, this.thumbnails = [], this.loaded = !1, this.lastMouseMoveTime = Date.now(), this.mouseDown = !1, this.loadedImages = [], this.elements = {\n      thumb: {},\n      scrubbing: {}\n    }, this.load();\n  }\n\n  _createClass$1(PreviewThumbnails, [{\n    key: \"enabled\",\n    get: function get() {\n      return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled;\n    }\n  }, {\n    key: \"currentImageContainer\",\n    get: function get() {\n      return this.mouseDown ? this.elements.scrubbing.container : this.elements.thumb.imageContainer;\n    }\n  }, {\n    key: \"usingSprites\",\n    get: function get() {\n      return Object.keys(this.thumbnails[0].frames[0]).includes(\"w\");\n    }\n  }, {\n    key: \"thumbAspectRatio\",\n    get: function get() {\n      return this.usingSprites ? this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h : this.thumbnails[0].width / this.thumbnails[0].height;\n    }\n  }, {\n    key: \"thumbContainerHeight\",\n    get: function get() {\n      if (this.mouseDown) {\n        var _fitRatio2 = fitRatio(this.thumbAspectRatio, {\n          width: this.player.media.clientWidth,\n          height: this.player.media.clientHeight\n        }),\n            e = _fitRatio2.height;\n\n        return e;\n      }\n\n      return this.sizeSpecifiedInCSS ? this.elements.thumb.imageContainer.clientHeight : Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4);\n    }\n  }, {\n    key: \"currentImageElement\",\n    get: function get() {\n      return this.mouseDown ? this.currentScrubbingImageElement : this.currentThumbnailImageElement;\n    },\n    set: function set(e) {\n      this.mouseDown ? this.currentScrubbingImageElement = e : this.currentThumbnailImageElement = e;\n    }\n  }]);\n\n  return PreviewThumbnails;\n}();\n\nvar source = {\n  insertElements: function insertElements(e, t) {\n    var _this33 = this;\n\n    is.string(t) ? insertElement(e, this.media, {\n      src: t\n    }) : is.array(t) && t.forEach(function (t) {\n      insertElement(e, _this33.media, t);\n    });\n  },\n  change: function change(e) {\n    var _this34 = this;\n\n    getDeep(e, \"sources.length\") ? (html5.cancelRequests.call(this), this.destroy.call(this, function () {\n      _this34.options.quality = [], removeElement(_this34.media), _this34.media = null, is.element(_this34.elements.container) && _this34.elements.container.removeAttribute(\"class\");\n\n      var t = e.sources,\n          i = e.type,\n          _t20 = _slicedToArray(t, 1),\n          _t20$ = _t20[0],\n          _t20$$provider = _t20$.provider,\n          s = _t20$$provider === void 0 ? providers.html5 : _t20$$provider,\n          n = _t20$.src,\n          r = \"html5\" === s ? i : \"div\",\n          a = \"html5\" === s ? {} : {\n        src: n\n      };\n\n      Object.assign(_this34, {\n        provider: s,\n        type: i,\n        supported: support.check(i, s, _this34.config.playsinline),\n        media: createElement(r, a)\n      }), _this34.elements.container.appendChild(_this34.media), is.boolean(e.autoplay) && (_this34.config.autoplay = e.autoplay), _this34.isHTML5 && (_this34.config.crossorigin && _this34.media.setAttribute(\"crossorigin\", \"\"), _this34.config.autoplay && _this34.media.setAttribute(\"autoplay\", \"\"), is.empty(e.poster) || (_this34.poster = e.poster), _this34.config.loop.active && _this34.media.setAttribute(\"loop\", \"\"), _this34.config.muted && _this34.media.setAttribute(\"muted\", \"\"), _this34.config.playsinline && _this34.media.setAttribute(\"playsinline\", \"\")), ui.addStyleHook.call(_this34), _this34.isHTML5 && source.insertElements.call(_this34, \"source\", t), _this34.config.title = e.title, media.setup.call(_this34), _this34.isHTML5 && Object.keys(e).includes(\"tracks\") && source.insertElements.call(_this34, \"track\", e.tracks), (_this34.isHTML5 || _this34.isEmbed && !_this34.supported.ui) && ui.build.call(_this34), _this34.isHTML5 && _this34.media.load(), is.empty(e.previewThumbnails) || (Object.assign(_this34.config.previewThumbnails, e.previewThumbnails), _this34.previewThumbnails && _this34.previewThumbnails.loaded && (_this34.previewThumbnails.destroy(), _this34.previewThumbnails = null), _this34.config.previewThumbnails.enabled && (_this34.previewThumbnails = new PreviewThumbnails(_this34))), _this34.fullscreen.update();\n    }, !0)) : this.debug.warn(\"Invalid source format\");\n  }\n};\n\nfunction clamp() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 255;\n  return Math.min(Math.max(e, t), i);\n}\n\nvar Plyr = /*#__PURE__*/function () {\n  function Plyr(e, t) {\n    var _this35 = this;\n\n    _classCallCheck$1(this, Plyr);\n\n    if (_defineProperty$1(this, \"play\", function () {\n      return is.function(_this35.media.play) ? (_this35.ads && _this35.ads.enabled && _this35.ads.managerPromise.then(function () {\n        return _this35.ads.play();\n      }).catch(function () {\n        return silencePromise(_this35.media.play());\n      }), _this35.media.play()) : null;\n    }), _defineProperty$1(this, \"pause\", function () {\n      return _this35.playing && is.function(_this35.media.pause) ? _this35.media.pause() : null;\n    }), _defineProperty$1(this, \"togglePlay\", function (e) {\n      return (is.boolean(e) ? e : !_this35.playing) ? _this35.play() : _this35.pause();\n    }), _defineProperty$1(this, \"stop\", function () {\n      _this35.isHTML5 ? (_this35.pause(), _this35.restart()) : is.function(_this35.media.stop) && _this35.media.stop();\n    }), _defineProperty$1(this, \"restart\", function () {\n      _this35.currentTime = 0;\n    }), _defineProperty$1(this, \"rewind\", function (e) {\n      _this35.currentTime -= is.number(e) ? e : _this35.config.seekTime;\n    }), _defineProperty$1(this, \"forward\", function (e) {\n      _this35.currentTime += is.number(e) ? e : _this35.config.seekTime;\n    }), _defineProperty$1(this, \"increaseVolume\", function (e) {\n      var t = _this35.media.muted ? 0 : _this35.volume;\n      _this35.volume = t + (is.number(e) ? e : 0);\n    }), _defineProperty$1(this, \"decreaseVolume\", function (e) {\n      _this35.increaseVolume(-e);\n    }), _defineProperty$1(this, \"airplay\", function () {\n      support.airplay && _this35.media.webkitShowPlaybackTargetPicker();\n    }), _defineProperty$1(this, \"toggleControls\", function (e) {\n      if (_this35.supported.ui && !_this35.isAudio) {\n        var _t21 = hasClass(_this35.elements.container, _this35.config.classNames.hideControls),\n            _i9 = void 0 === e ? void 0 : !e,\n            _s9 = toggleClass(_this35.elements.container, _this35.config.classNames.hideControls, _i9);\n\n        if (_s9 && is.array(_this35.config.controls) && _this35.config.controls.includes(\"settings\") && !is.empty(_this35.config.settings) && controls.toggleMenu.call(_this35, !1), _s9 !== _t21) {\n          var _e32 = _s9 ? \"controlshidden\" : \"controlsshown\";\n\n          triggerEvent.call(_this35, _this35.media, _e32);\n        }\n\n        return !_s9;\n      }\n\n      return !1;\n    }), _defineProperty$1(this, \"on\", function (e, t) {\n      on.call(_this35, _this35.elements.container, e, t);\n    }), _defineProperty$1(this, \"once\", function (e, t) {\n      once.call(_this35, _this35.elements.container, e, t);\n    }), _defineProperty$1(this, \"off\", function (e, t) {\n      off(_this35.elements.container, e, t);\n    }), _defineProperty$1(this, \"destroy\", function (e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      if (!_this35.ready) return;\n\n      var i = function i() {\n        document.body.style.overflow = \"\", _this35.embed = null, t ? (Object.keys(_this35.elements).length && (removeElement(_this35.elements.buttons.play), removeElement(_this35.elements.captions), removeElement(_this35.elements.controls), removeElement(_this35.elements.wrapper), _this35.elements.buttons.play = null, _this35.elements.captions = null, _this35.elements.controls = null, _this35.elements.wrapper = null), is.function(e) && e()) : (unbindListeners.call(_this35), html5.cancelRequests.call(_this35), replaceElement(_this35.elements.original, _this35.elements.container), triggerEvent.call(_this35, _this35.elements.original, \"destroyed\", !0), is.function(e) && e.call(_this35.elements.original), _this35.ready = !1, setTimeout(function () {\n          _this35.elements = null, _this35.media = null;\n        }, 200));\n      };\n\n      _this35.stop(), clearTimeout(_this35.timers.loading), clearTimeout(_this35.timers.controls), clearTimeout(_this35.timers.resized), _this35.isHTML5 ? (ui.toggleNativeControls.call(_this35, !0), i()) : _this35.isYouTube ? (clearInterval(_this35.timers.buffering), clearInterval(_this35.timers.playing), null !== _this35.embed && is.function(_this35.embed.destroy) && _this35.embed.destroy(), i()) : _this35.isVimeo && (null !== _this35.embed && _this35.embed.unload().then(i), setTimeout(i, 200));\n    }), _defineProperty$1(this, \"supports\", function (e) {\n      return support.mime.call(_this35, e);\n    }), this.timers = {}, this.ready = !1, this.loading = !1, this.failed = !1, this.touch = support.touch, this.media = e, is.string(this.media) && (this.media = document.querySelectorAll(this.media)), (window.jQuery && this.media instanceof jQuery || is.nodeList(this.media) || is.array(this.media)) && (this.media = this.media[0]), this.config = extend({}, defaults, Plyr.defaults, t || {}, function () {\n      try {\n        return JSON.parse(_this35.media.getAttribute(\"data-plyr-config\"));\n      } catch (e) {\n        return {};\n      }\n    }()), this.elements = {\n      container: null,\n      fullscreen: null,\n      captions: null,\n      buttons: {},\n      display: {},\n      progress: {},\n      inputs: {},\n      settings: {\n        popup: null,\n        menu: null,\n        panels: {},\n        buttons: {}\n      }\n    }, this.captions = {\n      active: null,\n      currentTrack: -1,\n      meta: new WeakMap()\n    }, this.fullscreen = {\n      active: !1\n    }, this.options = {\n      speed: [],\n      quality: []\n    }, this.debug = new Console(this.config.debug), this.debug.log(\"Config\", this.config), this.debug.log(\"Support\", support), is.nullOrUndefined(this.media) || !is.element(this.media)) return void this.debug.error(\"Setup failed: no suitable element passed\");\n    if (this.media.plyr) return void this.debug.warn(\"Target already setup\");\n    if (!this.config.enabled) return void this.debug.error(\"Setup failed: disabled by config\");\n    if (!support.check().api) return void this.debug.error(\"Setup failed: no support\");\n    var i = this.media.cloneNode(!0);\n    i.autoplay = !1, this.elements.original = i;\n    var s = this.media.tagName.toLowerCase();\n    var n = null,\n        r = null;\n\n    switch (s) {\n      case \"div\":\n        if (n = this.media.querySelector(\"iframe\"), is.element(n)) {\n          if (r = parseUrl(n.getAttribute(\"src\")), this.provider = getProviderByUrl(r.toString()), this.elements.container = this.media, this.media = n, this.elements.container.className = \"\", r.search.length) {\n            var _e33 = [\"1\", \"true\"];\n            _e33.includes(r.searchParams.get(\"autoplay\")) && (this.config.autoplay = !0), _e33.includes(r.searchParams.get(\"loop\")) && (this.config.loop.active = !0), this.isYouTube ? (this.config.playsinline = _e33.includes(r.searchParams.get(\"playsinline\")), this.config.youtube.hl = r.searchParams.get(\"hl\")) : this.config.playsinline = !0;\n          }\n        } else this.provider = this.media.getAttribute(this.config.attributes.embed.provider), this.media.removeAttribute(this.config.attributes.embed.provider);\n\n        if (is.empty(this.provider) || !Object.values(providers).includes(this.provider)) return void this.debug.error(\"Setup failed: Invalid provider\");\n        this.type = types.video;\n        break;\n\n      case \"video\":\n      case \"audio\":\n        this.type = s, this.provider = providers.html5, this.media.hasAttribute(\"crossorigin\") && (this.config.crossorigin = !0), this.media.hasAttribute(\"autoplay\") && (this.config.autoplay = !0), (this.media.hasAttribute(\"playsinline\") || this.media.hasAttribute(\"webkit-playsinline\")) && (this.config.playsinline = !0), this.media.hasAttribute(\"muted\") && (this.config.muted = !0), this.media.hasAttribute(\"loop\") && (this.config.loop.active = !0);\n        break;\n\n      default:\n        return void this.debug.error(\"Setup failed: unsupported type\");\n    }\n\n    this.supported = support.check(this.type, this.provider, this.config.playsinline), this.supported.api ? (this.eventListeners = [], this.listeners = new Listeners(this), this.storage = new Storage(this), this.media.plyr = this, is.element(this.elements.container) || (this.elements.container = createElement(\"div\", {\n      tabindex: 0\n    }), wrap(this.media, this.elements.container)), ui.migrateStyles.call(this), ui.addStyleHook.call(this), media.setup.call(this), this.config.debug && on.call(this, this.elements.container, this.config.events.join(\" \"), function (e) {\n      _this35.debug.log(\"event: \".concat(e.type));\n    }), this.fullscreen = new Fullscreen(this), (this.isHTML5 || this.isEmbed && !this.supported.ui) && ui.build.call(this), this.listeners.container(), this.listeners.global(), this.config.ads.enabled && (this.ads = new Ads(this)), this.isHTML5 && this.config.autoplay && this.once(\"canplay\", function () {\n      return silencePromise(_this35.play());\n    }), this.lastSeekTime = 0, this.config.previewThumbnails.enabled && (this.previewThumbnails = new PreviewThumbnails(this))) : this.debug.error(\"Setup failed: no support\");\n  }\n\n  _createClass$1(Plyr, [{\n    key: \"isHTML5\",\n    get: function get() {\n      return this.provider === providers.html5;\n    }\n  }, {\n    key: \"isEmbed\",\n    get: function get() {\n      return this.isYouTube || this.isVimeo;\n    }\n  }, {\n    key: \"isYouTube\",\n    get: function get() {\n      return this.provider === providers.youtube;\n    }\n  }, {\n    key: \"isVimeo\",\n    get: function get() {\n      return this.provider === providers.vimeo;\n    }\n  }, {\n    key: \"isVideo\",\n    get: function get() {\n      return this.type === types.video;\n    }\n  }, {\n    key: \"isAudio\",\n    get: function get() {\n      return this.type === types.audio;\n    }\n  }, {\n    key: \"playing\",\n    get: function get() {\n      return Boolean(this.ready && !this.paused && !this.ended);\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return Boolean(this.media.paused);\n    }\n  }, {\n    key: \"stopped\",\n    get: function get() {\n      return Boolean(this.paused && 0 === this.currentTime);\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return Boolean(this.media.ended);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      return Number(this.media.currentTime);\n    },\n    set: function set(e) {\n      if (!this.duration) return;\n      var t = is.number(e) && e > 0;\n      this.media.currentTime = t ? Math.min(e, this.duration) : 0, this.debug.log(\"Seeking to \".concat(this.currentTime, \" seconds\"));\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      var e = this.media.buffered;\n      return is.number(e) ? e : e && e.length && this.duration > 0 ? e.end(0) / this.duration : 0;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return Boolean(this.media.seeking);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var e = parseFloat(this.config.duration),\n          t = (this.media || {}).duration,\n          i = is.number(t) && t !== 1 / 0 ? t : 0;\n      return e || i;\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return Number(this.media.volume);\n    },\n    set: function set(e) {\n      var _this$config2;\n\n      var t = e;\n      is.string(t) && (t = Number(t)), is.number(t) || (t = this.storage.get(\"volume\")), is.number(t) || (_this$config2 = this.config, t = _this$config2.volume, _this$config2), t > 1 && (t = 1), t < 0 && (t = 0), this.config.volume = t, this.media.volume = t, !is.empty(e) && this.muted && t > 0 && (this.muted = !1);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return Boolean(this.media.muted);\n    },\n    set: function set(e) {\n      var t = e;\n      is.boolean(t) || (t = this.storage.get(\"muted\")), is.boolean(t) || (t = this.config.muted), this.config.muted = t, this.media.muted = t;\n    }\n  }, {\n    key: \"hasAudio\",\n    get: function get() {\n      return !this.isHTML5 || !!this.isAudio || Boolean(this.media.mozHasAudio) || Boolean(this.media.webkitAudioDecodedByteCount) || Boolean(this.media.audioTracks && this.media.audioTracks.length);\n    }\n  }, {\n    key: \"speed\",\n    get: function get() {\n      return Number(this.media.playbackRate);\n    },\n    set: function set(e) {\n      var _this36 = this;\n\n      var t = null;\n      is.number(e) && (t = e), is.number(t) || (t = this.storage.get(\"speed\")), is.number(t) || (t = this.config.speed.selected);\n      var i = this.minimumSpeed,\n          s = this.maximumSpeed;\n      t = clamp(t, i, s), this.config.speed.selected = t, setTimeout(function () {\n        _this36.media.playbackRate = t;\n      }, 0);\n    }\n  }, {\n    key: \"minimumSpeed\",\n    get: function get() {\n      return this.isYouTube ? Math.min.apply(Math, _toConsumableArray(this.options.speed)) : this.isVimeo ? .5 : .0625;\n    }\n  }, {\n    key: \"maximumSpeed\",\n    get: function get() {\n      return this.isYouTube ? Math.max.apply(Math, _toConsumableArray(this.options.speed)) : this.isVimeo ? 2 : 16;\n    }\n  }, {\n    key: \"quality\",\n    get: function get() {\n      return this.media.quality;\n    },\n    set: function set(e) {\n      var t = this.config.quality,\n          i = this.options.quality;\n      if (!i.length) return;\n      var s = [!is.empty(e) && Number(e), this.storage.get(\"quality\"), t.selected, t.default].find(is.number),\n          n = !0;\n\n      if (!i.includes(s)) {\n        var _e34 = closest(i, s);\n\n        this.debug.warn(\"Unsupported quality option: \".concat(s, \", using \").concat(_e34, \" instead\")), s = _e34, n = !1;\n      }\n\n      t.selected = s, this.media.quality = s, n && this.storage.set({\n        quality: s\n      });\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return Boolean(this.media.loop);\n    },\n    set: function set(e) {\n      var t = is.boolean(e) ? e : this.config.loop.active;\n      this.config.loop.active = t, this.media.loop = t;\n    }\n  }, {\n    key: \"source\",\n    get: function get() {\n      return this.media.currentSrc;\n    },\n    set: function set(e) {\n      source.change.call(this, e);\n    }\n  }, {\n    key: \"download\",\n    get: function get() {\n      var e = this.config.urls.download;\n      return is.url(e) ? e : this.source;\n    },\n    set: function set(e) {\n      is.url(e) && (this.config.urls.download = e, controls.setDownloadUrl.call(this));\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.isVideo ? this.media.getAttribute(\"poster\") || this.media.getAttribute(\"data-poster\") : null;\n    },\n    set: function set(e) {\n      this.isVideo ? ui.setPoster.call(this, e, !1).catch(function () {}) : this.debug.warn(\"Poster can only be set for video\");\n    }\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      if (!this.isVideo) return null;\n      var e = reduceAspectRatio(getAspectRatio.call(this));\n      return is.array(e) ? e.join(\":\") : e;\n    },\n    set: function set(e) {\n      this.isVideo ? is.string(e) && validateRatio(e) ? (this.config.ratio = e, setAspectRatio.call(this)) : this.debug.error(\"Invalid aspect ratio specified (\".concat(e, \")\")) : this.debug.warn(\"Aspect ratio can only be set for video\");\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return Boolean(this.config.autoplay);\n    },\n    set: function set(e) {\n      var t = is.boolean(e) ? e : this.config.autoplay;\n      this.config.autoplay = t;\n    }\n  }, {\n    key: \"toggleCaptions\",\n    value: function toggleCaptions(e) {\n      captions.toggle.call(this, e, !1);\n    }\n  }, {\n    key: \"currentTrack\",\n    get: function get() {\n      var _this$captions2 = this.captions,\n          e = _this$captions2.toggled,\n          t = _this$captions2.currentTrack;\n      return e ? t : -1;\n    },\n    set: function set(e) {\n      captions.set.call(this, e, !1);\n    }\n  }, {\n    key: \"language\",\n    get: function get() {\n      return (captions.getCurrentTrack.call(this) || {}).language;\n    },\n    set: function set(e) {\n      captions.setLanguage.call(this, e, !1);\n    }\n  }, {\n    key: \"pip\",\n    get: function get() {\n      return support.pip ? is.empty(this.media.webkitPresentationMode) ? this.media === document.pictureInPictureElement : this.media.webkitPresentationMode === pip.active : null;\n    },\n    set: function set(e) {\n      if (!support.pip) return;\n      var t = is.boolean(e) ? e : !this.pip;\n      is.function(this.media.webkitSetPresentationMode) && this.media.webkitSetPresentationMode(t ? pip.active : pip.inactive), is.function(this.media.requestPictureInPicture) && (!this.pip && t ? this.media.requestPictureInPicture() : this.pip && !t && document.exitPictureInPicture());\n    }\n  }], [{\n    key: \"supported\",\n    value: function supported(e, t, i) {\n      return support.check(e, t, i);\n    }\n  }, {\n    key: \"loadSprite\",\n    value: function loadSprite(e, t) {\n      return _loadSprite(e, t);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i = null;\n      return is.string(e) ? i = Array.from(document.querySelectorAll(e)) : is.nodeList(e) ? i = Array.from(e) : is.array(e) && (i = e.filter(is.element)), is.empty(i) ? null : i.map(function (e) {\n        return new Plyr(e, t);\n      });\n    }\n  }]);\n\n  return Plyr;\n}();\n\nPlyr.defaults = cloneDeep(defaults);\n\nfunction saveTime (player) {\n  // check option\n  player.on('timeupdate', function () {\n    return saveProgress(player);\n  });\n  player.on('ready', function () {\n    return resumeProgress(player);\n  });\n  player.on('loadeddata', function () {\n    return resumeProgress(player);\n  });\n}\nfunction getId(player) {\n  var _player$config, _player$config$blockA;\n\n  return player === null || player === void 0 ? void 0 : (_player$config = player.config) === null || _player$config === void 0 ? void 0 : (_player$config$blockA = _player$config.blockAttributes) === null || _player$config$blockA === void 0 ? void 0 : _player$config$blockA.id;\n}\nfunction saveProgress(player) {\n  var _player$config2, _player$config2$muted;\n\n  if (player !== null && player !== void 0 && (_player$config2 = player.config) !== null && _player$config2 !== void 0 && (_player$config2$muted = _player$config2.mutedPreview) !== null && _player$config2$muted !== void 0 && _player$config2$muted.enabled) {\n    return;\n  }\n\n  updateTime(player);\n}\nfunction resumeProgress(player) {\n  var _player$config3, _player$config4, _player$config4$muted;\n\n  if (!(player !== null && player !== void 0 && (_player$config3 = player.config) !== null && _player$config3 !== void 0 && _player$config3.save_player_position) || player !== null && player !== void 0 && (_player$config4 = player.config) !== null && _player$config4 !== void 0 && (_player$config4$muted = _player$config4.mutedPreview) !== null && _player$config4$muted !== void 0 && _player$config4$muted.enabled) {\n    return;\n  } // get current saved time\n\n\n  var currentTime = getTime(player); // maybe start loading HLS\n\n  if (player.hls) {\n    if (currentTime >= 0) {\n      player.hls.startLoad(currentTime);\n    }\n  } // if we have duration\n  // current time shouldn't be more than duration\n\n\n  if (player.duration) {\n    currentTime = Math.min(currentTime, player.duration);\n  }\n\n  player.currentTime = currentTime || 0;\n\n  if (player !== null && player !== void 0 && player.isVimeo) {\n    setTimeout(function () {\n      player.embed.setCurrentTime(currentTime || 0);\n    }, 0);\n  }\n\n  return currentTime;\n}\nfunction getTime(player) {\n  return parseFloat(localStorage.getItem(\"player-progress-\".concat(getId(player))));\n}\nfunction updateTime(player) {\n  var _player$config5;\n\n  if (player.currentTime === 0) {\n    return;\n  }\n\n  if (!(player !== null && player !== void 0 && (_player$config5 = player.config) !== null && _player$config5 !== void 0 && _player$config5.save_player_position)) {\n    return;\n  }\n\n  localStorage.setItem(\"player-progress-\".concat(getId(player)), player.currentTime);\n}\n\nvar _window$1, _window$prestoPlayer$1, _window$prestoPlayer$$1, _window2, _window2$prestoPlayer, _window2$prestoPlayer2;\n\nvar hideChapters = ((_window$1 = window) === null || _window$1 === void 0 ? void 0 : (_window$prestoPlayer$1 = _window$1.prestoPlayer) === null || _window$prestoPlayer$1 === void 0 ? void 0 : (_window$prestoPlayer$$1 = _window$prestoPlayer$1.i18n) === null || _window$prestoPlayer$$1 === void 0 ? void 0 : _window$prestoPlayer$$1.hide_chapters) || 'Hide Chapters';\nvar showChapters = ((_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$prestoPlayer = _window2.prestoPlayer) === null || _window2$prestoPlayer === void 0 ? void 0 : (_window2$prestoPlayer2 = _window2$prestoPlayer.i18n) === null || _window2$prestoPlayer2 === void 0 ? void 0 : _window2$prestoPlayer2.show_chapters) || 'Show Chapters';\nconst button = \"<button class=\\\"plyr__controls__item plyr__control\\\" type=\\\"button\\\" data-plyr=\\\"chapters\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"3\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-list\\\">\\n    <line x1=\\\"8\\\" y1=\\\"6\\\" x2=\\\"21\\\" y2=\\\"6\\\"></line><line x1=\\\"8\\\" y1=\\\"12\\\" x2=\\\"21\\\" y2=\\\"12\\\"></line>\\n    <line x1=\\\"8\\\" y1=\\\"18\\\" x2=\\\"21\\\" y2=\\\"18\\\"></line><line x1=\\\"3\\\" y1=\\\"6\\\" x2=\\\"3.01\\\" y2=\\\"6\\\"></line>\\n    <line x1=\\\"3\\\" y1=\\\"12\\\" x2=\\\"3.01\\\" y2=\\\"12\\\"></line><line x1=\\\"3\\\" y1=\\\"18\\\" x2=\\\"3.01\\\" y2=\\\"18\\\"></line>\\n</svg>\\n<span class=\\\"label--pressed plyr__tooltip\\\" role=\\\"tooltip\\\">\".concat(hideChapters, \"</span>\\n<span class=\\\"label--not-pressed plyr__tooltip\\\" role=\\\"tooltip\\\">\").concat(showChapters, \"</span>\\n</button>\\n\");\n\nvar _window, _window$prestoPlayer, _window$prestoPlayer$;\n\nconst toc = \"\\n<div class=\\\"presto-player-toc__wrapper\\\">\\n    <div class=\\\"presto-player-toc__cover\\\" data-player-toc-cover></div>\\n    <div class=\\\"presto-player-toc\\\">\\n        <div class=\\\"presto-player-toc__title\\\">\".concat(((_window = window) === null || _window === void 0 ? void 0 : (_window$prestoPlayer = _window.prestoPlayer) === null || _window$prestoPlayer === void 0 ? void 0 : (_window$prestoPlayer$ = _window$prestoPlayer.i18n) === null || _window$prestoPlayer$ === void 0 ? void 0 : _window$prestoPlayer$.chapters) || 'Chapters', \"</div>\\n        <div class=\\\"presto-player-toc__list\\\" data-player-toc></div>\\n    </div>\\n</div>\");\n\nfunction tocItem (_ref) {\n  var _ref$name = _ref.name,\n      name = _ref$name === void 0 ? \"Untitled\" : _ref$name,\n      _ref$order = _ref.order,\n      order = _ref$order === void 0 ? 1 : _ref$order,\n      _ref$highlight = _ref.highlight,\n      highlight = _ref$highlight === void 0 ? false : _ref$highlight;\n  return \"<div class=\\\"presto-player-toc__chapter \".concat(highlight ? \"is-highlighted\" : \"\", \"\\\" data-chapter-item>\\n  \\n  <span class=\\\"presto-player-toc__order\\\">\\n    \").concat(order, \"\\n  </span>\\n  <span class=\\\"presto-player-toc__name\\\">\\n    \").concat(name, \"\\n  </div>\\n</div>\");\n}\n\nfunction marker (_ref) {\n  var _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 0 : _ref$position,\n      _ref$name = _ref.name,\n      name = _ref$name === void 0 ? \"\" : _ref$name;\n  return \"<div class=\\\"presto-player-progress__marker plyr__controls__item plyr__control\\\" style=\\\"left: \".concat(position, \"%\\\" data-timeline-marker>\\n    <span class=\\\"label--not-pressed plyr__tooltip\\\" role=\\\"tooltip\\\">\").concat(name, \"</span>\\n  </div>\");\n}\n\nfunction addChapterControl(e) {\n  var _player, _player$config;\n\n  var chapters,\n      player,\n      $wrapper,\n      $playerTimeline,\n      $tocContainer,\n      $tocListContainer,\n      $button,\n      $tocCover,\n      $timeline,\n      currentTime = 0,\n      $allChapters,\n      $controls,\n      $items = {},\n      checker = null,\n      wait = 0;\n  player = e.detail.plyr;\n  chapters = formatChapters(((_player = player) === null || _player === void 0 ? void 0 : (_player$config = _player.config) === null || _player$config === void 0 ? void 0 : _player$config.chapters) || []); // handle if preload is set to none\n\n  if (player.provider === \"html5\") {\n    if (!player.duration) {\n      player.on(\"loadedmetadata\", addChapterControl);\n      return;\n    }\n  }\n\n  if (!chapters || !Object.keys(chapters).length) return;\n  $wrapper = jQuery(player.elements.container).closest(\".presto-player__wrapper\").find(\".plyr\");\n  $controls = jQuery(player.elements.controls);\n  var $appendButton = $controls.find(\".plyr__time\");\n  $appendButton = $appendButton.length ? $appendButton : $controls.find(\".plyr__progress__container\");\n  $button = $wrapper.find('[data-plyr=\"chapters\"]');\n\n  if (!$button.length) {\n    $button = jQuery(button).insertAfter($appendButton);\n  }\n\n  $tocContainer = $wrapper.find(\".presto-player-toc__wrapper\");\n\n  if (!$tocContainer.length) {\n    $tocContainer = jQuery(toc).appendTo($wrapper);\n  }\n\n  $tocCover = $tocContainer.find(\"[data-player-toc-cover]\");\n  $tocListContainer = $tocContainer.find(\"[data-player-toc]\");\n  $playerTimeline = $wrapper.find(\".plyr__progress__container\");\n  var $timelineWrapper = jQuery('<div class=\"presto-player__chapters\"></div>').appendTo($playerTimeline);\n  $timeline = jQuery('<div class=\"presto-player__chapter-markers\"></div>').appendTo($timelineWrapper); // init\n\n  addControl();\n  events();\n  /**\n   * Format chapters data\n   */\n\n  function formatChapters() {\n    var chapters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if (!chapters.length) {\n      return chapters;\n    }\n\n    var formatted = {};\n    chapters.forEach(function (chapter) {\n      var pieces = chapter.time.split(\":\");\n      var seconds;\n\n      if (pieces.length > 1) {\n        seconds = parseInt(pieces[0]) * 60;\n      }\n\n      formatted[parseInt(pieces[1]) + parseInt(seconds)] = chapter;\n    });\n    return formatted;\n  }\n  /**\n   * Adds chapters and timeline markers\n   */\n\n\n  function addControl() {\n    addChapters();\n    addChapterTimelineMarkers();\n  }\n  /**\n   * Add Chapters\n   */\n\n\n  function addChapters() {\n    var order = 0;\n\n    if ($tocListContainer.find(\".presto-player-toc__chapter\").length) {\n      return;\n    }\n\n    Object.keys(chapters).forEach(function (timestamp) {\n      order++;\n      var chapter = chapters[timestamp];\n      var $item = jQuery(tocItem({\n        name: chapter.title,\n        order: order\n      })).appendTo($tocListContainer);\n      $item.data(\"presto-player-timestamp\", timestamp);\n      $items[timestamp] = $item;\n      $item.on(\"click\", function () {\n        player.currentTime = parseFloat(timestamp);\n        player.play();\n        toggleToc(false);\n      });\n    });\n    $allChapters = $tocContainer.find(\"[data-chapter-item]\");\n  }\n  /**\n   * When mouse leaves toc container\n   */\n\n\n  function onTocMouseOut() {\n    if (player.playing) {\n      var timeout = setTimeout(function () {\n        toggleToc(false);\n        $tocListContainer.off(\"mouseleave\", onTocMouseOut);\n      }, 2000);\n      $tocListContainer.on(\"mouseenter\", function () {\n        clearTimeout(timeout);\n      });\n    }\n  }\n  /**\n   * Handles all events\n   */\n\n\n  function events() {\n    // toggle open/closed\n    $button.off(\"click\");\n    $button.on(\"click\", toggleToc); // current chapter\n\n    currentChapter();\n    player.off(\"timeupdate\");\n    player.on(\"timeupdate\", currentChapter); // timeline markers\n\n    checker = window.setInterval(maybeAddMarkers, 100); // close cover\n\n    $tocCover.off(\"click\");\n    $tocCover.on(\"click\", function () {\n      return toggleToc(false);\n    });\n    $tocListContainer.off(\"mouseleave\");\n    $tocListContainer.on(\"mouseleave\", onTocMouseOut);\n  }\n\n  function maybeAddMarkers() {\n    wait++;\n\n    if (player.duration) {\n      addChapterTimelineMarkers();\n      window.clearInterval(checker);\n    }\n\n    if (wait > 50) {\n      window.clearInterval(checker);\n    }\n  }\n  /**\n   * Handles highlighting the current chapter in the TOC\n   */\n\n\n  function currentChapter() {\n    currentTime = player.currentTime; // find only ones before current time\n\n    var passed = Object.keys(chapters).filter(function (item) {\n      return item <= currentTime;\n    }); // convert to int\n\n    var passedNumbers = passed.map(function (item) {\n      return parseInt(item, 10);\n    }); // find largest passed\n\n    var currentChapterIndex = Math.max.apply(Math, _toConsumableArray(passedNumbers)); // handle classes\n\n    $allChapters && $allChapters.removeClass(\"is-highlighted\");\n    jQuery($items[currentChapterIndex || 0]).addClass(\"is-highlighted\");\n  }\n  /**\n   * Adds markers to the timeline on load\n   */\n\n\n  function addChapterTimelineMarkers() {\n    if (!player.duration) {\n      return;\n    }\n\n    Object.keys(chapters).forEach(function (timestamp) {\n      // need a timestamp\n      if (!parseInt(timestamp)) {\n        return;\n      } // make sure it's not already added\n\n\n      if ($timeline.find(\"[data-timestamp=\".concat(timestamp, \"]\")).length) {\n        return;\n      }\n\n      var chapter = chapters[timestamp];\n      var position = parseInt(timestamp) / player.duration * 100;\n      var $marker = jQuery(marker({\n        position: position,\n        name: \"\".concat(chapter.title)\n      })).prependTo($timeline);\n      $marker.attr(\"data-timestamp\", timestamp);\n      $marker.data(\"timestamp\", timestamp);\n      $marker.on(\"click\", function (e) {\n        player.currentTime = parseInt(timestamp);\n        player.play();\n      });\n    });\n    $tocContainer.find(\"[data-timeline-marker]\");\n  }\n  /**\n   * Toggles the TOC\n   */\n\n\n  function toggleToc(show) {\n    if (_typeof(show) !== undefined) {\n      $tocContainer.toggleClass(\"is-showing\", show);\n    } else {\n      $tocContainer.toggleClass(\"is-showing\");\n    }\n  }\n}\n\nvar player$1;\nfunction setControls (pl) {\n  player$1 = pl;\n  jQuery(player$1.elements.container).closest(\".presto-player__wrapper\"); // chapter control\n\n  player$1.on(\"ready\", addChapterControl); // control ui\n\n  player$1.on(\"controlshidden\", addParentClass);\n  player$1.on(\"controlsshown\", removeParentClass);\n}\nfunction addParentClass(e) {\n  var _e$detail, _e$detail$plyr, _e$detail$plyr$elemen;\n\n  jQuery(e === null || e === void 0 ? void 0 : (_e$detail = e.detail) === null || _e$detail === void 0 ? void 0 : (_e$detail$plyr = _e$detail.plyr) === null || _e$detail$plyr === void 0 ? void 0 : (_e$detail$plyr$elemen = _e$detail$plyr.elements) === null || _e$detail$plyr$elemen === void 0 ? void 0 : _e$detail$plyr$elemen.container).closest(\".presto-player__wrapper\").addClass(\"presto-player--hide-controls\");\n}\nfunction removeParentClass(e) {\n  var _e$detail2, _e$detail2$plyr, _e$detail2$plyr$eleme;\n\n  jQuery(e === null || e === void 0 ? void 0 : (_e$detail2 = e.detail) === null || _e$detail2 === void 0 ? void 0 : (_e$detail2$plyr = _e$detail2.plyr) === null || _e$detail2$plyr === void 0 ? void 0 : (_e$detail2$plyr$eleme = _e$detail2$plyr.elements) === null || _e$detail2$plyr$eleme === void 0 ? void 0 : _e$detail2$plyr$eleme.container).closest(\".presto-player__wrapper\").removeClass(\"presto-player--hide-controls\");\n}\n\nfunction gaTracking () {\n  var _window;\n\n  if (!((_window = window) !== null && _window !== void 0 && _window.gtag)) {\n    return;\n  }\n\n  wp.hooks.addAction(\"presto.playerPlay\", \"presto-player\", videoStart);\n  wp.hooks.addAction(\"presto.playerPause\", \"presto-player\", videoPause);\n  wp.hooks.addAction(\"presto.playerReady\", \"presto-player\", videoLoad);\n  wp.hooks.addAction(\"presto.playerTimeUpdate\", \"presto-player\", videoTime);\n}\nfunction videoData$1(player) {\n  var _player$config, _player$config2;\n\n  var data = _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({\n    video_current_time: parseInt((player === null || player === void 0 ? void 0 : player.currentTime) || 0),\n    video_provider: (player === null || player === void 0 ? void 0 : player.provider) || \"html5\"\n  }, player !== null && player !== void 0 && player.duration ? {\n    video_duration: parseInt(player === null || player === void 0 ? void 0 : player.duration)\n  } : {}), player !== null && player !== void 0 && player.source ? {\n    video_url: player === null || player === void 0 ? void 0 : player.source\n  } : {}), player !== null && player !== void 0 && (_player$config = player.config) !== null && _player$config !== void 0 && _player$config.title ? {\n    video_title: player === null || player === void 0 ? void 0 : (_player$config2 = player.config) === null || _player$config2 === void 0 ? void 0 : _player$config2.title\n  } : {});\n\n  return data;\n} // send video start\n\nfunction videoStart(player) {\n  var _window2;\n\n  (_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.gtag(\"event\", \"Play\", videoData$1(player));\n}\nfunction videoPause(player) {\n  var _window3;\n\n  (_window3 = window) === null || _window3 === void 0 ? void 0 : _window3.gtag(\"event\", \"Pause\", videoData$1(player));\n}\nfunction videoLoad(player) {\n  var _window4;\n\n  (_window4 = window) === null || _window4 === void 0 ? void 0 : _window4.gtag(\"event\", \"Player Load\", videoData$1(player));\n}\nvar watched = {\n  25: false,\n  50: false,\n  75: false,\n  100: false\n};\nfunction videoTime(player) {\n  if (!player.currentTime) {\n    return;\n  }\n\n  var percent = parseFloat(player.currentTime) / parseFloat(player.duration) * 100;\n  Object.keys(watched).forEach(function (marker) {\n    if (!watched[marker] && percent >= parseInt(marker)) {\n      var _window5;\n\n      watched[marker] = true;\n      (_window5 = window) === null || _window5 === void 0 ? void 0 : _window5.gtag(\"event\", \"\".concat(marker, \" Percent Played\"), videoData$1(player));\n    }\n  });\n}\n\nvar player;\nvar namespace$1 = 'presto-player.analytics';\nvar nonce$1 = '';\nfunction wpTracking (pl) {\n  player = pl;\n\n  if (!player.config.analytics) {\n    return;\n  }\n\n  if (!wp.hooks.hasAction('presto.nonceRefreshed', namespace$1)) {\n    wp.hooks.addAction('presto.nonceRefreshed', namespace$1, function (newNonce) {\n      nonce$1 = newNonce;\n    });\n  }\n\n  if (!wp.hooks.hasAction('presto.playerPlay', namespace$1)) {\n    wp.hooks.addAction('presto.playerPlay', namespace$1, sendVideoData);\n  }\n\n  if (!wp.hooks.hasAction('presto.playerEnded', namespace$1)) {\n    wp.hooks.addAction('presto.playerEnded', namespace$1, sendVideoData);\n  }\n\n  if (!wp.hooks.hasAction('presto.playerHidden', namespace$1)) {\n    wp.hooks.addAction('presto.playerHidden', namespace$1, sendVideoData);\n  }\n\n  if (!wp.hooks.hasAction('presto.playerPause', namespace$1)) {\n    wp.hooks.addAction('presto.playerPause', namespace$1, sendVideoData);\n  }\n\n  if (!wp.hooks.hasAction('presto.playerSeeked', namespace$1)) {\n    wp.hooks.addAction('presto.playerSeeked', namespace$1, sendVideoData);\n  }\n}\nfunction videoData(player) {\n  var _player$config, _player$config2;\n\n  var data = _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({\n    video_current_time: parseInt((player === null || player === void 0 ? void 0 : player.currentTime) || 0),\n    video_provider: (player === null || player === void 0 ? void 0 : player.provider) || 'html5'\n  }, player !== null && player !== void 0 && player.duration ? {\n    video_duration: parseInt(player === null || player === void 0 ? void 0 : player.duration)\n  } : {}), player !== null && player !== void 0 && player.source ? {\n    video_url: player === null || player === void 0 ? void 0 : player.source\n  } : {}), player !== null && player !== void 0 && (_player$config = player.config) !== null && _player$config !== void 0 && _player$config.title ? {\n    video_title: player === null || player === void 0 ? void 0 : (_player$config2 = player.config) === null || _player$config2 === void 0 ? void 0 : _player$config2.title\n  } : {});\n\n  return data;\n} // send video data\n\nfunction sendVideoData(player) {\n  sendData(videoData(player));\n}\nfunction sendData(data) {\n  var _player, _player$config3, _window, _window$prestoPlayer, _window3, _window3$prestoPlayer, _player2, _player2$config;\n\n  if (!nonce$1) {\n    return;\n  }\n\n  var formData = new FormData();\n  formData.append('action', 'presto_player_progress');\n  formData.append('duration', data === null || data === void 0 ? void 0 : data.video_current_time);\n  formData.append('video_id', (_player = player) === null || _player === void 0 ? void 0 : (_player$config3 = _player.config) === null || _player$config3 === void 0 ? void 0 : _player$config3.id);\n  formData.append('nonce', nonce$1);\n\n  if (!((_window = window) !== null && _window !== void 0 && (_window$prestoPlayer = _window.prestoPlayer) !== null && _window$prestoPlayer !== void 0 && _window$prestoPlayer.debug_navigator)) {\n    var _window2, _window2$prestoPlayer;\n\n    navigator.sendBeacon((_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$prestoPlayer = _window2.prestoPlayer) === null || _window2$prestoPlayer === void 0 ? void 0 : _window2$prestoPlayer.ajaxurl, formData);\n    return;\n  }\n\n  jQuery.ajax({\n    type: 'POST',\n    url: (_window3 = window) === null || _window3 === void 0 ? void 0 : (_window3$prestoPlayer = _window3.prestoPlayer) === null || _window3$prestoPlayer === void 0 ? void 0 : _window3$prestoPlayer.ajaxurl,\n    dataType: 'json',\n    cache: false,\n    data: {\n      action: 'presto_player_progress',\n      duration: data === null || data === void 0 ? void 0 : data.video_current_time,\n      video_id: (_player2 = player) === null || _player2 === void 0 ? void 0 : (_player2$config = _player2.config) === null || _player2$config === void 0 ? void 0 : _player2$config.id,\n      nonce: nonce$1\n    }\n  });\n}\n\nfunction analytics (player) {\n  var _window, _window$prestoPlayer;\n\n  if (!((_window = window) !== null && _window !== void 0 && (_window$prestoPlayer = _window.prestoPlayer) !== null && _window$prestoPlayer !== void 0 && _window$prestoPlayer.isPremium)) {\n    return;\n  }\n\n  gaTracking();\n  wpTracking(player);\n}\n\nconst customLogo = (function (player) {\n  player.on('ready', function () {\n    var _player$config, _player$config2, _player$config3, _player$elements;\n\n    if (!(player !== null && player !== void 0 && (_player$config = player.config) !== null && _player$config !== void 0 && _player$config.logo) || player !== null && player !== void 0 && (_player$config2 = player.config) !== null && _player$config2 !== void 0 && _player$config2.logo_added) {\n      return;\n    }\n\n    jQuery(\"<img src=\\\"\".concat(player === null || player === void 0 ? void 0 : (_player$config3 = player.config) === null || _player$config3 === void 0 ? void 0 : _player$config3.logo, \"\\\" class=\\\"presto-player__logo is-bottom-right\\\" part=\\\"logo\\\">\")).insertBefore(player === null || player === void 0 ? void 0 : (_player$elements = player.elements) === null || _player$elements === void 0 ? void 0 : _player$elements.controls);\n    player.config.logo_added = true;\n  });\n});\n\nfunction setPoster (player) {\n  var _player$config;\n\n  if (player !== null && player !== void 0 && (_player$config = player.config) !== null && _player$config !== void 0 && _player$config.poster) {\n    player.poster = player.config.poster;\n  }\n}\n\n/**\n * Maps player actions to wordpress actions\n */\nconst actions = (function (player) {\n  player.on('ready', function () {\n    doAction('Ready', player);\n  });\n  player.on('play', function () {\n    doAction('Play', player);\n  });\n  player.on('playing', function () {\n    doAction('Playing', player);\n  });\n  player.on('pause', function () {\n    doAction('Pause', player);\n  });\n  player.on('ended', function () {\n    doAction('Ended', player);\n  });\n  player.on('seeked', function () {\n    doAction('Seeked', player);\n  });\n  player.on('timeupdate', function () {\n    doAction('TimeUpdate', player);\n  });\n  player.on('enterfullscreen', function () {\n    doAction('EnterFullScreen', player);\n  });\n  player.on('exitfullscreen', function () {\n    doAction('ExitFullScreen', player);\n  });\n  document.addEventListener('visibilitychange', function () {\n    doAction(document.visibilityState === 'hidden' ? 'Hidden' : 'Visible', player);\n  }); // youtube events\n\n  player.on('statechange', function (e) {\n    var _e$detail;\n\n    switch (e === null || e === void 0 ? void 0 : (_e$detail = e.detail) === null || _e$detail === void 0 ? void 0 : _e$detail.code) {\n      case 0:\n        doAction('Ended', player);\n        break;\n\n      case 1:\n        doAction('Play', player);\n        break;\n\n      case 2:\n        doAction('Pause', player);\n        break;\n    }\n  });\n});\nfunction doAction(action, player) {\n  window.wp.hooks.doAction(\"presto.player\".concat(action), player);\n}\n\nconst namespace = 'presto-player.progress';\nlet visit_time = Date.now();\nlet nonce;\n/**\n * Sends an updated ajax progress event for plugins to hook into\n */\nconst ajaxProgress = player => {\n  var _a, _b;\n  // automations are disabled\n  if (!player.automations) {\n    return;\n  }\n  // set nonce when fetched\n  if (!((_b = (_a = window === null || window === void 0 ? void 0 : window.wp) === null || _a === void 0 ? void 0 : _a.hooks) === null || _b === void 0 ? void 0 : _b.hasAction('presto.nonceRefreshed', namespace))) {\n    window.wp.hooks.addAction('presto.nonceRefreshed', namespace, newNonce => {\n      nonce = newNonce;\n    });\n  }\n  // on time update, maybe send time update\n  window === null || window === void 0 ? void 0 : window.wp.hooks.addAction('presto.playerTimeUpdate', 'presto-player', sendTimeUpdate);\n  // be sure to mark complete on end\n  window === null || window === void 0 ? void 0 : window.wp.hooks.addAction('presto.playerEnded', 'presto-player', plyr => sendTimeUpdate(plyr, 100));\n  let watched = {\n    0: false,\n    10: false,\n    20: false,\n    30: false,\n    40: false,\n    50: false,\n    60: false,\n    70: false,\n    80: false,\n    90: false,\n    100: false,\n  };\n  function sendTimeUpdate(player, percent = null) {\n    var _a;\n    // need to send nonce\n    if (!nonce) {\n      return;\n    }\n    // bail if progress is not turned on\n    if (!((_a = player === null || player === void 0 ? void 0 : player.config) === null || _a === void 0 ? void 0 : _a.ajaxProgress)) {\n      return;\n    }\n    if (!percent) {\n      percent = (parseFloat(player.currentTime) / parseFloat(player.duration)) * 100;\n    }\n    player.watched = player.watched || {};\n    Object.keys(watched).forEach(m => {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n      const marker = parseInt(m);\n      if (!player.watched[marker] && percent >= marker) {\n        player.watched[marker] = true;\n        let formData = new FormData();\n        formData.append('action', 'presto_player_progress_percent');\n        formData.append('id', (_a = player === null || player === void 0 ? void 0 : player.config) === null || _a === void 0 ? void 0 : _a.id);\n        formData.append('percent', marker.toString());\n        formData.append('visit_time', visit_time.toString());\n        formData.append('nonce', nonce);\n        if ((_b = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _b === void 0 ? void 0 : _b.debug) {\n          console.log(`${marker} percent watched.`);\n        }\n        if (!((_c = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _c === void 0 ? void 0 : _c.debug_navigator)) {\n          let result = navigator.sendBeacon((_d = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _d === void 0 ? void 0 : _d.ajaxurl, formData);\n          if ((_e = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _e === void 0 ? void 0 : _e.debug) {\n            if (result) {\n              console.log('Successfully queued progress:', {\n                id: (_f = player === null || player === void 0 ? void 0 : player.config) === null || _f === void 0 ? void 0 : _f.id,\n                percent: marker,\n                visit_time,\n                nonce,\n              });\n            }\n            else {\n              console.log('Failed to queue progress', {\n                id: (_g = player === null || player === void 0 ? void 0 : player.config) === null || _g === void 0 ? void 0 : _g.id,\n                percent: marker,\n                visit_time,\n                nonce,\n              });\n            }\n          }\n        }\n        else {\n          window.jQuery.ajax({\n            type: 'POST',\n            url: (_h = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _h === void 0 ? void 0 : _h.ajaxurl,\n            dataType: 'json',\n            cache: false,\n            data: {\n              action: 'presto_player_progress_percent',\n              id: (_j = player === null || player === void 0 ? void 0 : player.config) === null || _j === void 0 ? void 0 : _j.id,\n              visit_time,\n              percent: marker,\n              nonce,\n            },\n          });\n        }\n      }\n    });\n  }\n};\n\nlet fetching = false;\nlet fetched = false;\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  }\n  else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\nconst getNonce = player => {\n  var _a, _b;\n  // we don't have need for nonce\n  if (!player.config.analytics && !player.config.automations) {\n    return;\n  }\n  (_b = (_a = window === null || window === void 0 ? void 0 : window.wp) === null || _a === void 0 ? void 0 : _a.hooks) === null || _b === void 0 ? void 0 : _b.addAction('presto.playerPlaying', 'presto-player', () => {\n    window === null || window === void 0 ? void 0 : window.wp.hooks.doAction('presto.playerGetNonce');\n  });\n  // get nonce refresh\n  window === null || window === void 0 ? void 0 : window.wp.hooks.addAction('presto.playerGetNonce', 'presto-player', () => {\n    var _a;\n    // bail if we are already getting it or got it\n    if (fetching || fetched) {\n      return;\n    }\n    // we're fetching\n    fetched = true;\n    // fetch it\n    fetch(`${(_a = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _a === void 0 ? void 0 : _a.ajaxurl}?action=presto_refresh_progress_nonce`)\n      .then(status)\n      .then(response => response.json())\n      .then(({ data }) => {\n      const nonce = data;\n      window === null || window === void 0 ? void 0 : window.wp.hooks.doAction('presto.nonceRefreshed', nonce);\n      // we got it\n      fetching = true;\n    })\n      .catch(function (error) {\n      console.log('Request failed', error);\n    })\n      .finally(() => {\n      // we're done fetching\n      fetched = false;\n    });\n  });\n};\n\nconst fullscreen = (function (player) {\n  var ua = window.navigator.userAgent;\n  var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n\n  if (!iOS) {\n    return;\n  }\n\n  var handleFullScreen = function handleFullScreen(player, open) {\n    var _player$elements;\n\n    var elem = player === null || player === void 0 ? void 0 : (_player$elements = player.elements) === null || _player$elements === void 0 ? void 0 : _player$elements.container.getRootNode().host;\n\n    while ((elem != null ? elem.nodeType : void 0) === Node.ELEMENT_NODE && elem.tagName !== 'BODY' && elem.tagName !== 'HTML') {\n      if (open) {\n        elem.classList.add('presto-player-fullscreen-open');\n      } else {\n        elem.classList.remove('presto-player-fullscreen-open');\n      } // set parent node\n\n\n      elem = elem.parentNode;\n    }\n  };\n\n  wp.hooks.addAction('presto.playerEnterFullScreen', 'presto-player', function () {\n    var _player$fullscreen;\n\n    if (!(player !== null && player !== void 0 && (_player$fullscreen = player.fullscreen) !== null && _player$fullscreen !== void 0 && _player$fullscreen.active)) {\n      return;\n    }\n\n    handleFullScreen(player, true);\n  });\n  wp.hooks.addAction('presto.playerExitFullScreen', 'presto-player', function () {\n    var _player$fullscreen2;\n\n    if (player !== null && player !== void 0 && (_player$fullscreen2 = player.fullscreen) !== null && _player$fullscreen2 !== void 0 && _player$fullscreen2.active) {\n      return;\n    }\n\n    handleFullScreen(player, false);\n  });\n});\n\nconst menuSizing = /*#__PURE__*/(function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(player) {\n    var _player$elements, _player$elements2;\n\n    var module, ro;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!('ResizeObserver' in window === false)) {\n              _context.next = 5;\n              break;\n            }\n\n            _context.next = 3;\n            return import('./resize-observer.js');\n\n          case 3:\n            module = _context.sent;\n            window.ResizeObserver = module.ResizeObserver;\n\n          case 5:\n            ro = new ResizeObserver(function (entries) {\n              var _iterator = _createForOfIteratorHelper(entries),\n                  _step;\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var entry = _step.value;\n                  var cr = entry.contentRect;\n                  jQuery(entry.target).find('.plyr__menu__container').css({\n                    maxHeight: \"\".concat(cr.height - 48, \"px\")\n                  });\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            });\n\n            if (player !== null && player !== void 0 && (_player$elements = player.elements) !== null && _player$elements !== void 0 && _player$elements.container) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 8:\n            ro.observe(player === null || player === void 0 ? void 0 : (_player$elements2 = player.elements) === null || _player$elements2 === void 0 ? void 0 : _player$elements2.container); // this resets style on play for some reason\n\n            player.on('playing', function () {\n              var _player$elements3, _player$elements4;\n\n              var cr = player === null || player === void 0 ? void 0 : (_player$elements3 = player.elements) === null || _player$elements3 === void 0 ? void 0 : _player$elements3.container.getBoundingClientRect();\n              jQuery(player === null || player === void 0 ? void 0 : (_player$elements4 = player.elements) === null || _player$elements4 === void 0 ? void 0 : _player$elements4.container).find('.plyr__menu__container').css({\n                maxHeight: \"\".concat(cr.height - 48, \"px\")\n              });\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})();\n\n/**\n * Get things going\n *\n * @param {HTMLElement} element\n */\n\nfunction PrestoPlayer$2 (element) {\n  var _window, _window$prestoPlayer;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var setup = _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({}, options), {\n    iconUrl: \"\".concat((_window = window) === null || _window === void 0 ? void 0 : (_window$prestoPlayer = _window.prestoPlayer) === null || _window$prestoPlayer === void 0 ? void 0 : _window$prestoPlayer.plugin_url, \"img/sprite.svg\")\n  }), {\n    chapters: (options === null || options === void 0 ? void 0 : options.chapters) || [],\n    controls: (options === null || options === void 0 ? void 0 : options.controls) || [],\n    settings: Object.keys((options === null || options === void 0 ? void 0 : options.settings) || {}).length ? options.settings : {}\n  });\n\n  var player = new Plyr(element, setup); // conditionally load learndash\n\n  if (typeof learndash_video_data !== 'undefined') {\n    import('./learndash.js').then(function (module) {\n      var learnDash = module.default;\n      learnDash(player);\n    });\n  }\n\n  if (typeof _tutorobject !== 'undefined') {\n    import('./tutor.js').then(function (module) {\n      var tutor = module.default;\n      tutor(player);\n    });\n  }\n\n  actions(player);\n  fullscreen(player);\n  menuSizing(player);\n  customLogo(player);\n  setPoster(player);\n  setControls(player); // if we're in the admin, don't do the rest of these.\n\n  if (prestoPlayer.isAdmin) {\n    return player;\n  } // non-admin stuff\n\n\n  getNonce(player);\n  ajaxProgress(setup);\n  saveTime(player);\n  analytics(player);\n  return player;\n}\n\n// get file extension\nfunction getFileExtension(url) {\n  return url.split(/[#?]/)[0].split('.').pop().trim();\n}\n// is the source hls?\nfunction isHLS(url) {\n  return getFileExtension(url) === 'm3u8';\n}\nfunction getParents(elem) {\n  var parents = [];\n  while (elem.parentNode && elem.parentNode.nodeName.toLowerCase() != 'body') {\n    elem = elem.parentNode;\n    parents.push(elem);\n  }\n  return parents;\n}\n\nconst createPlayer = (function (_ref) {\n  var config = _ref.config,\n      selector = _ref.selector,\n      src = _ref.src,\n      preload = _ref.preload;\n\n  // dynamically load hls module if we have an hls video\n  if (src && isHLS(src)) {\n    return import('./hls.js').then(function (module) {\n      var hls = module.default;\n      return hls({\n        config: config,\n        selector: selector,\n        src: src,\n        preload: preload\n      });\n    });\n  }\n\n  return new Promise(function (resolve) {\n    var player = new PrestoPlayer$2(selector, _objectSpread2$1({}, config));\n    return resolve(player);\n  });\n});\n\nconst mutedAutoplay = ({ player, mutedPreview, captions, progress, savePosition, onPlay, }) => {\n  // skip for iOS\n  var ua = window.navigator.userAgent;\n  var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  if (iOS) {\n    console.log('ios device, do not do muted autoplay');\n    return;\n  }\n  player.config.mutedPreview.enabled = mutedPreview;\n  player.muted = mutedPreview;\n  player.loop = mutedPreview;\n  player.config.ajaxProgress = mutedPreview ? false : progress;\n  player.config.save_player_position = mutedPreview ? false : savePosition;\n  // caption change, catch error due to error in support check of plyr\n  try {\n    player.toggleCaptions(mutedPreview ? !!captions : false);\n  }\n  catch (e) { }\n  setTimeout(() => {\n    const resume = resumeProgress(player);\n    if (!resume) {\n      player.restart();\n    }\n    setTimeout(() => {\n      player.muted = mutedPreview;\n      onPlay();\n    }, 0);\n  }, 0);\n  return player;\n};\n\n// takes our saved options and transforms them into a format that plyr.io will use\nfunction transform ({ preset = {}, chapters, branding, src, analytics, automations, blockAttributes = {}, provider = '', provider_video_id = '', youtube, type, isAdmin, i18n, storage = {\n  enabled: !isAdmin,\n  key: `presto-player-${preset.id}`,\n}, }) {\n  var _a, _b, _c, _d, _e;\n  const controlOptions = ['play-large', 'rewind', 'play', 'fast-forward', 'progress', 'current-time', 'mute', 'volume', 'captions', 'settings', 'pip', 'fullscreen'];\n  const required = ['settings'];\n  const disabled = [...(['youtube', 'vimeo'].includes(provider) ? ['pip'] : []), 'captions'];\n  const controls = controlOptions.filter(key => {\n    return ((preset === null || preset === void 0 ? void 0 : preset[key]) || required.includes(key)) && !disabled.includes(key);\n  });\n  if ((_a = blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.mutedPreview) === null || _a === void 0 ? void 0 : _a.enabled) {\n    storage = {\n      enabled: false,\n    };\n  }\n  let playerSettings = Object.assign(Object.assign(Object.assign(Object.assign({ id: blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.id, title: (blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.title) || '', blockAttributes: Object.assign(Object.assign({}, blockAttributes), { type }), src, ajaxProgress: true, analytics,\n    automations, mutedPreview: {\n      enabled: (_b = blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.mutedPreview) === null || _b === void 0 ? void 0 : _b.enabled,\n    }, chapters,\n    controls, settings: ['captions', 'quality', 'loop', ...((preset === null || preset === void 0 ? void 0 : preset.speed) ? ['speed'] : [])], hideControls: preset === null || preset === void 0 ? void 0 : preset.auto_hide, captions: { active: preset === null || preset === void 0 ? void 0 : preset.captions_enabled, language: 'auto', update: false }, logo: branding === null || branding === void 0 ? void 0 : branding.logo, logo_width: branding === null || branding === void 0 ? void 0 : branding.logo_width, hide_logo: preset === null || preset === void 0 ? void 0 : preset.hide_logo, lazy_load_youtube: preset === null || preset === void 0 ? void 0 : preset.lazy_load_youtube, save_player_position: !!(preset === null || preset === void 0 ? void 0 : preset.save_player_position), sticky_scroll: preset === null || preset === void 0 ? void 0 : preset.sticky_scroll, autoplay: (blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.autoplay) && !((_c = window.wp) === null || _c === void 0 ? void 0 : _c.blocks) ? true : false, playsInline: (blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.playsInline) && !((_d = window.wp) === null || _d === void 0 ? void 0 : _d.blocks) ? true : false }, (provider ? { provider } : {})), (provider_video_id ? { provider_video_id } : {})), ((blockAttributes === null || blockAttributes === void 0 ? void 0 : blockAttributes.poster) ? { poster: blockAttributes.poster } : {})), { invertTime: true, \n    // debug: true,\n    storage, resetOnEnd: !!(preset === null || preset === void 0 ? void 0 : preset.reset_on_end), vimeo: {\n      byline: false,\n      portrait: false,\n      title: false,\n      speed: true,\n      transparent: false,\n      // Custom settings from Plyr\n      customControls: true,\n      // Whether the owner of the video has a Pro or Business account\n      // (which allows us to properly hide controls without CSS hacks, etc)\n      premium: false,\n      // Prevent Vimeo blocking site\n    }, youtube: {\n      rel: 0,\n      showinfo: 0,\n      iv_load_policy: 3,\n      modestbranding: 1,\n      // Custom settings from Plyr\n      customControls: true,\n      noCookie: !!(youtube === null || youtube === void 0 ? void 0 : youtube.noCookie), // Whether to use an alternative version of YouTube without cookies\n    }, tooltips: {\n      controls: true,\n      seek: true,\n    }, \n    // Localisation\n    i18n });\n  if ((_e = window === null || window === void 0 ? void 0 : window.wp) === null || _e === void 0 ? void 0 : _e.hooks) {\n    playerSettings = window.wp.hooks.applyFilters('presto.playerSettings', playerSettings);\n  }\n  return playerSettings;\n}\n\nconst customCSS = (el, css) => {\n  if (!css)\n    return;\n  const style = document.createElement('style');\n  el.shadowRoot.append(style);\n  style.appendChild(document.createTextNode(css));\n};\n\nconst prestoPlayerCss = \"@charset \\\"UTF-8\\\";@keyframes plyr-progress{to{background-position:var(--plyr-progress-loading-size, 25px) 0}}@keyframes plyr-popup{0%{opacity:0.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{from{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:var(--plyr-font-family, inherit);font-variant-numeric:tabular-nums;font-weight:var(--plyr-font-weight-regular, 400);line-height:var(--plyr-line-height, 1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow 0.3s ease;z-index:0}.plyr video,.plyr audio,.plyr iframe{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui *::after,.plyr--full-ui *::before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:var(--plyr-badge-background, #4a5464);border-radius:var(--plyr-badge-border-radius, 2px);color:var(--plyr-badge-text-color, #fff);font-size:var(--plyr-font-size-badge, 9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in 0.3s ease;bottom:0;display:none;font-size:var(--plyr-font-size-small, 13px);left:0;padding:var(--plyr-control-spacing, 10px);position:absolute;text-align:center;transition:transform 0.4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width: 480px){.plyr__captions{font-size:var(--plyr-font-size-base, 15px);padding:calc(var(--plyr-control-spacing, 10px) * 2)}}@media (min-width: 768px){.plyr__captions{font-size:var(--plyr-font-size-large, 18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(calc(var(--plyr-control-spacing, 10px) * -4))}.plyr__caption{background:var(--plyr-captions-background, rgba(0, 0, 0, 0.8));border-radius:2px;box-decoration-break:clone;color:var(--plyr-captions-text-color, #fff);line-height:185%;padding:0.2em 0.5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:transparent;border:0;border-radius:var(--plyr-control-radius, 3px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:calc(var(--plyr-control-spacing, 10px) * 0.7);position:relative;transition:all 0.3s ease}.plyr__control svg{display:block;fill:currentColor;height:var(--plyr-control-icon-size, 18px);pointer-events:none;width:var(--plyr-control-icon-size, 18px)}.plyr__control:focus{outline:0}.plyr__control.plyr__tab-focus{outline-color:var(--plyr-tab-focus-color, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}a.plyr__control{text-decoration:none}a.plyr__control::after,a.plyr__control::before{display:none}.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,.plyr__control.plyr__control--pressed .label--not-pressed{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:calc(var(--plyr-control-spacing, 10px) / 4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:calc(var(--plyr-control-spacing, 10px) / 4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 calc(var(--plyr-control-spacing, 10px) / 2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time{padding-left:0}.plyr__controls:empty{display:none}.plyr [data-plyr=captions],.plyr [data-plyr=pip],.plyr [data-plyr=airplay],.plyr [data-plyr=fullscreen]{display:none}.plyr--captions-enabled [data-plyr=captions],.plyr--pip-supported [data-plyr=pip],.plyr--airplay-supported [data-plyr=airplay],.plyr--fullscreen-enabled [data-plyr=fullscreen]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform 0.3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup 0.2s ease;background:var(--plyr-menu-background, rgba(255, 255, 255, 0.9));border-radius:4px;bottom:100%;box-shadow:var(--plyr-menu-shadow, 0 1px 2px rgba(0, 0, 0, 0.15));color:var(--plyr-menu-color, #4a5464);font-size:var(--plyr-font-size-base, 15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height 0.35s cubic-bezier(0.4, 0, 0.2, 1), width 0.35s cubic-bezier(0.4, 0, 0.2, 1)}.plyr__menu__container::after{border:var(--plyr-menu-arrow-size, 4px) solid transparent;border-top-color:var(--plyr-menu-background, rgba(255, 255, 255, 0.9));content:\\\"\\\";height:0;position:absolute;right:calc(((var(--plyr-control-icon-size, 18px) / 2) + calc(var(--plyr-control-spacing, 10px) * 0.7)) - (var(--plyr-menu-arrow-size, 4px) / 2));top:100%;width:0}.plyr__menu__container [role=menu]{padding:calc(var(--plyr-control-spacing, 10px) * 0.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:var(--plyr-menu-color, #4a5464);display:flex;font-size:var(--plyr-font-size-menu, var(--plyr-font-size-small, 13px));padding-bottom:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) / 1.5);padding-left:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) * 1.5);padding-right:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) * 1.5);padding-top:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) / 1.5);user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control::after{border:var(--plyr-menu-item-arrow-size, 4px) solid transparent;content:\\\"\\\";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) * 4)}.plyr__menu__container .plyr__control--forward::after{border-left-color:var(--plyr-menu-arrow-color, #728197);right:calc((calc(var(--plyr-control-spacing, 10px) * 0.7) * 1.5) - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward.plyr__tab-focus::after,.plyr__menu__container .plyr__control--forward:hover::after{border-left-color:currentColor}.plyr__menu__container .plyr__control--back{font-weight:var(--plyr-font-weight-regular, 400);margin:calc(var(--plyr-control-spacing, 10px) * 0.7);margin-bottom:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) / 2);padding-left:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) * 4);position:relative;width:calc(100% - (calc(var(--plyr-control-spacing, 10px) * 0.7) * 2))}.plyr__menu__container .plyr__control--back::after{border-right-color:var(--plyr-menu-arrow-color, #728197);left:calc((calc(var(--plyr-control-spacing, 10px) * 0.7) * 1.5) - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back::before{background:var(--plyr-menu-back-border-color, #dcdfe5);box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color, #fff);content:\\\"\\\";height:1px;left:0;margin-top:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) / 2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back.plyr__tab-focus::after,.plyr__menu__container .plyr__control--back:hover::after{border-right-color:currentColor}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:calc(var(--plyr-control-spacing, 10px) * 0.7)}.plyr__menu__container .plyr__control[role=menuitemradio]::before,.plyr__menu__container .plyr__control[role=menuitemradio]::after{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]::before{background:rgba(0, 0, 0, 0.1);content:\\\"\\\";display:block;flex-shrink:0;height:16px;margin-right:var(--plyr-control-spacing, 10px);transition:all 0.3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]::after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform 0.3s ease, opacity 0.3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]::before{background:var(--plyr-control-toggle-checked-background, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]::after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio].plyr__tab-focus::before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover::before{background:rgba(35, 40, 47, 0.1)}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:calc((calc(var(--plyr-control-spacing, 10px) * 0.7) - 2) * -1);overflow:hidden;padding-left:calc(calc(var(--plyr-control-spacing, 10px) * 0.7) * 3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;background:transparent;border:0;border-radius:calc(var(--plyr-range-thumb-height, 13px) * 2);color:var(--plyr-range-fill-background, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));display:block;height:calc((var(--plyr-range-thumb-active-shadow-width, 3px) * 2) + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow 0.3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(to right, currentColor var(--value, 0%), transparent var(--value, 0%))}.plyr--full-ui input[type=range]::-webkit-slider-thumb{background:var(--plyr-range-thumb-background, #fff);border:0;border-radius:100%;box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2));height:var(--plyr-range-thumb-height, 13px);position:relative;transition:all 0.2s ease;width:var(--plyr-range-thumb-height, 13px);-webkit-appearance:none;margin-top:calc(((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px)) / 2) * -1)}.plyr--full-ui input[type=range]::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px);transition:box-shadow 0.3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:var(--plyr-range-thumb-background, #fff);border:0;border-radius:100%;box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2));height:var(--plyr-range-thumb-height, 13px);position:relative;transition:all 0.2s ease;width:var(--plyr-range-thumb-height, 13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px)}.plyr--full-ui input[type=range]::-ms-track{background:transparent;border:0;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px);transition:box-shadow 0.3s ease;user-select:none;color:transparent}.plyr--full-ui input[type=range]::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px);transition:box-shadow 0.3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:transparent;border:0;border-radius:calc(var(--plyr-range-track-height, 5px) / 2);height:var(--plyr-range-track-height, 5px);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}.plyr--full-ui input[type=range]::-ms-thumb{background:var(--plyr-range-thumb-background, #fff);border:0;border-radius:100%;box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2));height:var(--plyr-range-thumb-height, 13px);position:relative;transition:all 0.2s ease;width:var(--plyr-range-thumb-height, 13px);margin-top:0}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range].plyr__tab-focus::-webkit-slider-runnable-track{outline-color:var(--plyr-tab-focus-color, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-moz-range-track{outline-color:var(--plyr-tab-focus-color, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-ms-track{outline-color:var(--plyr-tab-focus-color, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr__poster{background-color:var(--plyr-video-background, var(--plyr-video-background, black));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity 0.2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr__time{font-size:var(--plyr-font-size-time, var(--plyr-font-size-small, 13px))}.plyr__time+.plyr__time::before{content:\\\"\\\";margin-right:var(--plyr-control-spacing, 10px)}@media (max-width: 767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:var(--plyr-tooltip-background, rgba(255, 255, 255, 0.9));border-radius:var(--plyr-tooltip-radius, 3px);bottom:100%;box-shadow:var(--plyr-tooltip-shadow, 0 1px 2px rgba(0, 0, 0, 0.15));color:var(--plyr-tooltip-color, #4a5464);font-size:var(--plyr-font-size-small, 13px);font-weight:var(--plyr-font-weight-regular, 400);left:50%;line-height:1.3;margin-bottom:calc(calc(var(--plyr-control-spacing, 10px) / 2) * 2);opacity:0;padding:calc(var(--plyr-control-spacing, 10px) / 2) calc(calc(var(--plyr-control-spacing, 10px) / 2) * 1.5);pointer-events:none;position:absolute;transform:translate(-50%, 10px) scale(0.8);transform-origin:50% 100%;transition:transform 0.2s 0.1s ease, opacity 0.2s 0.1s ease;white-space:nowrap;z-index:2}.plyr__tooltip::before{border-left:var(--plyr-tooltip-arrow-size, 4px) solid transparent;border-right:var(--plyr-tooltip-arrow-size, 4px) solid transparent;border-top:var(--plyr-tooltip-arrow-size, 4px) solid var(--plyr-tooltip-background, rgba(255, 255, 255, 0.9));bottom:calc(var(--plyr-tooltip-arrow-size, 4px) * -1);content:\\\"\\\";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control:hover .plyr__tooltip,.plyr .plyr__control.plyr__tab-focus .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%, 0) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translate(0, 10px) scale(0.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip::before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip::before{left:calc((var(--plyr-control-icon-size, 18px) / 2) + calc(var(--plyr-control-spacing, 10px) * 0.7))}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translate(0, 10px) scale(0.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip::before{left:auto;right:calc((var(--plyr-control-icon-size, 18px) / 2) + calc(var(--plyr-control-spacing, 10px) * 0.7));transform:translateX(50%)}.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible{transform:translate(0, 0) scale(1)}.plyr__progress{left:calc(var(--plyr-range-thumb-height, 13px) * 0.5);margin-right:var(--plyr-range-thumb-height, 13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:calc(var(--plyr-range-thumb-height, 13px) * -0.5);margin-right:calc(var(--plyr-range-thumb-height, 13px) * -0.5);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{font-size:var(--plyr-font-size-time, var(--plyr-font-size-small, 13px));left:0}.plyr__progress__buffer{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;height:var(--plyr-range-track-height, 5px);left:0;margin-top:calc((var(--plyr-range-track-height, 5px) / 2) * -1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:transparent}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--plyr-range-track-height, 5px);transition:width 0.2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--plyr-range-track-height, 5px);transition:width 0.2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;transition:width 0.2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg, var(--plyr-progress-loading-background, rgba(35, 40, 47, 0.6)) 25%, transparent 25%, transparent 50%, var(--plyr-progress-loading-background, rgba(35, 40, 47, 0.6)) 50%, var(--plyr-progress-loading-background, rgba(35, 40, 47, 0.6)) 75%, transparent 75%, transparent);background-repeat:repeat-x;background-size:var(--plyr-progress-loading-size, 25px) var(--plyr-progress-loading-size, 25px);color:transparent}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:var(--plyr-video-progress-buffered-background, rgba(255, 255, 255, 0.25))}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:var(--plyr-audio-progress-buffered-background, rgba(193, 200, 209, 0.6))}.plyr__volume{align-items:center;display:flex;max-width:110px;min-width:80px;position:relative;width:20%}.plyr__volume input[type=range]{margin-left:calc(var(--plyr-control-spacing, 10px) / 2);margin-right:calc(var(--plyr-control-spacing, 10px) / 2);position:relative;z-index:2}.plyr--is-ios .plyr__volume{min-width:0;width:auto}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:var(--plyr-audio-controls-background, #fff);border-radius:inherit;color:var(--plyr-audio-control-color, #4a5464);padding:var(--plyr-control-spacing, 10px)}.plyr--audio .plyr__control.plyr__tab-focus,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:var(--plyr-audio-control-background-hover, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));color:var(--plyr-audio-control-color-hover, #fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:var(--plyr-audio-range-track-background, var(--plyr-audio-progress-buffered-background, rgba(193, 200, 209, 0.6)))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:var(--plyr-audio-range-track-background, var(--plyr-audio-progress-buffered-background, rgba(193, 200, 209, 0.6)))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:var(--plyr-audio-range-track-background, var(--plyr-audio-progress-buffered-background, rgba(193, 200, 209, 0.6)))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(35, 40, 47, 0.1))}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(35, 40, 47, 0.1))}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(35, 40, 47, 0.1))}.plyr--audio .plyr__progress__buffer{color:var(--plyr-audio-progress-buffered-background, rgba(193, 200, 209, 0.6))}.plyr--video{background:var(--plyr-video-background, var(--plyr-video-background, black));overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:var(--plyr-video-background, var(--plyr-video-background, black));height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;left:0;position:absolute;top:0}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:var(--plyr-video-controls-background, linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75)));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:var(--plyr-video-control-color, #fff);left:0;padding:calc(var(--plyr-control-spacing, 10px) / 2);padding-top:calc(var(--plyr-control-spacing, 10px) * 2);position:absolute;right:0;transition:opacity 0.4s ease-in-out, transform 0.4s ease-in-out;z-index:3}@media (min-width: 480px){.plyr--video .plyr__controls{padding:var(--plyr-control-spacing, 10px);padding-top:calc(var(--plyr-control-spacing, 10px) * 3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control.plyr__tab-focus,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:var(--plyr-video-control-background-hover, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));color:var(--plyr-video-control-color-hover, #fff)}.plyr__control--overlaid{background:var(--plyr-video-control-background-hover, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));border:0;border-radius:100%;color:var(--plyr-video-control-color, #fff);display:none;left:50%;opacity:0.9;padding:calc(var(--plyr-control-spacing, 10px) * 1.5);position:absolute;top:50%;transform:translate(-50%, -50%);transition:0.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:hover,.plyr__control--overlaid:focus{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:var(--plyr-video-range-track-background, var(--plyr-video-progress-buffered-background, rgba(255, 255, 255, 0.25)))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:var(--plyr-video-range-track-background, var(--plyr-video-progress-buffered-background, rgba(255, 255, 255, 0.25)))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:var(--plyr-video-range-track-background, var(--plyr-video-progress-buffered-background, rgba(255, 255, 255, 0.25)))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(255, 255, 255, 0.5))}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(255, 255, 255, 0.5))}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:var(--plyr-range-thumb-shadow, 0 1px 1px rgba(35, 40, 47, 0.15), 0 0 0 1px rgba(35, 40, 47, 0.2)), 0 0 0 var(--plyr-range-thumb-active-shadow-width, 3px) var(--plyr-audio-range-thumb-active-shadow-color, rgba(255, 255, 255, 0.5))}.plyr--video .plyr__progress__buffer{color:var(--plyr-video-progress-buffered-background, rgba(255, 255, 255, 0.25))}.plyr:fullscreen{background:#000;border-radius:0 !important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__video-wrapper{height:100%;position:static}.plyr:fullscreen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width: 1024px){.plyr:fullscreen .plyr__captions{font-size:var(--plyr-font-size-xlarge, 21px)}}.plyr:-webkit-full-screen{background:#000;border-radius:0 !important;height:100%;margin:0;width:100%}.plyr:-webkit-full-screen video{height:100%}.plyr:-webkit-full-screen .plyr__video-wrapper{height:100%;position:static}.plyr:-webkit-full-screen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-webkit-full-screen.plyr--hide-controls{cursor:none}@media (min-width: 1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:var(--plyr-font-size-xlarge, 21px)}}.plyr:-moz-full-screen{background:#000;border-radius:0 !important;height:100%;margin:0;width:100%}.plyr:-moz-full-screen video{height:100%}.plyr:-moz-full-screen .plyr__video-wrapper{height:100%;position:static}.plyr:-moz-full-screen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-moz-full-screen.plyr--hide-controls{cursor:none}@media (min-width: 1024px){.plyr:-moz-full-screen .plyr__captions{font-size:var(--plyr-font-size-xlarge, 21px)}}.plyr:-ms-fullscreen{background:#000;border-radius:0 !important;height:100%;margin:0;width:100%}.plyr:-ms-fullscreen video{height:100%}.plyr:-ms-fullscreen .plyr__video-wrapper{height:100%;position:static}.plyr:-ms-fullscreen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-ms-fullscreen.plyr--hide-controls{cursor:none}@media (min-width: 1024px){.plyr:-ms-fullscreen .plyr__captions{font-size:var(--plyr-font-size-xlarge, 21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0 !important;height:100%;margin:0;width:100%;bottom:0;display:block;left:0;position:fixed;right:0;top:0;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__video-wrapper{height:100%;position:static}.plyr--fullscreen-fallback.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width: 1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:var(--plyr-font-size-xlarge, 21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads::after{background:#23282f;border-radius:2px;bottom:var(--plyr-control-spacing, 10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:var(--plyr-control-spacing, 10px);z-index:3}.plyr__ads::after:empty{display:none}.plyr__cues{background:currentColor;display:block;height:var(--plyr-range-track-height, 5px);left:0;margin:-var(--plyr-range-track-height, 5px)/2 0 0;opacity:0.8;position:absolute;top:50%;width:3px;z-index:3}.plyr__preview-thumb{background-color:var(--plyr-tooltip-background, rgba(255, 255, 255, 0.9));border-radius:3px;bottom:100%;box-shadow:var(--plyr-tooltip-shadow, 0 1px 2px rgba(0, 0, 0, 0.15));margin-bottom:calc(calc(var(--plyr-control-spacing, 10px) / 2) * 2);opacity:0;padding:var(--plyr-tooltip-radius, 3px);pointer-events:none;position:absolute;transform:translate(0, 10px) scale(0.8);transform-origin:50% 100%;transition:transform 0.2s 0.1s ease, opacity 0.2s 0.1s ease;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0, 0) scale(1)}.plyr__preview-thumb::before{border-left:var(--plyr-tooltip-arrow-size, 4px) solid transparent;border-right:var(--plyr-tooltip-arrow-size, 4px) solid transparent;border-top:var(--plyr-tooltip-arrow-size, 4px) solid var(--plyr-tooltip-background, rgba(255, 255, 255, 0.9));bottom:calc(var(--plyr-tooltip-arrow-size, 4px) * -1);content:\\\"\\\";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img{height:100%;left:0;max-height:none;max-width:none;position:absolute;top:0;width:100%}.plyr__preview-thumb__time-container{bottom:6px;left:0;position:absolute;right:0;white-space:nowrap;z-index:3}.plyr__preview-thumb__time-container span{background-color:rgba(0, 0, 0, 0.55);border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);color:#fff;font-size:var(--plyr-font-size-time, var(--plyr-font-size-small, 13px));padding:3px 6px}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity 0.3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none !important}.plyr__sr-only{clip:rect(1px, 1px, 1px, 1px);overflow:hidden;border:0 !important;height:1px !important;padding:0 !important;position:absolute !important;width:1px !important}.plyr [hidden]{display:none !important}video,iframe{max-width:100%}.presto-player__wrapper{position:relative;font-family:-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"}.presto-player__wrapper.rtl{direction:rtl}.presto-player__wrapper img{max-width:100%}.presto-player__wrapper .plyr.plyr--video.plyr--menu-open{overflow:hidden}.presto-player__wrapper .plyr--fullscreen-fallback.plyr--vimeo .plyr__video-wrapper{top:50%;transform:translateY(-50%)}.presto-player__wrapper .plyr--fullscreen-fallback.plyr{border-radius:0 !important}.presto-player__wrapper .plyr--fullscreen-fallback.plyr iframe{border-radius:0 !important}.presto-player__wrapper .plyr__menu__container{overflow:auto}.presto-player__wrapper .plyr__menu__container:after{display:none}.presto-player__wrapper img{border:none}.presto-player__wrapper video{margin:auto}.presto-player__wrapper iframe{height:100%}.presto-player__wrapper .plyr--video .plyr__control:active,.presto-player__wrapper .plyr--video .plyr__control:focus{background:#00b3ff;background:var(--plyr-video-control-background-hover, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));color:#fff;color:var(--plyr-video-control-color-hover, #fff)}.presto-player__wrapper .plyr__poster{background-size:cover;z-index:2}.presto-player__wrapper .presto-player__logo{margin:0;display:block;position:absolute;z-index:3;opacity:0.5;object-fit:contain;transition:bottom 0.4s ease-in-out;max-width:var(--presto-player-logo-width, 75px)}.presto-player__wrapper .presto-player__logo.is-bottom-right{left:auto;right:20px;top:auto;bottom:60px}.presto-player__wrapper .presto-player__logo.is-bottom-left{left:20px;right:auto;top:auto;bottom:60px}@media screen and (min-width: 380px){.presto-player__wrapper.presto-player--hide-controls .presto-player__logo.is-bottom-right,.presto-player__wrapper.presto-player--hide-controls .presto-player__logo.is-bottom-left,.presto-player__wrapper .plyr--hide-controls .presto-player__logo.is-bottom-right,.presto-player__wrapper .plyr--hide-controls .presto-player__logo.is-bottom-left{bottom:20px}}.presto-player__wrapper .presto-player-progress__marker{width:16px;height:16px;padding:0;border:2px solid rgba(255, 255, 255, 0.5);position:absolute;border-radius:9999px;bottom:calc(50% - 8px);z-index:9;margin-left:-8px !important}.presto-player__wrapper.presto-player--ended .plyr--youtube .plyr__poster{display:none}.presto-player__wrapper.presto-player--ended .plyr--youtube .plyr__control.plyr__control--overlaid{display:none}.presto-player__wrapper button.plyr__control.plyr__control--overlaid:focus{background:inherit;border:none;outline:0;position:absolute;top:50%;transform:translate(-50%, -50%)}.presto-player__wrapper .plyr__controls__item.plyr__progress__container{position:relative}.presto-player__wrapper .plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{box-shadow:none}.presto-player__wrapper .plyr--video .plyr__controls{background:var(--plyr-video-controls-background, linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.75)))}.presto-player__wrapper .presto-player-toc{font-family:-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";line-height:1.4;position:absolute;top:auto;right:0;left:0;bottom:0;max-height:calc(100%);max-width:calc(100%);background:rgba(255, 255, 255, 0.9);background:var(--plyr-menu-background, rgba(255, 255, 255, 0.9));left:auto;padding:20px 15px;border-radius:4px;width:100%;z-index:9;box-shadow:0 1px 2px rgba(0, 0, 0, 0.15);box-shadow:var(--plyr-menu-shadow, 0 1px 2px rgba(0, 0, 0, 0.15));color:#4a5464;color:var(--plyr-menu-color, #4a5464);font-size:15px;font-size:var(--plyr-font-size-base, 15px);white-space:nowrap;z-index:3;display:flex;flex-direction:column;transition:bottom 0.25s ease}@media screen and (min-width: 380px){.presto-player__wrapper .presto-player-toc{right:20px;bottom:60px;width:300px;max-height:calc(100% - 80px);max-width:calc(100vw - 70px)}}.presto-player__wrapper .presto-player-toc__wrapper{position:absolute;top:0;left:0;bottom:0;right:0;z-index:3;visibility:hidden;opacity:0;transition:opacity 0.3s ease-in-out, visibility 0.3s ease-in-out}.presto-player__wrapper .presto-player-toc__wrapper.is-showing{visibility:visible;opacity:1}.presto-player__wrapper .presto-player-toc__cover{position:absolute;top:0;left:0;bottom:0;right:0;z-index:3}.presto-player__wrapper .presto-player-toc__list{flex:1;overflow:auto}.presto-player__wrapper .presto-player-toc__title{font-size:12px;font-weight:bold;margin-bottom:10px;margin-left:10px;margin-right:10px;display:none}@media screen and (min-width: 380px){.presto-player__wrapper .presto-player-toc__title{display:block}}.presto-player__wrapper .presto-player-toc__name{white-space:nowrap;overflow:hidden;width:100%;text-overflow:ellipsis}.presto-player__wrapper .presto-player-toc__chapter{padding:12px;border-radius:3px;cursor:pointer;line-height:1;display:flex;align-items:center;transition:background-color 0.4s ease, color 0.4s ease;margin-bottom:2px;position:relative}.presto-player__wrapper .presto-player-toc__chapter:last-child{margin-bottom:0}.presto-player__wrapper .presto-player-toc__chapter.is-highlighted,.presto-player__wrapper .presto-player-toc__chapter:hover{background:#00b3ff;background:var(--plyr-video-control-background-hover, var(--plyr-color-main, var(--plyr-color-main, #00b3ff)));color:#fff;color:var(--plyr-video-control-color-hover, #fff)}.presto-player__wrapper .presto-player-toc__chapter.is-highlighted{padding-right:30px}.presto-player__wrapper .presto-player-toc__chapter.is-highlighted:after{background:rgba(255, 255, 255, 0.5);content:\\\"\\\";display:block;flex-shrink:0;height:8px;width:8px;margin-right:10px;margin-right:var(--plyr-control-spacing, 10px);transition:all 0.3s ease;border-radius:9999px;position:absolute;right:7px}.presto-player__wrapper .presto-player-toc__order{margin-right:12px;opacity:0.5}.presto-player__wrapper.rtl{direction:rtl}.presto-player__wrapper.rtl .presto-player-toc__order{order:2;margin-left:12px;margin-right:0}.presto-player__wrapper.rtl .presto-player-toc__name{direction:rtl}.presto-player__wrapper .presto-player-error{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0, 0, 0, 0.9);color:#fff;display:flex;align-items:center;justify-content:center;z-index:10;text-align:center}.presto-player__wrapper .presto-player-error__title{font-size:18px;font-weight:bold;margin-bottom:8px}.presto-player__wrapper .presto-player-error__description{opacity:0.75}.presto-player__wrapper.hide-youtube-ui .plyr__video-embed iframe{top:-50%;height:200%}.presto-player__wrapper .plyr--vimeo.plyr--playing .plyr__video-embed__container{pointer-events:none}.presto-player__wrapper .plyr__control--overlaid{border-radius:6px;padding-left:26px;padding-right:26px;position:absolute !important;top:50% !important}.presto-player__wrapper.skin-stacked .plyr__controls{flex-wrap:wrap}.presto-player__wrapper.skin-stacked .presto-player-progress__marker{transform:scale(0.75)}.presto-player__wrapper.skin-stacked .plyr__controls{justify-content:flex-start}.presto-player__wrapper.skin-stacked .plyr__controls__item.plyr__progress__container{order:-1;flex:1 0 100%}.presto-player__wrapper.skin-stacked .plyr__controls__item.plyr__progress__container+:not(.plyr__time),.presto-player__wrapper.skin-stacked .plyr__controls__item.plyr__progress__container+.plyr__time+*{margin-left:auto}.presto-player__wrapper.skin-stacked .plyr__controls .plyr__controls__item:first-child{margin:0}.presto-player__wrapper.skin-stacked .plyr__progress{height:19px;display:flex;align-items:center}.presto-player__wrapper.skin-stacked .plyr__progress .plyr__progress__buffer{height:3px;transition:all 0.25s ease;position:absolute;top:calc(50% + 1px)}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-moz-range-track{height:3px;transition:all 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-webkit-slider-runnable-track{height:3px;transition:all 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-ms-track{height:3px;transition:all 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-ms-fill-upper{height:3px;transition:all 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-ms-fill-lower{height:3px;transition:height 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-webkit-slider-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-moz-range-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress input[type=range]::-ms-thumb{visibility:hidden;opacity:0;transition:opacity 0.25s ease}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .presto-player-progress__marker{transform:scale(1)}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress .plyr__progress__buffer{height:5px;top:calc(50%)}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]{overflow:visible}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-moz-range-track{height:5px}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-webkit-slider-runnable-track{height:5px}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-track{height:5px}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-fill-upper{height:5px}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-fill-lower{height:5px}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-webkit-slider-thumb{visibility:visible;opacity:1}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-moz-range-thumb{visibility:visible;opacity:1}.presto-player__wrapper.skin-stacked .plyr__progress__container:hover .plyr__progress input[type=range]::-ms-thumb{visibility:visible;opacity:1}.presto-sticky-parent{z-index:99998}@media screen and (min-width: 960px){.presto-sticky{--presto-sticky-space:15px;position:fixed;z-index:3000;max-width:var(--presto-sticky-width, 380px);width:100vw}.presto-sticky .plyr__controls,.presto-sticky .presto-player-toc__wrapper,.presto-sticky presto-action-bar,.presto-sticky .presto-player__logo{display:none}.presto-sticky--top-left{top:var(--presto-sticky-space);left:var(--presto-sticky-space)}.presto-sticky--top-center{top:var(--presto-sticky-space);left:0;right:0;margin:0 auto}.presto-sticky--top-right{top:var(--presto-sticky-space);right:var(--presto-sticky-space)}.presto-sticky--center-left{top:0;bottom:0;margin:auto 0;left:var(--presto-sticky-space);display:flex;align-items:center}.presto-sticky--center-center{top:0;bottom:0;right:0;left:0;margin:auto;display:flex;align-items:center}.presto-sticky--center-right{top:0;bottom:0;margin:auto 0;right:var(--presto-sticky-space);display:flex;align-items:center}.presto-sticky--bottom-left{bottom:var(--presto-sticky-space);left:var(--presto-sticky-space)}.presto-sticky--bottom-center{bottom:var(--presto-sticky-space);left:0;right:0;margin:0 auto}.presto-sticky--bottom-right{bottom:var(--presto-sticky-space);right:var(--presto-sticky-space)}}.presto-player__overlay{position:absolute;top:50%;left:50%;z-index:3}.presto-player__muted-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.presto-player__muted-overlay .plyr__control--overlaid{display:block;opacity:1;visibility:visible}.presto-player__wrapper.is-muted-overlay{cursor:pointer}.presto-player__wrapper.is-muted-overlay .plyr--playing .presto-player__muted-overlay .plyr__control--overlaid{opacity:1;visibility:visible}.presto-player__wrapper.is-muted-overlay .presto-player__logo{display:none}.presto-player__wrapper.is-muted-overlay .plyr__controls{display:none}.presto-player__wrapper.is-muted-overlay .plyr .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(0) !important}.presto-player__wrapper.rtl .plyr__captions{direction:rtl}.presto-player__wrapper.caption-style-full .plyr__captions{background:var(--plyr-captions-background, rgba(0, 0, 0, 0.8));padding-top:0;padding-bottom:0}.presto-player__wrapper.caption-style-full .plyr:not(.plyr--hide-controls):not(.is-muted-overlay) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(calc(var(--plyr-control-spacing, 13px) * -4))}.presto-player__wrapper.caption-style-full.skin-stacked .plyr:not(.plyr--hide-controls):not(.is-muted-overlay) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(calc(var(--plyr-control-spacing, 17px) * -4))}.presto-player__play-cover{cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0;z-index:99}.presto-player__chapters{width:100%;position:absolute;top:0;height:100%}.presto-player__chapter-markers{margin:0 8px;height:100%;position:relative}.presto-player-progress__marker.plyr__controls__item.plyr__control:hover{border:0;background:#fff}\";\n\nconst PrestoPlayer$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n  }\n  /**\n   * Play video\n   * @returns Plyr\n   */\n  async play() {\n    this.shouldLazyLoad = false;\n    return this.player.play();\n  }\n  /**\n   * Play video\n   * @returns Plyr\n   */\n  async restart() {\n    this.shouldLazyLoad = false;\n    return this.player.restart();\n  }\n  /**\n   * Pause video\n   * @returns Plyr\n   */\n  async pause() {\n    return this.player.pause();\n  }\n  /**\n   * Pause video\n   * @returns Plyr\n   */\n  async stop() {\n    return this.player.stop();\n  }\n  /**\n   * Toggle Fullscreen\n   * @returns Plyr\n   */\n  async fullscreenToggle(open) {\n    return this.player.fullscreen.toggle(open);\n  }\n  /**\n   * Add an event listener for the specified event.\n   * @param event String\n   * @param func Function\n   * @returns Plyr\n   */\n  async on(event, func) {\n    return this.player.on(event, func);\n  }\n  /**\n   * Remove an event listener for the specified event.\n   * @param event String\n   * @param func Function\n   * @returns Plyr\n   */\n  async off(event, func) {\n    return this.player.off(event, func);\n  }\n  /**\n   * Sticky scroll handler\n   * @returns void\n   */\n  stickyClass() {\n    var _a, _b;\n    if (!((_a = this.preset) === null || _a === void 0 ? void 0 : _a.sticky_scroll)) {\n      return;\n    }\n    // not in admin, muted preview or if not playing\n    if (this.isAdmin || this.mutedPreview || !((_b = this.player) === null || _b === void 0 ? void 0 : _b.playing)) {\n      this.isSticky = false;\n      return;\n    }\n    let rect = this.el.getBoundingClientRect();\n    this.isSticky = rect.height < -rect.top;\n  }\n  /**\n   * Handle sticky change\n   */\n  handleStickyChange() {\n    const parents = getParents(this.el);\n    parents.forEach(parent => {\n      parent.classList.toggle('presto-sticky-parent', this.isSticky);\n    });\n  }\n  /**\n   * Get player config\n   * @returns object\n   */\n  getConfig() {\n    return Object.assign(Object.assign({}, transform({\n      preset: this.preset,\n      chapters: this.chapters,\n      branding: this.branding,\n      analytics: !!this.analytics,\n      automations: !!this.automations,\n      blockAttributes: this.blockAttributes,\n      provider: this.provider,\n      youtube: this.youtube,\n      provider_video_id: this.provider_video_id,\n      i18n: this.i18n,\n    })), (this.iconUrl\n      ? {\n        iconUrl: this.iconUrl,\n      }\n      : {}));\n  }\n  /**\n   * Get player data\n   * @returns object\n   */\n  getPlayerData() {\n    return {\n      selector: this.playerEl,\n      src: this.src || '',\n      preload: this.preload,\n      provider: this.provider,\n      config: this.getConfig(),\n      isAdmin: this.isAdmin,\n    };\n  }\n  /**\n   * Create the video player\n   * @returns void\n   */\n  async createPlayer() {\n    const player = await createPlayer(this.getPlayerData());\n    // cache original config\n    if (!this.originalConfig) {\n      this.originalConfig = this.getConfig();\n    }\n    return player;\n  }\n  /**\n   * Handle muted preview change\n   * @returns void\n   */\n  handleMutedPreview(val) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    if (!this.player || this.isAdmin) {\n      return;\n    }\n    // maybe enable/disable captions\n    if (!val && this.preset.captions_enabled) {\n      setTimeout(() => {\n        var _a;\n        this.player.toggleCaptions((_a = this === null || this === void 0 ? void 0 : this.preset) === null || _a === void 0 ? void 0 : _a.captions_enabled);\n      }, 0);\n    }\n    if (!((_c = (_b = (_a = this.originalConfig) === null || _a === void 0 ? void 0 : _a.blockAttributes) === null || _b === void 0 ? void 0 : _b.mutedPreview) === null || _c === void 0 ? void 0 : _c.enabled)) {\n      return;\n    }\n    mutedAutoplay({\n      player: this.player,\n      mutedPreview: this.mutedPreview,\n      captions: !!((_e = (_d = this.blockAttributes) === null || _d === void 0 ? void 0 : _d.mutedPreview) === null || _e === void 0 ? void 0 : _e.captions),\n      progress: (_f = this.originalConfig) === null || _f === void 0 ? void 0 : _f.ajaxProgress,\n      savePosition: (_g = this.originalConfig) === null || _g === void 0 ? void 0 : _g.save_player_position,\n      onPlay: () => this.play(),\n    });\n  }\n  /**\n   * Update player state with events\n   */\n  handlePlayerEvents(player) {\n    player.on('ready', e => {\n      var _a, _b;\n      // on ready\n      this.player = e.detail.plyr;\n      this.currentTime = this.player.currentTime;\n      this.duration = this.player.duration;\n      this.mutedPreview = (_b = (_a = this.blockAttributes) === null || _a === void 0 ? void 0 : _a.mutedPreview) === null || _b === void 0 ? void 0 : _b.enabled;\n      this.player.on('timeupdate loadedmetadata', () => {\n        this.currentTime = this.player.currentTime;\n        this.duration = this.player.duration;\n      });\n      this.player.on('playing', () => {\n        this.playClass = 'presto-player--playing';\n      });\n      this.player.on('pause', () => {\n        this.playClass = 'presto-player--paused';\n      });\n      this.player.on('ended', () => {\n        this.playClass = 'presto-player--ended';\n      });\n    });\n  }\n  /**\n   * Handle lazy load changes\n   * @returns\n   */\n  handleLazyLoadChange() {\n    if (this.provider !== 'youtube' || this.shouldLazyLoad) {\n      return;\n    }\n    setTimeout(() => {\n      this.onReload('play');\n    }, 50);\n  }\n  /**\n   * Should we lazy load the video?\n   * @returns boolean\n   */\n  shouldLazyLoadVideo() {\n    var _a, _b, _c;\n    if (this.provider !== 'youtube' || this.autoplay || ((_b = (_a = this.blockAttributes) === null || _a === void 0 ? void 0 : _a.mutedPreview) === null || _b === void 0 ? void 0 : _b.enabled)) {\n      return false;\n    }\n    return !!((_c = this.preset) === null || _c === void 0 ? void 0 : _c.lazy_load_youtube);\n  }\n  /**\n   * Initialize data\n   */\n  componentWillLoad() {\n    var _a, _b;\n    const children = (_a = this.el.children) === null || _a === void 0 ? void 0 : _a[0];\n    children && children.classList && children.classList.contains('presto-iframe-fallback-container') && children.remove();\n    this.shouldLazyLoad = this.shouldLazyLoadVideo();\n    this.i18n = (_b = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _b === void 0 ? void 0 : _b.i18n;\n  }\n  /**\n   * Create Player\n   */\n  async componentDidLoad() {\n    setTimeout(() => {\n      this.initialize();\n    }, 0);\n  }\n  /**\n   * Init player\n   * @returns plyr object\n   */\n  async initialize() {\n    const player = await this.createPlayer();\n    this.handlePlayerEvents(player);\n    this.syncVideoHeight();\n    customCSS(this.el, this.css);\n    return player;\n  }\n  /**\n   * On player reload\n   * @param ev\n   */\n  async onReload(action) {\n    const player = await this.initialize();\n    if (action == 'play') {\n      player.on('ready', () => {\n        this.play();\n        player.muted = true;\n        player.muted = false;\n        player.off('ready', this.play);\n      });\n    }\n  }\n  /**\n   * Sync video height as height changes\n   */\n  async syncVideoHeight() {\n    // Loads polyfill asynchronously, only if required.\n    if ('ResizeObserver' in window === false) {\n      const module = await import('./resize-observer.js');\n      window.ResizeObserver = module.ResizeObserver;\n    }\n    const resizeObserver = new ResizeObserver(() => {\n      if (!this.isSticky) {\n        this.videoHeight = this.el.getBoundingClientRect().height;\n      }\n    });\n    resizeObserver.observe(this.el);\n  }\n  /**\n   * Render the muted overlay\n   * @returns JSX\n   */\n  renderMutedOverlay() {\n    var _a;\n    if (!this.player || !this.mutedPreview || this.isAdmin) {\n      return;\n    }\n    return (h(\"presto-muted-overlay\", { mutedOverlay: (_a = this.player.config.blockAttributes) === null || _a === void 0 ? void 0 : _a.mutedOverlay, onPlayVideo: () => {\n        this.mutedPreview = false;\n        this.play();\n      } }));\n  }\n  /**\n   * Render the video\n   * @returns JSX\n   */\n  renderVideo() {\n    var _a;\n    switch (this.provider) {\n      case 'vimeo':\n        return h(\"presto-vimeo\", { player: this.player, getRef: el => (this.playerEl = el), poster: this.poster, src: this.src });\n      case 'youtube':\n        return (h(\"presto-youtube\", { onReload: ev => this.onReload(ev === null || ev === void 0 ? void 0 : ev.detail), player: this.player, getRef: el => (this.playerEl = el), lazyLoad: this.shouldLazyLoad, poster: this.poster, src: this.src }));\n      case 'bunny':\n        return (h(\"presto-bunny\", { thumbnail: (_a = this === null || this === void 0 ? void 0 : this.bunny) === null || _a === void 0 ? void 0 : _a.thumbnail, getRef: el => (this.playerEl = el), player: this.player, autoplay: this.autoplay, preload: this.preload, poster: this.poster, playsinline: this.playsinline, src: this.src, tracks: this.tracks }));\n      default:\n        return (h(\"presto-video\", { getRef: el => (this.playerEl = el), player: this.player, autoplay: this.autoplay, preload: this.preload, poster: this.poster, playsinline: this.playsinline, src: this.src, tracks: this.tracks }));\n    }\n  }\n  renderCTA() {\n    var _a;\n    if (!((_a = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _a === void 0 ? void 0 : _a.isPremium) || this.isAdmin) {\n      return;\n    }\n    return (h(\"presto-cta-overlay\", { direction: this.direction, player: this.player, preset: this.preset, i18n: this.i18n, onPlayVideo: () => {\n        this.mutedPreview = false;\n        this.play();\n      }, onRewatchVideo: () => {\n        this.mutedPreview = false;\n      }, currentTime: this.currentTime, duration: this.duration }));\n  }\n  /**\n   * Render email overlay\n   * @returns JSX\n   */\n  renderEmailOverlay() {\n    var _a, _b;\n    if (!((_a = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _a === void 0 ? void 0 : _a.isPremium) || this.isAdmin || ((_b = window === null || window === void 0 ? void 0 : window.prestoPlayer) === null || _b === void 0 ? void 0 : _b.logged_in)) {\n      return;\n    }\n    return (h(\"presto-email-overlay\", { direction: this.direction, player: this.player, preset: this.preset, videoId: this.video_id, i18n: this.i18n, onPlayVideo: () => {\n        this.mutedPreview = false;\n        this.play();\n      }, currentTime: this.currentTime, duration: this.duration }));\n  }\n  /**\n   * Render email overlay\n   * @returns JSX\n   */\n  renderActionBar() {\n    var _a, _b;\n    if (!((_b = (_a = this.preset) === null || _a === void 0 ? void 0 : _a.action_bar) === null || _b === void 0 ? void 0 : _b.enabled)) {\n      return;\n    }\n    return h(\"presto-action-bar\", { config: this.preset.action_bar, currentTime: this.currentTime, duration: this.duration, youtube: this.youtube });\n  }\n  stickyPositionClass() {\n    var _a, _b;\n    if (!this.isSticky) {\n      return '';\n    }\n    return !!((_a = this.preset) === null || _a === void 0 ? void 0 : _a.sticky_scroll_position) ? `presto-sticky--${(_b = this.preset) === null || _b === void 0 ? void 0 : _b.sticky_scroll_position.replace(/\\s+/g, '-')}` : 'presto-sticky--bottom-right';\n  }\n  /**\n   * Render the component\n   * @returns JSX\n   */\n  render() {\n    var _a, _b, _c, _d, _e;\n    return (h(Host, { style: { height: this.isSticky ? `${this.videoHeight}px` : 'auto' } }, h(\"div\", { part: \"wrapper\", dir: this.direction, class: `presto-player__wrapper fitvidsignore\n          presto-video-id-${this.video_id}\n        ${!!this.isSticky ? 'presto-sticky' : ''}\n        ${this.stickyPositionClass()}\n        ${this.direction === 'rtl' ? 'rtl' : ''}\n        ${!!((_a = this.preset) === null || _a === void 0 ? void 0 : _a.skin) && `skin-${(_b = this.preset) === null || _b === void 0 ? void 0 : _b.skin}`}\n        ${!!((_c = this.preset) === null || _c === void 0 ? void 0 : _c.hide_youtube) ? 'hide-youtube-ui' : ''}\n        ${!!((_d = this.preset) === null || _d === void 0 ? void 0 : _d.caption_style) ? `caption-style-${(_e = this.preset) === null || _e === void 0 ? void 0 : _e.caption_style}` : ''}\n        ${!!this.mutedPreview ? 'is-muted-overlay' : ''}\n        ${this.playClass ? this.playClass : ''}` }, h(\"div\", null, h(\"slot\", { name: \"player-start\" }), this.renderCTA(), this.renderEmailOverlay(), h(\"slot\", { name: \"player-before-video\" }), this.renderVideo(), h(\"slot\", { name: \"player-after-video\" }), this.renderActionBar(), this.renderMutedOverlay(), h(\"slot\", { name: \"player-end\" })))));\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"isSticky\": [\"handleStickyChange\"],\n    \"mutedPreview\": [\"handleMutedPreview\"],\n    \"shouldLazyLoad\": [\"handleLazyLoadChange\"]\n  }; }\n  static get style() { return prestoPlayerCss; }\n};\n\nconst Fragment = (function (props, children) {\n  return _toConsumableArray(children);\n});\n\nconst prestoPlayerButtonCss = \":host{display:inline-block;width:auto;cursor:pointer}:host([full]){display:block}.button{display:inline-flex;align-items:stretch;justify-content:center;width:100%;border-style:solid;border-width:var(--presto-player-button-border-width);font-family:var(--plyr-font-family, inherit);font-weight:var(--presto-player-button-font-weight, 500);text-decoration:none;user-select:none;white-space:nowrap;vertical-align:middle;padding:0;transition:var(--presto--player-transition-fast, 150ms) background-color, var(--presto-player-transition-fast, 150ms) color, var(--presto-player-transition-fast, 150ms) border, var(--presto--player-transition-fast, 150ms) box-shadow;cursor:inherit;border-radius:var(--presto-player-button-border-radius, 0.25rem)}.button::-moz-focus-inner{border:0}.button:focus{outline:none}.button.button--disabled{opacity:0.5;cursor:not-allowed}.button.button--disabled *{pointer-events:none}.button ::slotted(.presto--icon){pointer-events:none}.button__prefix,.button__suffix{flex:0 0 auto;display:flex;align-items:center}.button__label{display:flex;align-items:center}.button__label ::slotted(presto-icon){vertical-align:-2px}.button.button--default{background-color:var(--presto-player-color-white, #fff);border-color:var(--presto-player-color-gray-300, #d1d5db);color:var(--presto-player-color-gray-600, #4b5563)}.button.button--default:hover:not(.button--disabled){border-color:var(--presto-player-button-color, var(--plyr-color-main));color:var(--presto-player-button-color, var(--plyr-color-main));opacity:0.75}.button.button--default:focus:not(.button--disabled){border-color:var(--presto-player-button-color, var(--plyr-color-main));color:var(--presto-player-button-color, var(--plyr-color-main));opacity:1}.button.button--default:active:not(.button--disabled){border-color:var(--presto-player-button-color, var(--plyr-color-main));color:var(--presto-player-button-color, var(--plyr-color-main));opacity:1}.button.button--primary{background-color:var(--presto-player-button-color, var(--plyr-color-main));border-color:var(--presto-player-button-color, var(--plyr-color-main));color:var(--presto-player-button-text, #fff)}.button.button--primary:hover:not(.button--disabled){opacity:0.9}.button.button--primary:focus:not(.button--disabled){opacity:1}.button.button--primary:active:not(.button--disabled){opacity:1}.button--text{background-color:transparent;border-color:transparent;color:var(--presto-player-button-color, var(--plyr-color-main))}.button--text:hover:not(.button--disabled){background-color:transparent;border-color:transparent;opacity:0.8}.button--text:focus:not(.button--disabled){background-color:transparent;border-color:transparent;opacity:0.7}.button--text:active:not(.button--disabled){background-color:transparent;border-color:transparent;opacity:0.7}.button--small{font-size:var(--presto-player-button-font-size-small, 0.875rem);height:var(--presto-player-button-height-small, 1.875rem);line-height:calc(var(--presto-player-button-height-small, 1.875rem) - var(--presto-player-button-border-width, 1px) * 2)}.button--medium{font-size:var(--presto-player-button-font-size-medium, 1rem);height:var(--presto-player-button-height-medium, 2.5rem);line-height:calc(var(--presto-player-button-height-medium, 2.5rem) - var(--presto-player-button-border-width, 1px) * 2)}.button--large{font-size:var(--presto-player-button-font-size-large, 1.25rem);height:var(--presto-player-button-height-large, 3.125rem);line-height:calc(var(--presto-player-button-height-large, 3.125rem) - var(--presto-player-button-border-width, 1px) * 2)}.button--full{display:block}.button--has-label.button--small .button__label{padding:0 var(--presto-player-button-spacing-small, 0.75rem)}.button--has-label.button--medium .button__label{padding:0 var(--presto-player-button-spacing-medium, 1rem)}.button--has-label.button--large .button__label{padding:0 var(--presto-player-button-spacing-large, 1.25rem)}.button--has-prefix.button--small{padding-left:var(--presto-player-button-spacing-x-small, 0.5rem)}.button--has-prefix.button--small .button__label{padding-left:var(--presto-player-button-spacing-x-small, 0.5rem)}.button--has-prefix.button--medium{padding-left:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-prefix.button--medium .button__label{padding-left:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-prefix.button--large{padding-left:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-prefix.button--large .button__label{padding-left:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-suffix.button--small,.button--caret.button--small{padding-right:var(--presto-player-button-spacing-x-small, 0.5rem)}.button--has-suffix.button--small .button__label,.button--caret.button--small .button__label{padding-right:var(--presto-player-button-spacing-x-small, 0.5rem)}.button--has-suffix.button--medium,.button--caret.button--medium{padding-right:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-suffix.button--medium .button__label,.button--caret.button--medium .button__label{padding-right:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-suffix.button--large,.button--caret.button--large{padding-right:var(--presto-player-button-spacing-small, 0.75rem)}.button--has-suffix.button--large .button__label,.button--caret.button--large .button__label{padding-right:var(--presto-player-button-spacing-small, 0.75rem)}\";\n\nconst PrestoPlayerButton$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n    this.prestoBlur = createEvent(this, \"prestoBlur\", 7);\n    this.prestoFocus = createEvent(this, \"prestoFocus\", 7);\n    this.hasFocus = false;\n    this.hasLabel = false;\n    this.hasPrefix = false;\n    this.hasSuffix = false;\n    /** The button's type. */\n    this.type = 'default';\n    /** The button's size. */\n    this.size = 'medium';\n    /** Draws the button with a caret for use with dropdowns, popovers, etc. */\n    this.full = false;\n    /** Disables the button. */\n    this.disabled = false;\n    /** Indicates if activating the button should submit the form. Ignored when `href` is set. */\n    this.submit = false;\n  }\n  componentWillLoad() {\n    this.handleSlotChange();\n  }\n  /** Simulates a click on the button. */\n  click() {\n    this.button.click();\n  }\n  /** Sets focus on the button. */\n  focus(options) {\n    this.button.focus(options);\n  }\n  /** Removes focus from the button. */\n  blur() {\n    this.button.blur();\n  }\n  handleSlotChange() {\n    this.hasLabel = !!this.button.children;\n    this.hasPrefix = !!this.button.querySelector('[slot=\"prefix\"]');\n    this.hasSuffix = !!this.button.querySelector('[slot=\"suffix\"]');\n  }\n  handleBlur() {\n    this.hasFocus = false;\n    this.prestoBlur.emit();\n  }\n  handleFocus() {\n    this.hasFocus = true;\n    this.prestoFocus.emit();\n  }\n  handleClick(event) {\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  render() {\n    const isLink = this.href ? true : false;\n    const interior = (h(Fragment, null, h(\"span\", { part: \"prefix\", class: \"button__prefix\" }, h(\"slot\", { onSlotchange: () => this.handleSlotChange(), name: \"prefix\" })), h(\"span\", { part: \"label\", class: \"button__label\" }, h(\"slot\", { onSlotchange: () => this.handleSlotChange() })), h(\"span\", { part: \"suffix\", class: \"button__suffix\" }, h(\"slot\", { onSlotchange: () => this.handleSlotChange(), name: \"suffix\" }))));\n    const button = (h(\"button\", { part: \"base\", class: {\n        'button': true,\n        'button--default': this.type === 'default',\n        'button--primary': this.type === 'primary',\n        'button--success': this.type === 'success',\n        'button--info': this.type === 'info',\n        'button--warning': this.type === 'warning',\n        'button--danger': this.type === 'danger',\n        'button--text': this.type === 'text',\n        'button--small': this.size === 'small',\n        'button--medium': this.size === 'medium',\n        'button--large': this.size === 'large',\n        'button--disabled': this.disabled,\n        'button--focused': this.hasFocus,\n        'button--has-label': this.hasLabel,\n        'button--has-prefix': this.hasPrefix,\n        'button--has-suffix': this.hasSuffix,\n      }, disabled: this.disabled, type: this.submit ? 'submit' : 'button', name: this.name, value: this.value, onBlur: () => this.handleBlur, onFocus: () => this.handleFocus, onClick: () => this.handleClick }, interior));\n    const link = (h(\"a\", { part: \"base\", class: {\n        'button': true,\n        'button--default': this.type === 'default',\n        'button--primary': this.type === 'primary',\n        'button--success': this.type === 'success',\n        'button--info': this.type === 'info',\n        'button--warning': this.type === 'warning',\n        'button--danger': this.type === 'danger',\n        'button--text': this.type === 'text',\n        'button--small': this.size === 'small',\n        'button--medium': this.size === 'medium',\n        'button--large': this.size === 'large',\n        'button--disabled': this.disabled,\n        'button--focused': this.hasFocus,\n        'button--has-label': this.hasLabel,\n        'button--has-prefix': this.hasPrefix,\n        'button--has-suffix': this.hasSuffix,\n      }, href: this.href, target: this.target, download: this.download, rel: this.target ? 'noreferrer noopener' : undefined, role: \"button\", \"aria-disabled\": this.disabled ? 'true' : 'false', tabindex: this.disabled ? '-1' : '0', onBlur: () => this.handleBlur, onFocus: () => this.handleFocus, onClick: () => this.handleClick }, interior));\n    return isLink ? link : button;\n  }\n  get button() { return this; }\n  static get style() { return prestoPlayerButtonCss; }\n};\n\nconst prestoSkeletonCss = \":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{--border-radius:var(--presto-player-border-radius-pill);--color:#e5e7eb;--sheen-color:#f3f4f6;display:block;position:relative}.skeleton{display:flex;width:100%;height:100%;min-height:1rem}.skeleton__indicator{flex:1 1 auto;background:var(--color);border-radius:var(--border-radius)}.skeleton--sheen .skeleton__indicator{background:linear-gradient(270deg, var(--sheen-color), var(--color), var(--color), var(--sheen-color));background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}.skeleton--pulse .skeleton__indicator{animation:pulse 2s ease-in-out 0.5s infinite}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes pulse{0%{opacity:1}50%{opacity:0.4}100%{opacity:1}}\";\n\nconst PrestoSkeleton = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n    this.effect = 'sheen';\n  }\n  render() {\n    return (h(\"div\", { part: \"base\", class: {\n        'skeleton': true,\n        'skeleton--pulse': this.effect === 'pulse',\n        'skeleton--sheen': this.effect === 'sheen',\n      }, \"aria-busy\": \"true\", \"aria-live\": \"polite\" }, h(\"div\", { part: \"indicator\", class: \"skeleton__indicator\" })));\n  }\n  static get style() { return prestoSkeletonCss; }\n};\n\nconst prestoSpinnerCss = \":host{position:relative;box-sizing:border-box;--track-color:#0d131e20;--indicator-color:var(--plyr-color-main);--stroke-width:2px;display:inline-flex}:host *,:host *:before,:host *:after{box-sizing:inherit}.spinner{display:inline-block;width:1em;height:1em;border-radius:50%;border:solid var(--stroke-width) var(--track-color);border-top-color:var(--indicator-color);border-right-color:var(--indicator-color);animation:1s linear infinite spin}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\";\n\nconst PrestoSpinner = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    attachShadow(this);\n  }\n  render() {\n    return h(\"span\", { part: \"base\", class: \"spinner\", \"aria-busy\": \"true\", \"aria-live\": \"polite\" });\n  }\n  static get style() { return prestoSpinnerCss; }\n};\n\nconst prestoVideoCss = \":host{display:block}\";\n\nconst PrestoVideo$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n  }\n  render() {\n    return (h(\"video\", { class: \"presto-player__player\", part: \"video\", ref: this.getRef, autoplay: this.autoplay, preload: this.preload, \"data-poster\": this.poster, playsinline: this.playsinline }, h(\"source\", { src: this.src }), !!this.tracks &&\n      !!this.tracks.length &&\n      this.tracks.map(track => h(\"track\", { kind: \"captions\", label: (track === null || track === void 0 ? void 0 : track.label) ? track.label : 'Captions', src: track === null || track === void 0 ? void 0 : track.src, srclang: (track === null || track === void 0 ? void 0 : track.srcLang) ? track === null || track === void 0 ? void 0 : track.srcLang : 'en' }))));\n  }\n  static get style() { return prestoVideoCss; }\n};\n\nconst prestoVimeoCss = \":host{display:block}\";\n\nconst PrestoVimeo$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n  }\n  getId(url) {\n    const regExp = /^.*(vimeo\\.com\\/)((channels\\/[A-z]+\\/)|(groups\\/[A-z]+\\/videos\\/))?([0-9]+)/;\n    const parseUrl = regExp.exec(url || '');\n    return (parseUrl === null || parseUrl === void 0 ? void 0 : parseUrl[5]) || '';\n  }\n  render() {\n    if (!this.src) {\n      return;\n    }\n    return (h(\"div\", { class: \"plyr__video-embed\", part: \"embed\", ref: this.getRef }, h(\"iframe\", { src: `https://player.vimeo.com/video/${this.getId(this.src)}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`, allowFullScreen: true, allowTransparency: true, allow: \"autoplay\" })));\n  }\n  static get style() { return prestoVimeoCss; }\n};\n\nconst prestoYoutubeCss = \":host{display:block}.fallback-container{position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden}.fallback-container iframe,.fallback-container object,.fallback-container embed{position:absolute;top:0;left:0;width:100%;height:100%}\";\n\nconst PrestoYoutube$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.reload = createEvent(this, \"reload\", 7);\n  }\n  /**\n   * When player is set, do ratio and fixes\n   * @returns\n   */\n  handlePlayerChange() {\n    if (!this.player) {\n      return;\n    }\n    // ratio\n    this.player.ratio = '16:9';\n    this.fixes();\n  }\n  // fixes issue where youtube can sometimes can be muted if played before load\n  fixes() {\n    this.player.on('statechange', e => {\n      var _a, _b, _c, _d, _e;\n      // only playing\n      if (e.detail.code !== 1) {\n        return;\n      }\n      // not autoplay\n      if ((_e = (_d = (_c = (_b = (_a = e === null || e === void 0 ? void 0 : e.detail) === null || _a === void 0 ? void 0 : _a.plyr) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.blockAttributes) === null || _d === void 0 ? void 0 : _d.mutedPreview) === null || _e === void 0 ? void 0 : _e.enabled) {\n        return;\n      }\n      // unmute\n      this.player.muted = false;\n    });\n  }\n  // get id from youtube url\n  getId(url) {\n    var _a;\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = (url || '').match(regExp);\n    return match && ((_a = match === null || match === void 0 ? void 0 : match[2]) === null || _a === void 0 ? void 0 : _a.length) === 11 ? match[2] : null;\n  }\n  // load player\n  loadPlayer() {\n    this.lazyLoad = false;\n    this.reloadPlayer = true;\n  }\n  // wait for component to update before reloading\n  componentDidRender() {\n    if (this.reloadPlayer) {\n      this.reloadPlayer = false;\n      this.reload.emit('play');\n    }\n  }\n  /**\n   * detect if we're in a webview browser\n   */\n  setWebView() {\n    var _a;\n    // @ts-ignore\n    let standalone = (_a = window.navigator) === null || _a === void 0 ? void 0 : _a.standalone, userAgent = window.navigator.userAgent.toLowerCase(), safari = /safari/.test(userAgent), ios = /iphone|ipod|ipad/.test(userAgent);\n    if (ios) {\n      // ios webview\n      this.isWebView = !standalone && !safari;\n    }\n    else {\n      // android webview\n      this.isWebView = userAgent.includes('wv');\n    }\n  }\n  // don't lazy load on iOS\n  componentWillLoad() {\n    this.setWebView();\n    // pull default Youtube poster if nothing set.\n    if (!this.poster) {\n      this.poster = `//img.youtube.com/vi/${this.getId(this.src)}/maxresdefault.jpg`;\n    }\n    if (this.lazyLoad) {\n      var ua = window.navigator.userAgent;\n      var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n      if (iOS) {\n        this.lazyLoad = false;\n      }\n    }\n  }\n  render() {\n    if (this.isWebView) {\n      return (h(\"div\", { class: \"fallback-container\" }, h(\"iframe\", { src: this.src, allowFullScreen: true, allowtransparency: true, allow: \"autoplay\" })));\n    }\n    if (this.lazyLoad) {\n      return (h(\"div\", null, h(\"presto-video\", { part: \"video\", getRef: this.getRef, poster: this.poster, src: \"\" }), h(\"div\", { class: \"presto-player__play-cover\", onClick: () => this.loadPlayer() })));\n    }\n    return h(\"div\", { class: \"plyr__video-embed\", part: \"embed\", ref: this.getRef, \"data-plyr-provider\": \"youtube\", \"data-plyr-embed-id\": this.getId(this.src) });\n  }\n  static get watchers() { return {\n    \"player\": [\"handlePlayerChange\"]\n  }; }\n  static get style() { return prestoYoutubeCss; }\n};\n\nconst prestoYoutubeSubscribeButtonCss = \":host{display:block}\";\n\nconst PrestoYoutubeSubscribeButton$1 = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.layout = 'default';\n  }\n  waitForApi(callback) {\n    var interval = setInterval(function () {\n      var _a;\n      if ((_a = window === null || window === void 0 ? void 0 : window.gapi) === null || _a === void 0 ? void 0 : _a.ytsubscribe) {\n        clearInterval(interval);\n        callback();\n      }\n    }, 50);\n  }\n  componentDidLoad() {\n    const po = document.createElement('script');\n    po.type = 'text/javascript';\n    po.async = false;\n    po.src = 'https://apis.google.com/js/platform.js';\n    const s = document.getElementsByTagName('script')[0];\n    s && s.parentNode.insertBefore(po, s);\n    this.waitForApi(() => {\n      window.gapi.ytsubscribe.render(this.textInput, {\n        channelId: this.channel,\n        layout: this.layout,\n        count: this.showCount ? 'default' : 'hidden',\n      });\n    });\n  }\n  render() {\n    return h(\"div\", { class: \"g-ytsubscribe\", ref: el => (this.textInput = el) });\n  }\n  static get style() { return prestoYoutubeSubscribeButtonCss; }\n};\n\nconst PrestoActionBar = /*@__PURE__*/proxyCustomElement(PrestoActionBar$1, [1,\"presto-action-bar\",{\"config\":[16],\"currentTime\":[2,\"current-time\"],\"duration\":[2],\"direction\":[1],\"youtube\":[16],\"show\":[32],\"youtubeRenderKey\":[32]}]);\nconst PrestoActionBarUi = /*@__PURE__*/proxyCustomElement(PrestoActionBarUi$1, [1,\"presto-action-bar-ui\",{\"open\":[4]}]);\nconst PrestoBunny = /*@__PURE__*/proxyCustomElement(PrestoBunny$1, [0,\"presto-bunny\",{\"getRef\":[1040],\"autoplay\":[4],\"src\":[1],\"preload\":[1],\"poster\":[1025],\"player\":[8],\"tracks\":[16],\"playsinline\":[4],\"provider\":[1],\"thumbnail\":[1],\"previewUrl\":[1,\"preview-url\"]}]);\nconst PrestoCtaOverlay = /*@__PURE__*/proxyCustomElement(PrestoCTAOverlay, [0,\"presto-cta-overlay\",{\"player\":[8],\"preset\":[16],\"videoId\":[2,\"video-id\"],\"i18n\":[16],\"currentTime\":[2,\"current-time\"],\"duration\":[2],\"direction\":[1],\"enabled\":[32],\"show\":[32],\"loading\":[32],\"error\":[32],\"skipped\":[32],\"percentagePassed\":[32],\"ended\":[32]}]);\nconst PrestoCtaOverlayUi = /*@__PURE__*/proxyCustomElement(CTAOverlayUI, [1,\"presto-cta-overlay-ui\",{\"headline\":[1],\"defaultHeadline\":[1,\"default-headline\"],\"bottomText\":[1,\"bottom-text\"],\"showButton\":[4,\"show-button\"],\"buttonText\":[1,\"button-text\"],\"buttonType\":[1,\"button-type\"],\"buttonLink\":[16],\"allowRewatch\":[4,\"allow-rewatch\"],\"allowSkip\":[4,\"allow-skip\"],\"skipText\":[1,\"skip-text\"],\"rewatchText\":[1,\"rewatch-text\"],\"direction\":[1]}]);\nconst PrestoEmailOverlay = /*@__PURE__*/proxyCustomElement(PrestoEmailOverlay$1, [0,\"presto-email-overlay\",{\"player\":[8],\"preset\":[16],\"videoId\":[2,\"video-id\"],\"i18n\":[16],\"currentTime\":[2,\"current-time\"],\"duration\":[2],\"direction\":[1],\"enabled\":[32],\"show\":[32],\"loading\":[32],\"error\":[32]}]);\nconst PrestoEmailOverlayUi = /*@__PURE__*/proxyCustomElement(EmailOverlayUI, [1,\"presto-email-overlay-ui\",{\"headline\":[1],\"defaultHeadline\":[1,\"default-headline\"],\"bottomText\":[1,\"bottom-text\"],\"buttonText\":[1,\"button-text\"],\"placeholder\":[1],\"allowSkip\":[4,\"allow-skip\"],\"borderRadius\":[2,\"border-radius\"],\"skipText\":[1,\"skip-text\"],\"isLoading\":[4,\"is-loading\"],\"errorMessage\":[1,\"error-message\"],\"direction\":[1],\"email\":[32]}]);\nconst PrestoMutedOverlay = /*@__PURE__*/proxyCustomElement(PrestoMutedOverlay$1, [0,\"presto-muted-overlay\",{\"mutedPreview\":[4,\"muted-preview\"],\"mutedOverlay\":[16]}]);\nconst PrestoPlayer = /*@__PURE__*/proxyCustomElement(PrestoPlayer$1, [1,\"presto-player\",{\"video_id\":[2],\"iconUrl\":[1,\"icon-url\"],\"src\":[1],\"bunny\":[16],\"branding\":[16],\"config\":[16],\"preset\":[16],\"chapters\":[16],\"blockAttributes\":[16],\"tracks\":[16],\"analytics\":[4],\"automations\":[4],\"provider\":[1],\"provider_video_id\":[1],\"actionBar\":[16],\"youtube\":[16],\"type\":[1],\"autoplay\":[4],\"preload\":[1],\"poster\":[1],\"playsinline\":[4],\"isAdmin\":[4,\"is-admin\"],\"direction\":[1],\"css\":[1],\"player\":[32],\"playerEl\":[32],\"shouldLazyLoad\":[32],\"mutedPreview\":[32],\"currentTime\":[32],\"duration\":[32],\"isSticky\":[32],\"videoHeight\":[32],\"playClass\":[32]},[[9,\"scroll\",\"stickyClass\"]]]);\nconst PrestoPlayerButton = /*@__PURE__*/proxyCustomElement(PrestoPlayerButton$1, [1,\"presto-player-button\",{\"type\":[513],\"size\":[513],\"full\":[516],\"disabled\":[516],\"submit\":[516],\"name\":[1],\"value\":[1],\"href\":[1],\"target\":[513],\"download\":[1],\"hasFocus\":[32],\"hasLabel\":[32],\"hasPrefix\":[32],\"hasSuffix\":[32]}]);\nconst PrestoPlayerSkeleton = /*@__PURE__*/proxyCustomElement(PrestoSkeleton, [1,\"presto-player-skeleton\",{\"effect\":[1]}]);\nconst PrestoPlayerSpinner = /*@__PURE__*/proxyCustomElement(PrestoSpinner, [1,\"presto-player-spinner\"]);\nconst PrestoVideo = /*@__PURE__*/proxyCustomElement(PrestoVideo$1, [0,\"presto-video\",{\"getRef\":[1040],\"autoplay\":[4],\"src\":[1],\"preload\":[1],\"poster\":[1],\"player\":[8],\"tracks\":[16],\"playsinline\":[4],\"provider\":[1]}]);\nconst PrestoVimeo = /*@__PURE__*/proxyCustomElement(PrestoVimeo$1, [0,\"presto-vimeo\",{\"src\":[1],\"poster\":[1],\"player\":[8],\"getRef\":[1040]}]);\nconst PrestoYoutube = /*@__PURE__*/proxyCustomElement(PrestoYoutube$1, [0,\"presto-youtube\",{\"src\":[1],\"poster\":[1025],\"lazyLoad\":[1028,\"lazy-load\"],\"player\":[8],\"getRef\":[1040],\"reloadPlayer\":[32],\"isWebView\":[32]}]);\nconst PrestoYoutubeSubscribeButton = /*@__PURE__*/proxyCustomElement(PrestoYoutubeSubscribeButton$1, [0,\"presto-youtube-subscribe-button\",{\"channel\":[1],\"layout\":[1],\"showCount\":[4,\"show-count\"]}]);\nconst defineCustomElements = (opts) => {\n  if (typeof customElements !== 'undefined') {\n    [\n      PrestoActionBar,\n  PrestoActionBarUi,\n  PrestoBunny,\n  PrestoCtaOverlay,\n  PrestoCtaOverlayUi,\n  PrestoEmailOverlay,\n  PrestoEmailOverlayUi,\n  PrestoMutedOverlay,\n  PrestoPlayer,\n  PrestoPlayerButton,\n  PrestoPlayerSkeleton,\n  PrestoPlayerSpinner,\n  PrestoVideo,\n  PrestoVimeo,\n  PrestoYoutube,\n  PrestoYoutubeSubscribeButton\n    ].forEach(cmp => {\n      if (!customElements.get(cmp.is)) {\n        customElements.define(cmp.is, cmp, opts);\n      }\n    });\n  }\n};\n\nexport { PrestoPlayer$2 as P, PrestoActionBar, PrestoActionBarUi, PrestoBunny, PrestoCtaOverlay, PrestoCtaOverlayUi, PrestoEmailOverlay, PrestoEmailOverlayUi, PrestoMutedOverlay, PrestoPlayer, PrestoPlayerButton, PrestoPlayerSkeleton, PrestoPlayerSpinner, PrestoVideo, PrestoVimeo, PrestoYoutube, PrestoYoutubeSubscribeButton, _objectSpread2$1 as _, defineCustomElements, resumeProgress as r };\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 65;","import \"../player/global.scss\";\n\nimport {\n  PrestoPlayer,\n  PrestoBunny,\n  PrestoYoutube,\n  PrestoVimeo,\n  PrestoVideo,\n  PrestoActionBar,\n  PrestoActionBarUi,\n  PrestoMutedOverlay,\n  PrestoEmailOverlay,\n  PrestoEmailOverlayUi,\n  PrestoPlayerButton,\n  PrestoYoutubeSubscribeButton,\n} from \"@presto-player/components/dist/custom-elements\";\n\n// needed\ncustomElements.define(\"presto-player\", PrestoPlayer);\n\n// could break apart into different files\ncustomElements.define(\"presto-bunny\", PrestoBunny);\ncustomElements.define(\"presto-video\", PrestoVideo);\ncustomElements.define(\"presto-vimeo\", PrestoVimeo);\ncustomElements.define(\"presto-youtube\", PrestoYoutube);\n\n// could conditionally load these in a different file maybe\n// have to see what caching plugins will do\ncustomElements.define(\"presto-email-overlay\", PrestoEmailOverlay);\ncustomElements.define(\"presto-email-overlay-ui\", PrestoEmailOverlayUi);\ncustomElements.define(\"presto-muted-overlay\", PrestoMutedOverlay);\ncustomElements.define(\"presto-action-bar\", PrestoActionBar);\ncustomElements.define(\"presto-action-bar-ui\", PrestoActionBarUi);\n\n// These only depend on action bar\ncustomElements.define(\"presto-player-button\", PrestoPlayerButton);\ncustomElements.define(\n  \"presto-youtube-subscribe-button\",\n  PrestoYoutubeSubscribeButton\n);\n"],"sourceRoot":""}