{"version":3,"sources":["webpack:///./src/admin/settings/components/Loading.js","webpack:///./src/shared/services/fetch.js","webpack:///./src/admin/analytics/components/TopUsers.js","webpack:///./src/router/utils.js","webpack:///./src/router/context.js","webpack:///./src/admin/analytics/components/TopVideos.js","webpack:///./src/admin/analytics/components/TotalViewsGraph.js","webpack:///./src/admin/analytics/util.js","webpack:///./src/admin/analytics/components/TotalWatchGraph.js","webpack:///./src/admin/analytics/components/OverviewPanel.js","webpack:///./src/admin/analytics/components/DatePicker.js","webpack:///./src/admin/analytics/pages/Dashboard.js","webpack:///./src/admin/analytics/components/VideoTimeline.js","webpack:///./src/admin/analytics/components/VideoViews.js","webpack:///./src/admin/analytics/components/VideoAverageWatchTime.js","webpack:///./src/component-library/react/src/react-component-lib/utils/case.ts","webpack:///./src/component-library/react/src/react-component-lib/utils/attachProps.ts","webpack:///./src/component-library/react/src/react-component-lib/utils/index.tsx","webpack:///./src/component-library/react/src/react-component-lib/createComponent.tsx","webpack:///./src/component-library/react/src/react-component-lib/createOverlayComponent.tsx","webpack:///./src/component-library/react/src/components.ts","webpack:///./src/admin/blocks/shared/Player.js","webpack:///./src/admin/analytics/pages/Video.js","webpack:///./src/admin/analytics/pages/illustration.js","webpack:///./src/admin/analytics/pages/AnalyticsUpgrade.js","webpack:///./src/router/route.js","webpack:///./src/router/link.js","webpack:///./src/router/index.js","webpack:///./src/admin/analytics/routes.js","webpack:///./src/admin/analytics/App.js","webpack:///./src/admin/analytics/index.js"],"names":["wp","components","Spinner","Flex","FlexItem","height","style","align","justify","apiFetch","use","createNonceMiddleware","prestoPlayer","nonce","createRootURLMiddleware","root","prestoVersionString","i18n","__","sprintf","Card","CardBody","element","useState","useEffect","useRef","props","loading","setLoading","userData","setUserData","startDate","endDate","path","url","addQueryArgs","start","toISOString","end","limit","then","data","catch","e","console","error","finally","Loading","length","size","className","role","stats","map","stat","key","title","user","id","data-title","name","aria-label","opacity","locationToRoute","location","pathname","hash","query","qs","parse","search","history","createBrowserHistory","RouterContext","createContext","route","FlexBlock","Button","ButtonGroup","total","pagination","setPagination","page","setPage","per_page","setData","hasPrevious","setHasPrevious","hasNext","setHasNext","res","headers","parseInt","get","totalPages","Math","ceil","min","max","json","video","onClick","push","marginBottom","date","color","isSecondary","disabled","totalViews","setTotalViews","series","setSeries","chart","options","toolbar","show","yaxis","labels","formatter","num","abs","sign","toFixed","colors","xaxis","type","Date","setHours","dataLabels","enabled","stroke","curve","fill","gradient","shadeIntensity","opacityFrom","opacityTo","stops","fetchViews","jQuery","param","a","forEach","item","x","date_time","y","averageTime","setAverageTime","fetchMinutes","savedSeconds","hours","minutes","seconds","out","average","parseFloat","floor","Panel","TabPanel","onSelect","tabs","tab","TotalViewsGraph","TotalWatchGraph","setStartDate","setEndDate","dateRef","inputSize","setInputSize","Litepicker","current","singleMode","format","autoApply","plugins","maxDate","numberOfMonths","buttonText","apply","cancel","dropdowns","minYear","maxYear","months","years","setup","picker","setDateRange","on","dateInstance","value","ref","match","now","DatePicker","OverviewPanel","TopUsers","TopVideos","video_id","watch_time","tickAmount","substr","views","setViews","time","setTime","camelToDashCase","str","replace","m","toLowerCase","attachProps","node","newProps","oldProps","Element","getClassName","classList","Object","keys","indexOf","toUpperCase","eventName","substring","eventNameLc","document","isCoveredByReact","syncEvent","setAttribute","newClassProp","class","oldClassProp","currentClasses","arrayToMap","incomingPropClasses","split","oldPropClasses","finalClassNames","currentClass","has","delete","s","join","eventNameSuffix","doc","isSupported","createElement","newEventHandler","eventStore","__events","oldEventHandler","removeEventListener","addEventListener","call","this","arr","Map","set","mergeRefs","refs","createReactComponent","tagName","ReactComponentContext","manipulatePropsFunction","displayName","segment","charAt","slice","ReactComponent","componentEl","componentDidUpdate","prevProps","children","forwardedRef","cProps","propsToPass","reduce","acc","setComponentElRef","React","Component","contextType","forwardRef","createForwardRef","PrestoPlayer","useSelect","src","preset","branding","attributes","adminPreview","chapters","mutedOverlay","mutedPreview","youtube","select","border_radius","caption_background","email_collection","logo_width","isAdmin","preload","bunny","thumbnail","previewThumbnail","preview","channelId","channel_id","blockAttributes","poster","provider","slot","position","width","left","focalPoint","top","transform","Disabled","Video","setVideo","setError","getVideo","params","code","VideoViews","Player","VideoAverageWatchTime","VideoTimeline","data-name","xmlns","xmlnsXlink","viewBox","x1","y1","x2","y2","gradientUnits","offset","stop-color","stop-opacity","xlinkHref","gradientTransform","clip-path","points","cx","cy","r","d","padding","background","marginLeft","href","target","useContext","Route","onRoute","matched","checkMatch","cloneElement","Router","setState","routes","unlisten","listen","handleRouteChange","state","defaultRoute","NotFound","isMatched","routerContextValue","is404","Provider","dashboard","scrollToTop","window","scrollTo","isPremium","Dashboard","AnalyticsUpgrade","render","App","getElementById"],"mappings":"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","file":"analytics/admin-d0376b5c.js","sourcesContent":["const { Spinner, Flex, FlexItem } = wp.components;\nexport default ({ height = 100 }) => {\n  return (\n    <Flex style={{ height: `${height}px` }} align=\"center\" justify=\"center\">\n      <FlexItem>\n        <Spinner />\n      </FlexItem>\n    </Flex>\n  );\n};\n","// import apiFetch from \"@wordpress/api-fetch\";\nconst { apiFetch } = wp;\n\n// nonce and root\napiFetch.use(apiFetch.createNonceMiddleware(prestoPlayer.nonce));\napiFetch.use(\n  apiFetch.createRootURLMiddleware(\n    prestoPlayer.root + prestoPlayer.prestoVersionString\n  )\n);\n\nexport default apiFetch;\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nexport default (props) => {\n  const [loading, setLoading] = useState(true);\n  const [userData, setUserData] = useState([]);\n  const { startDate, endDate } = props;\n\n  const fetchUsers = () => {\n    setLoading(true);\n    apiFetch({\n      path: wp.url.addQueryArgs(\"/presto-player/v1/analytics/top-users\", {\n        start: startDate.toISOString(),\n        end: endDate.toISOString(),\n        limit: 10,\n      }),\n    })\n      .then((data) => {\n        setUserData(data);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // fetch on mount\n  useEffect(() => {\n    fetchUsers();\n  }, [props]);\n\n  if (loading) {\n    return (\n      <Card>\n        <Loading />\n      </Card>\n    );\n  }\n\n  if (!userData.length) {\n    return (\n      <Card size=\"large\" className=\"presto-card\">\n        <CardBody className=\"presto-flow\">\n          <div className=\"presto-card__title\">\n            {__(\"Top Users\", \"presto-player\")}\n          </div>\n          <div style={{ opacity: 0.65 }}>\n            {__(\"No views.\", \"presto-player\")}\n          </div>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card size=\"large\" className=\"presto-card\">\n      <CardBody className=\"presto-flow\">\n        <div className=\"presto-card__title\">\n          {__(\"Top Users\", \"presto-player\")}\n        </div>\n        <table role=\"table\" className=\"presto-table\">\n          <thead role=\"rowgroup\">\n            <tr role=\"row\">\n              <th role=\"columnheader\">{__(\"Name\", \"presto-player\")}</th>\n              {userData[0]?.stats &&\n                userData[0]?.stats.map((stat) => {\n                  return (\n                    <th key={stat.title} role=\"columnheader\">\n                      {stat.title}\n                    </th>\n                  );\n                })}\n            </tr>\n          </thead>\n\n          <tbody role=\"rowgroup\">\n            {userData.length &&\n              userData.map((data) => {\n                return (\n                  <tr key={data?.user?.id} role=\"row\">\n                    <td role=\"cell\" data-title={__(\"Name\", \"presto-player\")}>\n                      {data?.user?.name}\n                    </td>\n                    {data?.stats.length &&\n                      data?.stats.map((stat) => {\n                        return (\n                          <td role=\"cell\" key={stat.id} aria-label={stat.title}>\n                            <div className={stat?.className}>{stat.data}</div>\n                          </td>\n                        );\n                      })}\n                  </tr>\n                );\n              })}\n          </tbody>\n        </table>\n      </CardBody>\n    </Card>\n  );\n};\n","import qs from \"querystringify\";\nexport function locationToRoute(location) {\n  // location comes from the history package\n  return {\n    path: location.pathname,\n    hash: location.hash,\n    query: qs.parse(location.search),\n  };\n}\n","import { createBrowserHistory } from \"history\";\nimport { locationToRoute } from \"./utils\";\n\nexport const history = createBrowserHistory();\nexport const RouterContext = wp.element.createContext({\n  route: locationToRoute(history.location),\n});\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody, Flex, FlexBlock, Button, ButtonGroup } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\nimport { history } from \"@/router/context\";\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nexport default (props) => {\n  const [loading, setLoading] = useState(true);\n  const [pagination, setPagination] = useState({\n    total: 0,\n    start: 0,\n    end: 0,\n  });\n  const [page, setPage] = useState(1);\n  const [per_page, setPerPage] = useState(10);\n  const [data, setData] = useState([]);\n  const [hasPrevious, setHasPrevious] = useState(false);\n  const [hasNext, setHasNext] = useState(false);\n  const { startDate, endDate } = props;\n\n  const fetchVideos = () => {\n    setLoading(true);\n    apiFetch({\n      path: wp.url.addQueryArgs(\"/presto-player/v1/analytics/top-videos\", {\n        start: startDate.toISOString(),\n        end: endDate.toISOString(),\n        page,\n        per_page,\n      }),\n      parse: false,\n    })\n      .then((res) => {\n        const total = res.headers ? parseInt(res.headers.get(\"X-WP-Total\")) : 0;\n        const totalPages = Math.ceil(total / per_page);\n        const end = Math.min(per_page * page, total);\n\n        // items per page 4\n        // times page\n        if (total) {\n          setPagination({\n            total,\n            totalPages,\n            start: Math.max(end - (per_page - 1), 1),\n            end: end,\n          });\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setData(data);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const navigate = (id) => {\n    history.push(`#/video/${id}`);\n  };\n\n  useEffect(() => {\n    fetchVideos();\n  }, [startDate, endDate, page]);\n\n  useEffect(() => {\n    setHasPrevious(page - 1 > 0);\n    setHasNext(pagination?.totalPages >= page + 1);\n  }, [pagination]);\n\n  const nextPage = () => {\n    setPage(Math.min(pagination?.totalPages, page + 1));\n  };\n  const prevPage = () => {\n    setPage(Math.max(page - 1, 0));\n  };\n\n  if (loading) {\n    return (\n      <Card size=\"large\" className=\"presto-card\">\n        <Loading />\n      </Card>\n    );\n  }\n\n  if (!data.length) {\n    return (\n      <Card size=\"large\" className=\"presto-card\">\n        <CardBody className=\"presto-flow\">\n          <div className=\"presto-card__title\">\n            {__(\"Top Videos\", \"presto-player\")}\n          </div>\n          <div style={{ opacity: 0.65 }}>\n            {__(\"No views.\", \"presto-player\")}\n          </div>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card size=\"large\" className=\"presto-card\">\n      <CardBody className=\"presto-flow\">\n        <div className=\"presto-card__title\">\n          {__(\"Top Videos\", \"presto-player\")}\n        </div>\n        <table role=\"table\" className=\"presto-table is-clickable\">\n          <thead role=\"rowgroup\">\n            <tr role=\"row\">\n              <th role=\"columnheader\">{__(\"Name\", \"presto-player\")}</th>\n              {data[0]?.stats &&\n                data[0]?.stats.map((stat) => {\n                  return (\n                    <th key={stat.title} role=\"columnheader\">\n                      {stat.title}\n                    </th>\n                  );\n                })}\n              <th role=\"columnheader\"></th>\n            </tr>\n          </thead>\n\n          <tbody role=\"rowgroup\">\n            {data.length &&\n              data.map((data) => {\n                return (\n                  <tr\n                    key={data?.video?.id}\n                    role=\"row\"\n                    onClick={() => {\n                      navigate(data?.video?.id);\n                    }}\n                  >\n                    <td role=\"cell\" data-title={__(\"Name\", \"presto-player\")}>\n                      <h3 style={{ marginBottom: 0 }}>\n                        {data?.video?.title || __(\"Untitled\", \"presto-player\")}\n                      </h3>\n                      {data?.video?.date}\n                    </td>\n                    {data?.stats.length &&\n                      data?.stats.map((stat) => {\n                        return (\n                          <td role=\"cell\" key={stat.id} aria-label={stat.title}>\n                            <div className={stat?.className}>{stat.data}</div>\n                          </td>\n                        );\n                      })}\n                    <td>\n                      <span\n                        style={{\n                          color: \"var(--wp-admin-theme-color, #007cba)\",\n                        }}\n                      >\n                        {__(\"View Details\", \"presto-player\")} &rarr;\n                      </span>\n                    </td>\n                  </tr>\n                );\n              })}\n          </tbody>\n        </table>\n        {!!pagination?.total && (\n          <Flex>\n            <FlexBlock>\n              {sprintf(\n                __(\"Showing %1s to %2s of %3s\", \"presto-player\"),\n                pagination?.start,\n                pagination?.end,\n                pagination?.total\n              )}\n            </FlexBlock>\n            <FlexBlock>\n              <Flex justify=\"flex-end\">\n                {\n                  <ButtonGroup>\n                    <Button\n                      isSecondary\n                      disabled={!hasPrevious}\n                      onClick={prevPage}\n                    >\n                      {__(\"Previous\", \"presto-player\")}\n                    </Button>\n                    <Button isSecondary disabled={!hasNext} onClick={nextPage}>\n                      {__(\"Next\", \"presto-player\")}\n                    </Button>\n                  </ButtonGroup>\n                }\n              </Flex>\n            </FlexBlock>\n          </Flex>\n        )}\n      </CardBody>\n    </Card>\n  );\n};\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nimport Chart from \"react-apexcharts\";\n\nexport default (props) => {\n  const [loading, setLoading] = useState(true);\n  const [totalViews, setTotalViews] = useState(0);\n  const { startDate, endDate } = props;\n  const [series, setSeries] = useState([\n    {\n      name: \"Views\",\n      data: [],\n    },\n  ]);\n\n  const chart = {\n    options: {\n      chart: {\n        toolbar: {\n          show: false,\n        },\n      },\n      yaxis: {\n        min: 0,\n        labels: {\n          formatter: function (num) {\n            if (num < 1) {\n              return 0;\n            }\n            return Math.abs(num) > 999\n              ? Math.sign(num) * (Math.abs(num) / 1000).toFixed(1) + \"k\"\n              : Math.sign(num) * Math.abs(num).toFixed(0);\n          },\n        },\n      },\n      colors: [\"#7c3aed\"],\n      xaxis: {\n        type: \"datetime\",\n        min: new Date(startDate).setHours(0, 0, 0, 0),\n        max: new Date(endDate).setHours(23, 59, 59, 999),\n      },\n      dataLabels: {\n        enabled: false,\n      },\n      stroke: { curve: \"smooth\" },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          shadeIntensity: 1,\n          opacityFrom: 0.7,\n          opacityTo: 0.9,\n          stops: [0, 90, 100],\n        },\n      },\n    },\n  };\n\n  // fetch only if we already mounted\n  useEffect(() => {\n    fetchViews();\n  }, [props]);\n\n  const fetchViews = () => {\n    setLoading(true);\n    apiFetch({\n      path:\n        \"/presto-player/v1/analytics/views?\" +\n        jQuery.param({\n          ...(startDate ? { start: startDate.toISOString() } : {}),\n          ...(endDate ? { end: endDate.toISOString() } : {}),\n        }),\n      parse: false,\n    })\n      .then(async (res) => {\n        setTotalViews(res.headers && res.headers.get(\"X-WP-Total\"));\n        const data = await res.json();\n\n        let series = [];\n        if (data.length) {\n          data.forEach((item) => {\n            series.push({\n              x: item.date_time,\n              y: item.total,\n            });\n          });\n        }\n        setSeries([\n          {\n            name: \"Views\",\n            data: series,\n          },\n        ]);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  if (loading) {\n    return (\n      <CardBody>\n        <Loading />\n      </CardBody>\n    );\n  }\n\n  return (\n    <CardBody className=\"presto-flow\">\n      <div className=\"presto-card__title\">\n        {sprintf(__(\"%d Unique Views\", \"presto-player\"), totalViews)}\n      </div>\n      <Chart options={chart.options} series={series} type=\"area\" height={280} />\n    </CardBody>\n  );\n};\n","const { __, sprintf } = wp.i18n;\n\nexport const humanSeconds = (savedSeconds) => {\n  const hours = Math.floor(savedSeconds / 60 / 60);\n  const minutes = Math.floor(savedSeconds / 60) - hours * 60;\n  const seconds = savedSeconds % 60;\n\n  let out = \"\";\n  if (hours) {\n    out += sprintf(__(\"%d hours\", \"presto-player\"), hours) + \", \";\n  }\n  if (minutes) {\n    out += sprintf(__(\"%d minutes\", \"presto-player\"), minutes) + \" \";\n  }\n  if ((hours || minutes) && seconds) {\n    out += __(\"and\", \"presto-player\") + \" \";\n  }\n\n  out += sprintf(__(\"%d seconds\", \"presto-player\"), seconds);\n\n  return out;\n};\n\nexport const timestamp = (seconds) => {\n  seconds = parseInt(seconds || 0) * 1000;\n  return new Date(seconds).toISOString().substr(11, 8);\n};\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\nimport { humanSeconds } from \"../util\";\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nimport Chart from \"react-apexcharts\";\n\nexport default (props) => {\n  const [loading, setLoading] = useState(true);\n  const [averageTime, setAverageTime] = useState(0);\n  const { startDate, endDate } = props;\n  const [series, setSeries] = useState([\n    {\n      name: \"Views\",\n      data: [],\n    },\n  ]);\n\n  const chart = {\n    options: {\n      chart: {\n        toolbar: {\n          show: false,\n        },\n      },\n      yaxis: {\n        labels: {\n          formatter: function (num) {\n            return Math.abs(num) > 999\n              ? Math.sign(num) * (Math.abs(num) / 1000).toFixed(1) + \"k min\"\n              : (Math.sign(num) * Math.abs(num)).toFixed(1) + \"min\";\n          },\n        },\n      },\n      colors: [\"#7c3aed\"],\n      xaxis: {\n        type: \"datetime\",\n        min: new Date(startDate).setHours(0, 0, 0, 0),\n        max: new Date(endDate).setHours(23, 59, 59, 999),\n      },\n      dataLabels: {\n        enabled: false,\n      },\n      stroke: { curve: \"smooth\" },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          shadeIntensity: 1,\n          opacityFrom: 0.7,\n          opacityTo: 0.9,\n          stops: [0, 90, 100],\n        },\n      },\n    },\n  };\n\n  // fetch only if we already mounted\n  useEffect(() => {\n    fetchMinutes();\n  }, [props]);\n\n  const fetchMinutes = () => {\n    setLoading(true);\n    apiFetch({\n      path:\n        \"/presto-player/v1/analytics/watch-time?\" +\n        jQuery.param({\n          start: startDate.toISOString(),\n          end: endDate.toISOString(),\n        }),\n      parse: false,\n    })\n      .then(async (res) => {\n        const { data, average } = await res.json();\n\n        setAverageTime(parseFloat(average));\n\n        let series = [];\n        if (data.length) {\n          data.forEach((item) => {\n            series.push({\n              x: item.date_time,\n              y: (item.total / 60).toFixed(2),\n            });\n          });\n        }\n        setSeries([\n          {\n            name: \"Watch Time\",\n            data: series,\n          },\n        ]);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  if (loading) {\n    return (\n      <CardBody>\n        <Loading />\n      </CardBody>\n    );\n  }\n\n  return (\n    <CardBody className=\"presto-flow\">\n      <div className=\"presto-card__title\">\n        {sprintf(\n          __(\"%s average watch time\", \"presto-player\"),\n          humanSeconds(averageTime)\n        )}\n      </div>\n      <Chart options={chart.options} series={series} type=\"area\" height={280} />\n    </CardBody>\n  );\n};\n","const { __ } = wp.i18n;\nconst { Panel, TabPanel } = wp.components;\n\nimport TotalViewsGraph from \"./TotalViewsGraph\";\nimport TotalWatchGraph from \"./TotalWatchGraph\";\n\nexport default ({ startDate, endDate }) => {\n  return (\n    <Panel>\n      <TabPanel\n        className=\"presto-module-tabs\"\n        onSelect={() => {}}\n        tabs={[\n          {\n            name: \"views\",\n            title: __(\"Views\", \"presto-player\"),\n          },\n          {\n            name: \"watch\",\n            title: __(\"Watch Time\", \"presto-player\"),\n          },\n        ]}\n      >\n        {(tab) => {\n          switch (tab.name) {\n            case \"views\":\n              return (\n                <TotalViewsGraph startDate={startDate} endDate={endDate} />\n              );\n            case \"watch\":\n              return (\n                <TotalWatchGraph startDate={startDate} endDate={endDate} />\n              );\n            default:\n              return <>Not Found</>;\n          }\n        }}\n      </TabPanel>\n    </Panel>\n  );\n};\n","const { __ } = wp.i18n;\nconst { useRef, useEffect, useState } = wp.element;\n\nimport Litepicker from \"litepicker\";\nimport \"litepicker/dist/plugins/ranges\";\n\nexport default ({ startDate, setStartDate, endDate, setEndDate }) => {\n  const dateRef = useRef();\n  const [inputSize, setInputSize] = useState(25);\n\n  let datepicker;\n  useEffect(() => {\n    datepicker = new Litepicker({\n      element: dateRef?.current,\n      singleMode: false,\n      format: \"MMMM D YYYY\",\n      autoApply: false,\n      plugins: [\"ranges\"],\n      maxDate: new Date(),\n      numberOfMonths: 2,\n      buttonText: {\n        apply: __(\"Apply\", \"presto-player\"),\n        cancel: __(\"Cancel\", \"presto-player\"),\n      },\n      dropdowns: {\n        minYear: 1990,\n        maxYear: null,\n        months: true,\n        years: true,\n      },\n      setup: (picker) => {\n        picker.setDateRange(startDate, endDate);\n        picker.on(\"button:apply\", (start, end) => {\n          setStartDate(start.dateInstance);\n          setEndDate(end.dateInstance);\n          setInputSize(dateRef.current.value.length);\n        });\n      },\n    });\n  }, [dateRef]);\n\n  return (\n    <div className=\"component-base-control\">\n      <div className=\"components-base-control__field\">\n        <input\n          className=\"components-text-control__input presto-settings__date-select\"\n          ref={dateRef}\n          disabled\n          size={inputSize}\n        />\n      </div>\n    </div>\n  );\n};\n","const { __ } = wp.i18n;\nconst { Flex, FlexBlock, FlexItem } = wp.components;\nconst { useState } = wp.element;\n\nimport TopUsers from \"../components/TopUsers\";\nimport TopVideos from \"../components/TopVideos\";\nimport OverviewPanel from \"../components/OverviewPanel\";\nimport DatePicker from \"../components/DatePicker\";\n\nexport default function ({ match }) {\n  const [startDate, setStartDate] = useState(\n    new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)\n  );\n  const [endDate, setEndDate] = useState(new Date());\n\n  return (\n    <>\n      <Flex>\n        <FlexBlock>\n          <h1>{__(\"Analytics\", \"presto-player\")}</h1>\n        </FlexBlock>\n        <FlexItem>\n          <DatePicker\n            startDate={startDate}\n            setStartDate={setStartDate}\n            endDate={endDate}\n            setEndDate={setEndDate}\n          />\n        </FlexItem>\n      </Flex>\n\n      <div className=\"presto-flow\">\n        <div className=\"presto-dashboard\">\n          <div className=\"presto-dashboard__row\">\n            <div className=\"presto-dashboard__item is-large\">\n              <OverviewPanel startDate={startDate} endDate={endDate} />\n              {/* <TotalViewsGraph startDate={startDate} endDate={endDate} /> */}\n            </div>\n            <div className=\"presto-dashboard__item\">\n              <TopUsers startDate={startDate} endDate={endDate} />\n            </div>\n          </div>\n\n          <div className=\"presto-dashboard__row\">\n            <div className=\"presto-dashboard__item is-large\">\n              <TopVideos startDate={startDate} endDate={endDate} />\n            </div>\n          </div>\n        </div>\n        {/* <div>\n          <TopUsers startDate={startDate} endDate={endDate} />\n        </div> */}\n      </div>\n    </>\n  );\n}\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\nimport { timestamp } from \"../util\";\n\nimport Chart from \"react-apexcharts\";\n\nexport default (props) => {\n  const { video_id, startDate, endDate } = props;\n  const [loading, setLoading] = useState(true);\n\n  const [series, setSeries] = useState([\n    {\n      name: \"Views\",\n      data: [],\n    },\n  ]);\n\n  const fetchTimeline = () => {\n    setLoading(true);\n    apiFetch({\n      path: wp.url.addQueryArgs(\n        `/presto-player/v1/analytics/video/${video_id}/timeline`,\n        {\n          start: startDate.toISOString(),\n          end: endDate.toISOString(),\n        }\n      ),\n    })\n      .then((data) => {\n        let series = [];\n        if (data.length) {\n          data.forEach((item) => {\n            // add another to them\n            series.push({\n              x: item.watch_time,\n              y: item.total,\n            });\n          });\n        }\n        setSeries([\n          {\n            name: \"Viewers\",\n            data: series,\n          },\n        ]);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchTimeline();\n  }, [startDate, endDate]);\n\n  const chart = {\n    options: {\n      chart: {\n        toolbar: {\n          show: false,\n        },\n      },\n      tickAmount: 1,\n      yaxis: {\n        labels: {\n          formatter: function (num) {\n            return parseInt(num);\n          },\n        },\n      },\n      xaxis: {\n        labels: {\n          formatter: function (num) {\n            return timestamp(num);\n          },\n        },\n      },\n      colors: [\"#7c3aed\"],\n      dataLabels: {\n        enabled: false,\n      },\n      stroke: { curve: \"smooth\" },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          shadeIntensity: 1,\n          opacityFrom: 0.7,\n          opacityTo: 0.9,\n          stops: [0, 90, 100],\n        },\n      },\n    },\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody>\n          <Loading />\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardBody>\n        <div className=\"presto-card__title\">\n          {__(\"Audience Retention\", \"presto-player\")}\n        </div>\n        <Chart\n          options={chart.options}\n          series={series}\n          type=\"area\"\n          height={280}\n        />\n      </CardBody>\n    </Card>\n  );\n};\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nexport default (props) => {\n  const { video_id, startDate, endDate } = props;\n  const [loading, setLoading] = useState(true);\n  const [views, setViews] = useState(0);\n\n  const fetchTimeline = () => {\n    setLoading(true);\n    apiFetch({\n      path: wp.url.addQueryArgs(\n        `/presto-player/v1/analytics/video/${video_id}/views`,\n        {\n          start: startDate.toISOString(),\n          end: endDate.toISOString(),\n        }\n      ),\n    })\n      .then((views) => {\n        setViews(views);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchTimeline();\n  }, [startDate, endDate]);\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody>\n          <Loading />\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"presto-player__stat-card\">\n      <CardBody>\n        <div className=\"presto-subtitle\">\n          {__(\"Unique Views\", \"presto-player\")}\n        </div>\n        <h1>{views}</h1>\n      </CardBody>\n    </Card>\n  );\n};\n","const { __, sprintf } = wp.i18n;\nconst { Card, CardBody } = wp.components;\nconst { useState, useEffect, useRef } = wp.element;\n\nimport Loading from \"@/admin/settings/components/Loading\";\nimport apiFetch from \"@/shared/services/fetch\";\n\nexport default (props) => {\n  const { video_id, startDate, endDate } = props;\n  const [loading, setLoading] = useState(true);\n  const [time, setTime] = useState(0);\n\n  const fetchWatchTime = () => {\n    setLoading(true);\n    apiFetch({\n      path: wp.url.addQueryArgs(\n        `/presto-player/v1/analytics/video/${video_id}/average-watchtime`,\n        {\n          start: startDate.toISOString(),\n          end: endDate.toISOString(),\n        }\n      ),\n    })\n      .then((time) => {\n        setTime(time);\n      })\n      .catch((e) => {\n        console.error(e);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchWatchTime();\n  }, [startDate, endDate]);\n\n  if (loading) {\n    return (\n      <Card>\n        <CardBody>\n          <Loading />\n        </CardBody>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"presto-player__stat-card\">\n      <CardBody>\n        <div className=\"presto-subtitle\">\n          {__(\"Average Watch Time\", \"presto-player\")}\n        </div>\n        <h1>{parseInt(time)}</h1>\n        <div>{__(\"seconds\", \"presto-player\")}</div>\n      </CardBody>\n    </Card>\n  );\n};\n","export const dashToPascalCase = (str: string) =>\n  str\n    .toLowerCase()\n    .split('-')\n    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join('');\nexport const camelToDashCase = (str: string) =>\n  str.replace(/([A-Z])/g, (m: string) => `-${m[0].toLowerCase()}`);\n","import { camelToDashCase } from './case';\n\nexport const attachProps = (node: HTMLElement, newProps: any, oldProps: any = {}) => {\n  // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n  if (node instanceof Element) {\n    // add any classes in className to the class list\n    const className = getClassName(node.classList, newProps, oldProps);\n    if (className !== '') {\n      node.className = className;\n    }\n\n    Object.keys(newProps).forEach((name) => {\n      if (\n        name === 'children' ||\n        name === 'style' ||\n        name === 'ref' ||\n        name === 'class' ||\n        name === 'className' ||\n        name === 'forwardedRef'\n      ) {\n        return;\n      }\n      if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n        const eventName = name.substring(2);\n        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n\n        if (typeof document !== 'undefined' && !isCoveredByReact(eventNameLc, document)) {\n          syncEvent(node, eventNameLc, newProps[name]);\n        }\n      } else {\n        (node as any)[name] = newProps[name];\n        const propType = typeof newProps[name];\n        if (propType === 'string') {\n          node.setAttribute(camelToDashCase(name), newProps[name]);\n        } else {\n          (node as any)[name] = newProps[name];\n        }\n      }\n    });\n  }\n};\n\nexport const getClassName = (classList: DOMTokenList, newProps: any, oldProps: any) => {\n  const newClassProp: string = newProps.className || newProps.class;\n  const oldClassProp: string = oldProps.className || oldProps.class;\n  // map the classes to Maps for performance\n  const currentClasses = arrayToMap(classList);\n  const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n  const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n  const finalClassNames: string[] = [];\n  // loop through each of the current classes on the component\n  // to see if it should be a part of the classNames added\n  currentClasses.forEach((currentClass) => {\n    if (incomingPropClasses.has(currentClass)) {\n      // add it as its already included in classnames coming in from newProps\n      finalClassNames.push(currentClass);\n      incomingPropClasses.delete(currentClass);\n    } else if (!oldPropClasses.has(currentClass)) {\n      // add it as it has NOT been removed by user\n      finalClassNames.push(currentClass);\n    }\n  });\n  incomingPropClasses.forEach((s) => finalClassNames.push(s));\n  return finalClassNames.join(' ');\n};\n\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nexport const isCoveredByReact = (eventNameSuffix: string, doc: Document) => {\n  const eventName = 'on' + eventNameSuffix;\n  let isSupported = eventName in doc;\n\n  if (!isSupported) {\n    const element = doc.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof (element as any)[eventName] === 'function';\n  }\n\n  return isSupported;\n};\n\nexport const syncEvent = (\n  node: Element & { __events?: { [key: string]: ((e: Event) => any) | undefined } },\n  eventName: string,\n  newEventHandler?: (e: Event) => any,\n) => {\n  const eventStore = node.__events || (node.__events = {});\n  const oldEventHandler = eventStore[eventName];\n\n  // Remove old listener so they don't double up.\n  if (oldEventHandler) {\n    node.removeEventListener(eventName, oldEventHandler);\n  }\n\n  // Bind new listener.\n  node.addEventListener(\n    eventName,\n    (eventStore[eventName] = function handler(e: Event) {\n      if (newEventHandler) {\n        newEventHandler.call(this, e);\n      }\n    }),\n  );\n};\n\nconst arrayToMap = (arr: string[] | DOMTokenList) => {\n  const map = new Map<string, string>();\n  (arr as string[]).forEach((s: string) => map.set(s, s));\n  return map;\n};\n","import React from 'react';\n\nimport type { StyleReactProps } from '../interfaces';\n\ntype Mutable<T> = { -readonly [P in keyof T]-?: T[P] }; // Remove readonly and ?\n\nexport type StencilReactExternalProps<PropType, ElementType> = PropType &\n  Omit<React.HTMLAttributes<ElementType>, 'style'> &\n  StyleReactProps;\n\n// The comma in the type is to trick typescript because it things a single generic in a tsx file is jsx\nexport const mergeRefs = <ElementType,>(...refs: React.Ref<ElementType>[]) => (\n  value: ElementType,\n) =>\n  refs.forEach((ref) => {\n    if (typeof ref === 'function') {\n      ref(value);\n    } else if (ref != null) {\n      // This is typed as readonly so we need to allow for override\n      (ref as Mutable<React.RefObject<ElementType>>).current = value;\n    }\n  });\n\nexport const createForwardRef = <PropType, ElementType>(\n  ReactComponent: any,\n  displayName: string,\n) => {\n  const forwardRef = (\n    props: StencilReactExternalProps<PropType, ElementType>,\n    ref: React.Ref<ElementType>,\n  ) => {\n    return <ReactComponent {...props} forwardedRef={ref} />;\n  };\n  forwardRef.displayName = displayName;\n\n  return React.forwardRef(forwardRef);\n};\n\nexport * from './attachProps';\nexport * from './case';\n","import React from 'react';\n\nimport {\n  attachProps,\n  createForwardRef,\n  dashToPascalCase,\n  isCoveredByReact,\n  mergeRefs,\n} from './utils';\n\nexport interface HTMLStencilElement extends HTMLElement {\n  componentOnReady(): Promise<this>;\n}\n\ninterface StencilReactInternalProps<ElementType> extends React.HTMLAttributes<ElementType> {\n  forwardedRef: React.RefObject<ElementType>;\n  ref?: React.Ref<any>;\n}\n\nexport const createReactComponent = <\n  PropType,\n  ElementType extends HTMLStencilElement,\n  ContextStateType = {},\n  ExpandedPropsTypes = {}\n>(\n  tagName: string,\n  ReactComponentContext?: React.Context<ContextStateType>,\n  manipulatePropsFunction?: (\n    originalProps: StencilReactInternalProps<ElementType>,\n    propsToPass: any,\n  ) => ExpandedPropsTypes,\n) => {\n  const displayName = dashToPascalCase(tagName);\n\n  const ReactComponent = class extends React.Component<StencilReactInternalProps<ElementType>> {\n    componentEl!: ElementType;\n\n    setComponentElRef = (element: ElementType) => {\n      this.componentEl = element;\n    };\n\n    constructor(props: StencilReactInternalProps<ElementType>) {\n      super(props);\n    }\n\n    componentDidMount() {\n      this.componentDidUpdate(this.props);\n    }\n\n    componentDidUpdate(prevProps: StencilReactInternalProps<ElementType>) {\n      attachProps(this.componentEl, this.props, prevProps);\n    }\n\n    render() {\n      const { children, forwardedRef, style, className, ref, ...cProps } = this.props;\n\n      let propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n          if (typeof document !== 'undefined' && isCoveredByReact(eventName, document)) {\n            (acc as any)[name] = (cProps as any)[name];\n          }\n        } else {\n          (acc as any)[name] = (cProps as any)[name];\n        }\n        return acc;\n      }, {});\n\n      if (manipulatePropsFunction) {\n        propsToPass = manipulatePropsFunction(this.props, propsToPass);\n      }\n\n      let newProps: Omit<StencilReactInternalProps<ElementType>, 'forwardedRef'> = {\n        ...propsToPass,\n        ref: mergeRefs(forwardedRef, this.setComponentElRef),\n        style,\n      };\n\n      return React.createElement(tagName, newProps, children);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n  };\n\n  // If context was passed to createReactComponent then conditionally add it to the Component Class\n  if (ReactComponentContext) {\n    ReactComponent.contextType = ReactComponentContext;\n  }\n\n  return createForwardRef<PropType, ElementType>(ReactComponent, displayName);\n};\n","import { OverlayEventDetail } from './interfaces';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { attachProps } from './utils';\n\ninterface OverlayElement extends HTMLElement {\n  present: () => Promise<void>;\n  dismiss: (data?: any, role?: string | undefined) => Promise<boolean>;\n}\n\nexport interface ReactOverlayProps {\n  children?: React.ReactNode;\n  isOpen: boolean;\n  onDidDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onDidPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillDismiss?: (event: CustomEvent<OverlayEventDetail>) => void;\n  onWillPresent?: (event: CustomEvent<OverlayEventDetail>) => void;\n}\n\nexport const createOverlayComponent = <\n  OverlayComponent extends object,\n  OverlayType extends OverlayElement\n>(\n  displayName: string,\n  controller: { create: (options: any) => Promise<OverlayType> },\n) => {\n  const didDismissEventName = `on${displayName}DidDismiss`;\n  const didPresentEventName = `on${displayName}DidPresent`;\n  const willDismissEventName = `on${displayName}WillDismiss`;\n  const willPresentEventName = `on${displayName}WillPresent`;\n\n  type Props = OverlayComponent &\n    ReactOverlayProps & {\n      forwardedRef?: React.RefObject<OverlayType>;\n    };\n\n  class Overlay extends React.Component<Props> {\n    overlay?: OverlayType;\n    el: HTMLDivElement;\n\n    constructor(props: Props) {\n      super(props);\n      this.el = document.createElement('div');\n      this.handleDismiss = this.handleDismiss.bind(this);\n    }\n\n    static get displayName() {\n      return displayName;\n    }\n\n    componentDidMount() {\n      if (this.props.isOpen) {\n        this.present();\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.overlay) {\n        this.overlay.dismiss();\n      }\n    }\n\n    handleDismiss(event: CustomEvent<OverlayEventDetail<any>>) {\n      if (this.props.onDidDismiss) {\n        this.props.onDidDismiss(event);\n      }\n      if (this.props.forwardedRef) {\n        (this.props.forwardedRef as any).current = undefined;\n      }\n    }\n\n    async componentDidUpdate(prevProps: Props) {\n      if (this.overlay) {\n        attachProps(this.overlay, this.props, prevProps);\n      }\n\n      if (prevProps.isOpen !== this.props.isOpen && this.props.isOpen === true) {\n        this.present(prevProps);\n      }\n      if (this.overlay && prevProps.isOpen !== this.props.isOpen && this.props.isOpen === false) {\n        await this.overlay.dismiss();\n      }\n    }\n\n    async present(prevProps?: Props) {\n      const {\n        children,\n        isOpen,\n        onDidDismiss,\n        onDidPresent,\n        onWillDismiss,\n        onWillPresent,\n        ...cProps\n      } = this.props;\n      const elementProps = {\n        ...cProps,\n        ref: this.props.forwardedRef,\n        [didDismissEventName]: this.handleDismiss,\n        [didPresentEventName]: (e: CustomEvent) =>\n          this.props.onDidPresent && this.props.onDidPresent(e),\n        [willDismissEventName]: (e: CustomEvent) =>\n          this.props.onWillDismiss && this.props.onWillDismiss(e),\n        [willPresentEventName]: (e: CustomEvent) =>\n          this.props.onWillPresent && this.props.onWillPresent(e),\n      };\n\n      this.overlay = await controller.create({\n        ...elementProps,\n        component: this.el,\n        componentProps: {},\n      });\n\n      if (this.props.forwardedRef) {\n        (this.props.forwardedRef as any).current = this.overlay;\n      }\n\n      attachProps(this.overlay, elementProps, prevProps);\n\n      await this.overlay.present();\n    }\n\n    render() {\n      return ReactDOM.createPortal(this.props.isOpen ? this.props.children : null, this.el);\n    }\n  }\n\n  return React.forwardRef<OverlayType, Props>((props, ref) => {\n    return <Overlay {...props} forwardedRef={ref} />;\n  });\n};\n","/* eslint-disable */\n/* tslint:disable */\n/* auto-generated react proxies */\nimport { createReactComponent } from './react-component-lib';\n\nimport type { JSX } from 'component-library';\n\n\n\nexport const PrestoActionBar = /*@__PURE__*/createReactComponent<JSX.PrestoActionBar, HTMLPrestoActionBarElement>('presto-action-bar');\nexport const PrestoActionBarUi = /*@__PURE__*/createReactComponent<JSX.PrestoActionBarUi, HTMLPrestoActionBarUiElement>('presto-action-bar-ui');\nexport const PrestoBunny = /*@__PURE__*/createReactComponent<JSX.PrestoBunny, HTMLPrestoBunnyElement>('presto-bunny');\nexport const PrestoEmailOverlay = /*@__PURE__*/createReactComponent<JSX.PrestoEmailOverlay, HTMLPrestoEmailOverlayElement>('presto-email-overlay');\nexport const PrestoEmailOverlayUi = /*@__PURE__*/createReactComponent<JSX.PrestoEmailOverlayUi, HTMLPrestoEmailOverlayUiElement>('presto-email-overlay-ui');\nexport const PrestoMutedOverlay = /*@__PURE__*/createReactComponent<JSX.PrestoMutedOverlay, HTMLPrestoMutedOverlayElement>('presto-muted-overlay');\nexport const PrestoPlayer = /*@__PURE__*/createReactComponent<JSX.PrestoPlayer, HTMLPrestoPlayerElement>('presto-player');\nexport const PrestoPlayerButton = /*@__PURE__*/createReactComponent<JSX.PrestoPlayerButton, HTMLPrestoPlayerButtonElement>('presto-player-button');\nexport const PrestoPlayerSkeleton = /*@__PURE__*/createReactComponent<JSX.PrestoPlayerSkeleton, HTMLPrestoPlayerSkeletonElement>('presto-player-skeleton');\nexport const PrestoPlayerSpinner = /*@__PURE__*/createReactComponent<JSX.PrestoPlayerSpinner, HTMLPrestoPlayerSpinnerElement>('presto-player-spinner');\nexport const PrestoVideo = /*@__PURE__*/createReactComponent<JSX.PrestoVideo, HTMLPrestoVideoElement>('presto-video');\nexport const PrestoVimeo = /*@__PURE__*/createReactComponent<JSX.PrestoVimeo, HTMLPrestoVimeoElement>('presto-vimeo');\nexport const PrestoYoutube = /*@__PURE__*/createReactComponent<JSX.PrestoYoutube, HTMLPrestoYoutubeElement>('presto-youtube');\nexport const PrestoYoutubeSubscribeButton = /*@__PURE__*/createReactComponent<JSX.PrestoYoutubeSubscribeButton, HTMLPrestoYoutubeSubscribeButtonElement>('presto-youtube-subscribe-button');\n","import { PrestoPlayer } from \"@/component-library/react/src/components\";\n\nconst { useSelect } = wp.data;\n\nexport default ({ src, preset, branding, attributes, adminPreview, type }) => {\n  const { chapters, mutedOverlay, mutedPreview } = attributes;\n\n  const youtube = useSelect((select) => {\n    return select(\"presto-player/player\")?.youtube();\n  });\n\n  const mutedOverlayContent = () => {\n    return (\n      <div\n        className=\"presto-player__overlay is-image\"\n        style={{\n          position: \"absolute\",\n          width: `${mutedOverlay?.width || 100}%`,\n          left: `${(mutedOverlay?.focalPoint?.x || 0.5) * 100}%`,\n          top: `${(mutedOverlay?.focalPoint?.y || 0.5) * 100}%`,\n        }}\n      >\n        <img\n          src={mutedOverlay?.src}\n          style={{\n            transform: \"translateX(-50%) translateY(-50%)\",\n          }}\n        />\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"wp-block-video presto-block-video\"\n      style={{\n        \"--presto-player-border-radius\": `${preset?.border_radius}px`,\n        ...(preset?.caption_background\n          ? { \"--plyr-captions-background\": preset.caption_background }\n          : {}),\n        ...(branding?.color ? { \"--plyr-color-main\": branding.color } : {}),\n        \"--presto-player-email-border-radius\": `${\n          preset?.email_collection?.border_radius || 0\n        }px`,\n        \"--presto-player-logo-width\": `${branding?.logo_width || 75}px`,\n      }}\n    >\n      <PrestoPlayer\n        src={src}\n        isAdmin={true}\n        preload=\"metadata\"\n        preset={preset}\n        bunny={{\n          thumbnail: attributes?.previewThumbnail,\n          preview: attributes?.preview,\n        }}\n        youtube={{\n          channelId: youtube?.channel_id,\n        }}\n        branding={branding}\n        chapters={chapters}\n        blockAttributes={attributes}\n        poster={attributes.poster}\n        provider={type}\n      >\n        <div slot=\"player-end\">\n          {mutedPreview?.enabled &&\n            mutedOverlay?.enabled &&\n            mutedOverlayContent()}\n          {adminPreview}\n        </div>\n      </PrestoPlayer>\n    </div>\n  );\n};\n","const { __ } = wp.i18n;\n\nconst { Flex, FlexBlock, FlexItem, Spinner, Button, Disabled, CardBody } =\n  wp.components;\n\nimport { history } from \"@/router/context\";\nconst { useEffect, useState } = wp.element;\nconst { apiFetch } = wp;\nimport VideoTimeline from \"../components/VideoTimeline\";\nimport VideoViews from \"../components/VideoViews\";\nimport VideoAverageWatchTime from \"../components/VideoAverageWatchTime\";\nimport DatePicker from \"../components/DatePicker\";\nimport Player from \"@/admin/blocks/shared/Player\";\n\nconst Video = ({ route }) => {\n  const [loading, setLoading] = useState(true);\n  const [video, setVideo] = useState({});\n  const [startDate, setStartDate] = useState(\n    new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)\n  );\n  const [endDate, setEndDate] = useState(new Date());\n  const [error, setError] = useState(\"\");\n\n  const back = () => {\n    history.push(`#/`);\n  };\n\n  const getVideo = async () => {\n    setLoading(true);\n    try {\n      let video = await apiFetch({\n        url: `${prestoPlayer?.root}${prestoPlayer?.prestoVersionString}videos/${route?.params?.id}`,\n      });\n\n      setVideo(video);\n    } catch (e) {\n      if (e.code === \"rest_no_route\") {\n        setError(\"Video Not Found\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getVideo();\n  }, []);\n\n  if (error) {\n    return (\n      <div className=\"presto-flow\">\n        <Flex>\n          <FlexBlock>\n            <h2>{error}</h2>\n          </FlexBlock>\n        </Flex>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"presto-flow\">\n      <Flex>\n        <FlexBlock>\n          <Button isSecondary onClick={back}>\n            &larr; {__(\"Back to Dashboard\", \"presto-player\")}\n          </Button>\n        </FlexBlock>\n      </Flex>\n      <Flex>\n        <FlexBlock>\n          {loading ? (\n            <Spinner />\n          ) : (\n            <h1 className=\"presto-dashboard__title\">{video?.title}</h1>\n          )}\n        </FlexBlock>\n        <FlexItem>\n          <DatePicker\n            startDate={startDate}\n            setStartDate={setStartDate}\n            endDate={endDate}\n            setEndDate={setEndDate}\n          />\n        </FlexItem>\n      </Flex>\n\n      <div className=\"presto-dashboard presto-flow\">\n        <div className=\"presto-dashboard__row\">\n          <div className=\"presto-dashboard__item is-large\">\n            <VideoViews\n              video_id={route?.params?.id}\n              startDate={startDate}\n              endDate={endDate}\n            />\n          </div>\n          <div className=\"presto-dashboard__item\">\n            {!!Object.keys(video || {}).length && (\n              <Player\n                src={video?.src}\n                attributes={{}}\n                type={video?.type}\n                preset={{\n                  \"play-large\": true,\n                }}\n              />\n            )}\n          </div>\n          <div className=\"presto-dashboard__item\">\n            <VideoAverageWatchTime\n              video_id={route?.params?.id}\n              startDate={startDate}\n              endDate={endDate}\n            />\n          </div>\n        </div>\n        <div className=\"presto-dashboard__row\">\n          <div className=\"presto-dashboard__item is-large\">\n            <VideoTimeline\n              video_id={route?.params?.id}\n              startDate={startDate}\n              endDate={endDate}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n","export default ({ width, height }) => {\n  return (\n    <svg\n      id=\"e8f68bdd-4984-4f2e-95b7-7fc8ec281257\"\n      data-name=\"Layer 1\"\n      width={width}\n      height={height}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 918.14 765.54\"\n    >\n      <defs>\n        <linearGradient\n          id=\"27aa7b70-b106-4a00-be67-693c8380e41d\"\n          x1=\"397.74\"\n          y1=\"717.25\"\n          x2=\"397.74\"\n          y2=\"86.11\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\"0\" stop-color=\"gray\" stop-opacity=\"0.25\" />\n          <stop offset=\"0.54\" stop-color=\"gray\" stop-opacity=\"0.12\" />\n          <stop offset=\"1\" stop-color=\"gray\" stop-opacity=\"0.1\" />\n        </linearGradient>\n        <linearGradient\n          id=\"46a816da-c484-41ec-8a6f-fbf14454d910\"\n          x1=\"288.88\"\n          y1=\"378.44\"\n          x2=\"288.88\"\n          y2=\"209.65\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"32b634d8-28f1-48d9-a868-f602a2cad942\"\n          x1=\"288.88\"\n          y1=\"328.29\"\n          x2=\"288.88\"\n          y2=\"223.1\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <clipPath\n          id=\"7a4c6aff-0be0-461b-a111-b3ae1b8fbf73\"\n          transform=\"translate(-140.93 -67.23)\"\n        >\n          <rect\n            id=\"8cc91f6d-19b0-43cc-9c18-2faa83ac34ba\"\n            data-name=\"&lt;Rectangle&gt;\"\n            x=\"354.51\"\n            y=\"291.55\"\n            width=\"150.6\"\n            height=\"101.52\"\n            fill=\"#fff\"\n          />\n        </clipPath>\n        <linearGradient\n          id=\"38f1cb81-8fac-4205-a0ff-a33ac00d354c\"\n          x1=\"288.88\"\n          y1=\"594.94\"\n          x2=\"288.88\"\n          y2=\"426.14\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"6fc01aaf-135e-403e-a209-43b2a4fe59f1\"\n          x1=\"288.88\"\n          y1=\"544.79\"\n          x2=\"288.88\"\n          y2=\"439.6\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <clipPath\n          id=\"79ce363a-d134-40e4-9f82-b96d04a36978\"\n          transform=\"translate(-140.93 -67.23)\"\n        >\n          <rect\n            id=\"5b44e697-61fe-43bd-9a58-5f3e41301748\"\n            data-name=\"&lt;Rectangle&gt;\"\n            x=\"354.51\"\n            y=\"508.05\"\n            width=\"150.6\"\n            height=\"101.52\"\n            fill=\"#fff\"\n          />\n        </clipPath>\n        <linearGradient\n          id=\"54803c44-522d-4b9e-9a34-f1f7b43e8483\"\n          x1=\"671.57\"\n          y1=\"760.34\"\n          x2=\"671.57\"\n          y2=\"129.2\"\n          gradientTransform=\"translate(1109.43 -194.1) rotate(90)\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"089a6a47-adaa-499b-aefb-cd6464b62fb8\"\n          x1=\"670.96\"\n          y1=\"553.63\"\n          x2=\"670.96\"\n          y2=\"387.28\"\n          gradientTransform=\"translate(1129.51 -168.41) rotate(90)\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"fd8d88e0-7826-450d-9e0b-001d1be709c2\"\n          x1=\"637.66\"\n          y1=\"754.12\"\n          x2=\"637.66\"\n          y2=\"601.05\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"8d1793c5-b76e-44e2-a52e-569460402331\"\n          x1=\"778.37\"\n          y1=\"673.86\"\n          x2=\"778.37\"\n          y2=\"569.13\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n        <linearGradient\n          id=\"4745700d-8097-45ff-9f71-625443fc4ad8\"\n          x1=\"778.37\"\n          y1=\"774.41\"\n          x2=\"778.37\"\n          y2=\"713.66\"\n          xlinkHref=\"#27aa7b70-b106-4a00-be67-693c8380e41d\"\n        />\n      </defs>\n      <title>secure data</title>\n      <g opacity=\"0.5\">\n        <rect\n          x=\"162.9\"\n          y=\"86.11\"\n          width=\"469.69\"\n          height=\"631.14\"\n          fill=\"url(#27aa7b70-b106-4a00-be67-693c8380e41d)\"\n        />\n      </g>\n      <rect\n        x=\"169.02\"\n        y=\"94.67\"\n        width=\"455.01\"\n        height=\"609.12\"\n        fill=\"#f2f2f2\"\n      />\n      <rect x=\"204.49\" y=\"120.36\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect\n        x=\"204.49\"\n        y=\"142.37\"\n        width=\"156.56\"\n        height=\"4.89\"\n        fill=\"#6c63ff\"\n        opacity=\"0.7\"\n      />\n      <rect x=\"384.29\" y=\"120.36\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"408.75\" y=\"259.8\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"412.42\" y=\"273.25\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"419.76\" y=\"286.7\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"408.75\" y=\"476.29\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"412.42\" y=\"489.75\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <rect x=\"419.76\" y=\"503.2\" width=\"156.56\" height=\"4.89\" fill=\"#e0e0e0\" />\n      <g opacity=\"0.5\">\n        <rect\n          x=\"205.71\"\n          y=\"209.65\"\n          width=\"166.35\"\n          height=\"168.79\"\n          fill=\"url(#46a816da-c484-41ec-8a6f-fbf14454d910)\"\n        />\n      </g>\n      <rect\n        x=\"206.76\"\n        y=\"213.32\"\n        width=\"163.72\"\n        height=\"161.45\"\n        fill=\"#f5f5f5\"\n      />\n      <g opacity=\"0.5\">\n        <rect\n          x=\"212.53\"\n          y=\"223.1\"\n          width=\"152.7\"\n          height=\"105.19\"\n          fill=\"url(#32b634d8-28f1-48d9-a868-f602a2cad942)\"\n        />\n      </g>\n      <rect\n        id=\"689f37f3-cc41-448d-b172-63ec123bc985\"\n        data-name=\"&lt;Rectangle&gt;\"\n        x=\"213.58\"\n        y=\"224.32\"\n        width=\"150.6\"\n        height=\"101.52\"\n        fill=\"#fff\"\n      />\n      <g clip-path=\"url(#7a4c6aff-0be0-461b-a111-b3ae1b8fbf73)\">\n        <polygon\n          points=\"200.82 322.18 238.74 263.46 254.64 289.15 288.88 253.68 318.24 289.15 343.93 236.56 409.98 341.75 195.93 334.41 200.82 322.18\"\n          fill=\"#6c63ff\"\n          opacity=\"0.4\"\n        />\n        <circle cx=\"230.17\" cy=\"239\" r=\"11.01\" fill=\"#6c63ff\" opacity=\"0.4\" />\n      </g>\n      <g opacity=\"0.5\">\n        <rect\n          x=\"205.71\"\n          y=\"426.14\"\n          width=\"166.35\"\n          height=\"168.79\"\n          fill=\"url(#38f1cb81-8fac-4205-a0ff-a33ac00d354c)\"\n        />\n      </g>\n      <rect\n        x=\"206.76\"\n        y=\"429.81\"\n        width=\"163.72\"\n        height=\"161.45\"\n        fill=\"#f5f5f5\"\n      />\n      <g opacity=\"0.5\">\n        <rect\n          x=\"212.53\"\n          y=\"439.6\"\n          width=\"152.7\"\n          height=\"105.19\"\n          fill=\"url(#6fc01aaf-135e-403e-a209-43b2a4fe59f1)\"\n        />\n      </g>\n      <rect\n        id=\"b429ac3a-f8a8-4171-bcce-5b6c002c0714\"\n        data-name=\"&lt;Rectangle&gt;\"\n        x=\"213.58\"\n        y=\"440.82\"\n        width=\"150.6\"\n        height=\"101.52\"\n        fill=\"#fff\"\n      />\n      <g clip-path=\"url(#79ce363a-d134-40e4-9f82-b96d04a36978)\">\n        <polygon\n          points=\"200.82 538.67 238.74 479.96 254.64 505.65 288.88 470.18 318.24 505.65 343.93 453.05 409.98 558.24 195.93 550.9 200.82 538.67\"\n          fill=\"#bdbdbd\"\n          opacity=\"0.4\"\n        />\n        <circle cx=\"230.17\" cy=\"455.5\" r=\"11.01\" fill=\"#bdbdbd\" opacity=\"0.4\" />\n      </g>\n      <g opacity=\"0.5\">\n        <rect\n          x=\"349.09\"\n          y=\"242.63\"\n          width=\"631.14\"\n          height=\"469.69\"\n          transform=\"translate(-74.16 969.06) rotate(-78.76)\"\n          fill=\"url(#54803c44-522d-4b9e-9a34-f1f7b43e8483)\"\n        />\n      </g>\n      <rect\n        x=\"359.37\"\n        y=\"247.33\"\n        width=\"609.12\"\n        height=\"455.01\"\n        transform=\"translate(-72.16 966.22) rotate(-78.76)\"\n        fill=\"#fff\"\n      />\n      <rect\n        x=\"523.5\"\n        y=\"197.22\"\n        width=\"322.91\"\n        height=\"4.89\"\n        transform=\"translate(-88.86 -196.94) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <rect\n        x=\"433.36\"\n        y=\"650.7\"\n        width=\"322.91\"\n        height=\"4.89\"\n        transform=\"translate(-2.18 -170.66) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <rect\n        x=\"428.58\"\n        y=\"671.14\"\n        width=\"249.52\"\n        height=\"4.89\"\n        transform=\"translate(1.01 -162.18) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <rect\n        x=\"424.6\"\n        y=\"683.47\"\n        width=\"92.96\"\n        height=\"4.89\"\n        transform=\"translate(1.84 -145.91) rotate(11.24)\"\n        fill=\"#6c63ff\"\n        opacity=\"0.7\"\n      />\n      <rect\n        x=\"519.57\"\n        y=\"209.08\"\n        width=\"161.45\"\n        height=\"4.89\"\n        transform=\"translate(-88.17 -180.2) rotate(11.24)\"\n        fill=\"#6c63ff\"\n        opacity=\"0.7\"\n      />\n      <rect\n        x=\"512.84\"\n        y=\"249.31\"\n        width=\"291.11\"\n        height=\"4.89\"\n        transform=\"translate(-79.21 -190.76) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <rect\n        x=\"509.47\"\n        y=\"255.44\"\n        width=\"70.94\"\n        height=\"4.89\"\n        transform=\"translate(-80.19 -168.52) rotate(11.24)\"\n        fill=\"#3ad29f\"\n        opacity=\"0.7\"\n      />\n      <rect\n        x=\"501.56\"\n        y=\"307.59\"\n        width=\"322.91\"\n        height=\"4.89\"\n        transform=\"translate(-67.76 -190.54) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <g opacity=\"0.5\">\n        <rect\n          x=\"575.87\"\n          y=\"357.6\"\n          width=\"166.35\"\n          height=\"289.88\"\n          transform=\"translate(-103.27 983.74) rotate(-78.76)\"\n          fill=\"url(#089a6a47-adaa-499b-aefb-cd6464b62fb8)\"\n        />\n      </g>\n      <rect\n        x=\"516.06\"\n        y=\"420.61\"\n        width=\"286.22\"\n        height=\"162.68\"\n        transform=\"translate(-30.42 -186.11) rotate(11.24)\"\n        fill=\"#fff\"\n      />\n      <rect\n        x=\"496.08\"\n        y=\"335.18\"\n        width=\"322.91\"\n        height=\"4.89\"\n        transform=\"translate(-62.49 -188.94) rotate(11.24)\"\n        fill=\"#e0e0e0\"\n      />\n      <rect\n        x=\"547.86\"\n        y=\"424.02\"\n        width=\"35.47\"\n        height=\"118.64\"\n        transform=\"translate(-35.84 -168.22) rotate(11.24)\"\n        fill=\"#6c63ff\"\n      />\n      <rect\n        x=\"606.43\"\n        y=\"475.19\"\n        width=\"35.47\"\n        height=\"79.5\"\n        transform=\"translate(-28.56 -179.03) rotate(11.24)\"\n        fill=\"#3ad29f\"\n      />\n      <rect\n        x=\"665.23\"\n        y=\"523.93\"\n        width=\"35.47\"\n        height=\"42.81\"\n        transform=\"translate(-21.5 -189.92) rotate(11.24)\"\n        fill=\"#f55f44\"\n      />\n      <rect\n        x=\"731.91\"\n        y=\"492.72\"\n        width=\"35.47\"\n        height=\"86.84\"\n        transform=\"translate(-22.02 -203.09) rotate(11.24)\"\n        fill=\"#fdd835\"\n      />\n      <g opacity=\"0.5\">\n        <rect\n          x=\"128.65\"\n          y=\"645.09\"\n          width=\"3.67\"\n          height=\"20.79\"\n          fill=\"#47e6b1\"\n        />\n        <rect\n          x=\"269.58\"\n          y=\"712.31\"\n          width=\"3.67\"\n          height=\"20.79\"\n          transform=\"translate(853.2 384.07) rotate(90)\"\n          fill=\"#47e6b1\"\n        />\n      </g>\n      <path\n        d=\"M699.44,75.56a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,699.44,75.56Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"#4d8af0\"\n        opacity=\"0.5\"\n      />\n      <path\n        d=\"M286.33,179.4a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,286.33,179.4Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"#fdd835\"\n        opacity=\"0.5\"\n      />\n      <path\n        d=\"M253.63,484.46a4.49,4.49,0,0,1-2.5-5.43,2.16,2.16,0,0,0,.1-.5h0a2.25,2.25,0,0,0-4-1.49h0a2.16,2.16,0,0,0-.25.44,4.49,4.49,0,0,1-5.43,2.5,2.16,2.16,0,0,0-.5-.1h0a2.25,2.25,0,0,0-1.49,4h0a2.16,2.16,0,0,0,.44.25,4.49,4.49,0,0,1,2.5,5.43,2.16,2.16,0,0,0-.1.5h0a2.25,2.25,0,0,0,4,1.49h0a2.16,2.16,0,0,0,.25-.44,4.49,4.49,0,0,1,5.43-2.5,2.16,2.16,0,0,0,.5.1h0a2.25,2.25,0,0,0,1.49-4h0A2.16,2.16,0,0,0,253.63,484.46Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"#fdd835\"\n        opacity=\"0.5\"\n      />\n      <circle cx=\"337.81\" cy=\"28.62\" r=\"7.34\" fill=\"#f55f44\" opacity=\"0.5\" />\n      <circle cx=\"7.34\" cy=\"317.46\" r=\"7.34\" fill=\"#f55f44\" opacity=\"0.5\" />\n      <circle cx=\"863.76\" cy=\"120.36\" r=\"7.34\" fill=\"#f55f44\" opacity=\"0.5\" />\n      <circle cx=\"822.17\" cy=\"339.3\" r=\"7.34\" fill=\"#4d8af0\" opacity=\"0.5\" />\n      <circle cx=\"37.68\" cy=\"145.22\" r=\"7.34\" fill=\"#47e6b1\" opacity=\"0.5\" />\n      <circle cx=\"853.29\" cy=\"647.34\" r=\"7.34\" fill=\"#47e6b1\" opacity=\"0.5\" />\n      <circle cx=\"910.8\" cy=\"430.97\" r=\"7.34\" fill=\"#47e6b1\" opacity=\"0.5\" />\n      <rect\n        x=\"544.42\"\n        y=\"601.05\"\n        width=\"186.48\"\n        height=\"153.07\"\n        fill=\"url(#fd8d88e0-7826-450d-9e0b-001d1be709c2)\"\n      />\n      <path\n        d=\"M723.82,639a54.55,54.55,0,0,1,109.1,0v34.91h15.27V639a69.82,69.82,0,0,0-139.65,0v34.91h15.27Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"url(#8d1793c5-b76e-44e2-a52e-569460402331)\"\n      />\n      <path\n        d=\"M726,638.25a52.37,52.37,0,1,1,104.74,0v33.52H845.4V638.25a67,67,0,0,0-134.06,0v33.52H726Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"#f5f5f5\"\n      />\n      <rect\n        x=\"546.32\"\n        y=\"602.45\"\n        width=\"182.24\"\n        height=\"148.73\"\n        fill=\"#6c63ff\"\n      />\n      <rect\n        x=\"546.32\"\n        y=\"602.45\"\n        width=\"182.24\"\n        height=\"148.73\"\n        fill=\"#f5f5f5\"\n      />\n      <rect\n        x=\"546.32\"\n        y=\"631.77\"\n        width=\"182.24\"\n        height=\"90.07\"\n        fill=\"#6c63ff\"\n      />\n      <path\n        d=\"M791.73,727a13.36,13.36,0,1,0-23.08,9.15v28.51a9.72,9.72,0,0,0,19.44,0V736.18A13.3,13.3,0,0,0,791.73,727Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        fill=\"url(#4745700d-8097-45ff-9f71-625443fc4ad8)\"\n      />\n      <path\n        d=\"M789.89,729.38a11.52,11.52,0,1,0-19.9,7.89v24.58a8.38,8.38,0,1,0,16.76,0V737.27A11.47,11.47,0,0,0,789.89,729.38Z\"\n        transform=\"translate(-140.93 -67.23)\"\n        opacity=\"0.2\"\n      />\n    </svg>\n  );\n};\n","const { __ } = wp.i18n;\n\nimport Illustration from \"./illustration\";\nconst { Flex, FlexItem, FlexBlock } = wp.components;\n\nexport default () => {\n  return (\n    <Flex style={{ padding: \"30px\", background: \"#fff\" }}>\n      <FlexItem>\n        <Illustration width=\"250px\" />\n      </FlexItem>\n      <FlexBlock style={{ marginLeft: \"20px\" }}>\n        <h1>{__(\"Get detailed video insights.\", \"presto-player\")}</h1>\n        <p>\n          {__(\n            \"Upgrade to Pro and get video insights like plays, watch-time, and drop off numbers.\",\n            \"presto-player\"\n          )}\n        </p>\n        <a\n          href=\"https://prestoplayer.com\"\n          target=\"_blank\"\n          className=\"button button-primary\"\n        >\n          {__(\"Learn More\", \"presto-player\")}\n        </a>\n      </FlexBlock>\n    </Flex>\n  );\n};\n","import { RouterContext } from \"./context\";\nconst { useContext } = wp.element;\nimport { match } from \"path-to-regexp\";\n\nexport function Route({ path, onRoute, children }) {\n  // Extract route from RouterContext\n  const { route } = useContext(RouterContext);\n\n  const checkMatch = match(`${path}`);\n  const matched = checkMatch(`${route.hash.substr(1)}`);\n\n  if (!matched) {\n    return null;\n  }\n\n  if (onRoute) {\n    onRoute();\n  }\n\n  return <div>{wp.element.cloneElement(children, { route: matched })}</div>;\n}\n","const { useContext } = wp.element;\nimport { RouterContext, history } from \"./context\";\nimport classNames from \"classNames\";\nimport { match } from \"path-to-regexp\";\n\nexport function Link(props) {\n  const { to, onClick, children, activeClassName } = props;\n  const { route } = useContext(RouterContext);\n\n  let state = { ...props };\n  delete state.activeClassName;\n\n  const isActive = () => {\n    const checkMatch = match(`${to}`);\n    return checkMatch(`${route.hash.substr(1)}`);\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    // Dont' navigate if current path\n    if (route.path === to) {\n      return;\n    }\n    // Trigger onClick prop manually\n    if (onClick) {\n      onClick(e);\n    }\n    // Use history API to navigate page\n    history.push(`#${to}`);\n  };\n\n  return (\n    <a\n      {...state}\n      className={classNames({ [activeClassName]: isActive() }, props.className)}\n      onClick={handleClick}\n    >\n      {children}\n    </a>\n  );\n}\n","const { Component } = wp.element;\nimport { locationToRoute } from \"./utils\";\nimport { history, RouterContext } from \"./context\";\nimport { Route } from \"./route\";\nimport { Link } from \"./link\";\nimport { match } from \"path-to-regexp\";\n\nclass Router extends Component {\n  constructor(props) {\n    super(props);\n\n    // Convert our routes into an array for easy 404 checking\n    this.routes = Object.keys(props.routes).map(\n      (key) => props.routes[key].path\n    );\n\n    // Listen for path changes from the history API\n    this.unlisten = history.listen(this.handleRouteChange);\n\n    const route = locationToRoute(history.location);\n\n    // Define the initial RouterContext value\n    this.state = {\n      route,\n      defaultRoute: props?.defaultRoute ? `#${props?.defaultRoute}` : \"#/\",\n    };\n  }\n\n  componentWillUnmount() {\n    // Stop listening for changes if the Router component unmounts\n    this.unlisten();\n  }\n\n  handleRouteChange = (location) => {\n    const route = locationToRoute(location?.location);\n    this.setState({ route: route });\n  };\n\n  render() {\n    // Define our variables\n    const { children, NotFound } = this.props;\n    const { route, defaultRoute } = this.state;\n\n    if (!route.hash) {\n      history.push(defaultRoute);\n      return <div></div>;\n    }\n\n    let matched = false;\n    // match route\n    (this.routes || []).forEach((name) => {\n      const checkMatch = match(route.hash.substr(1));\n      const isMatched = checkMatch(`${route.hash.substr(1)}`);\n      if (!isMatched) {\n        return;\n      }\n      matched = {\n        name,\n        data: isMatched,\n      };\n    });\n\n    const routerContextValue = { route, matched };\n\n    // Check if 404 if no route matched\n    const is404 = !matched;\n\n    return (\n      <RouterContext.Provider value={routerContextValue}>\n        {is404 ? <div>Not found</div> : children}\n      </RouterContext.Provider>\n    );\n  }\n}\nexport { history, RouterContext, Router, Route, Link };\n","export const routes = {\n  dashboard: {\n    path: \"/\",\n  },\n  video: {\n    path: \"/video/:id\",\n  },\n};\n","import Dashboard from \"./pages/Dashboard\";\nimport Video from \"./pages/Video\";\nimport AnalyticsUpgrade from \"./pages/AnalyticsUpgrade\";\n\nimport { Router, Route } from \"@/router\";\nimport { routes } from \"./routes\";\n\nexport default () => {\n  const scrollToTop = () => {\n    window.scrollTo(0, 0);\n  };\n\n  if (!prestoPlayer?.isPremium) {\n    return (\n      <div className=\"presto-dashboard__content\">\n        <AnalyticsUpgrade />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"presto-dashboard__content\">\n      <Router routes={routes}>\n        <Route path={routes.dashboard.path} onRoute={scrollToTop}>\n          <Dashboard />\n        </Route>\n        <Route path={routes.video.path} onRoute={scrollToTop}>\n          <Video />\n        </Route>\n      </Router>\n    </div>\n  );\n};\n","const { render } = wp.element;\n\n/**\n * App\n */\nimport App from \"./App\";\n\n/**\n * styles\n */\nimport \"./analytics.scss\";\n\n/**\n * Render\n */\nrender(<App />, document.getElementById(\"presto-analytics-page\"));\n"],"sourceRoot":""}